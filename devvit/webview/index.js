var yf=Object.defineProperty;var vf=(e,t,n)=>t in e?yf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var an=(e,t,n)=>vf(e,typeof t!="symbol"?t+"":t,n);function jf(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(r,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function fc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pc={exports:{}},Us={},mc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),wf=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),Cf=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),_f=Symbol.for("react.memo"),Rf=Symbol.for("react.lazy"),Li=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=Li&&e[Li]||e["@@iterator"],typeof e=="function"?e:null)}var xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hc=Object.assign,gc={};function zn(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||xc}zn.prototype.isReactComponent={};zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=zn.prototype;function Ma(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||xc}var La=Ma.prototype=new yc;La.constructor=Ma;hc(La,zn.prototype);La.isPureReactComponent=!0;var Oi=Array.isArray,vc=Object.prototype.hasOwnProperty,Oa={current:null},jc={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,l={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)vc.call(t,r)&&!jc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:_r,type:e,key:a,ref:i,props:l,_owner:Oa.current}}function If(e,t){return{$$typeof:_r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function za(e){return typeof e=="object"&&e!==null&&e.$$typeof===_r}function Mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zi=/\/+/g;function il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Mf(""+e.key):t.toString(36)}function rs(e,t,n,r,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _r:case Nf:i=!0}}if(i)return i=e,l=l(i),e=r===""?"."+il(i,0):r,Oi(l)?(n="",e!=null&&(n=e.replace(zi,"$&/")+"/"),rs(l,t,n,"",function(u){return u})):l!=null&&(za(l)&&(l=If(l,n+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(zi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,r=r===""?".":r+":",Oi(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+il(a,o);i+=rs(a,t,n,c,l)}else if(c=Tf(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+il(a,o++),i+=rs(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ar(e,t,n){if(e==null)return e;var r=[],l=0;return rs(e,r,"","",function(a){return t.call(n,a,l++)}),r}function Lf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ee={current:null},ss={transition:null},Of={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ss,ReactCurrentOwner:Oa};function wc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Ar,forEach:function(e,t,n){Ar(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ar(e,function(){t++}),t},toArray:function(e){return Ar(e,function(t){return t})||[]},only:function(e){if(!za(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};U.Component=zn;U.Fragment=wf;U.Profiler=kf;U.PureComponent=Ma;U.StrictMode=bf;U.Suspense=Pf;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Of;U.act=wc;U.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Oa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vc.call(t,c)&&!jc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:_r,type:e.type,key:l,ref:a,props:r,_owner:i}};U.createContext=function(e){return e={$$typeof:Cf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sf,_context:e},e.Consumer=e};U.createElement=Nc;U.createFactory=function(e){var t=Nc.bind(null,e);return t.type=e,t};U.createRef=function(){return{current:null}};U.forwardRef=function(e){return{$$typeof:Ef,render:e}};U.isValidElement=za;U.lazy=function(e){return{$$typeof:Rf,_payload:{_status:-1,_result:e},_init:Lf}};U.memo=function(e,t){return{$$typeof:_f,type:e,compare:t===void 0?null:t}};U.startTransition=function(e){var t=ss.transition;ss.transition={};try{e()}finally{ss.transition=t}};U.unstable_act=wc;U.useCallback=function(e,t){return Ee.current.useCallback(e,t)};U.useContext=function(e){return Ee.current.useContext(e)};U.useDebugValue=function(){};U.useDeferredValue=function(e){return Ee.current.useDeferredValue(e)};U.useEffect=function(e,t){return Ee.current.useEffect(e,t)};U.useId=function(){return Ee.current.useId()};U.useImperativeHandle=function(e,t,n){return Ee.current.useImperativeHandle(e,t,n)};U.useInsertionEffect=function(e,t){return Ee.current.useInsertionEffect(e,t)};U.useLayoutEffect=function(e,t){return Ee.current.useLayoutEffect(e,t)};U.useMemo=function(e,t){return Ee.current.useMemo(e,t)};U.useReducer=function(e,t,n){return Ee.current.useReducer(e,t,n)};U.useRef=function(e){return Ee.current.useRef(e)};U.useState=function(e){return Ee.current.useState(e)};U.useSyncExternalStore=function(e,t,n){return Ee.current.useSyncExternalStore(e,t,n)};U.useTransition=function(){return Ee.current.useTransition()};U.version="18.3.1";mc.exports=U;var w=mc.exports;const Da=fc(w),zf=jf({__proto__:null,default:Da},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=w,Af=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),Ff=Object.prototype.hasOwnProperty,Bf=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uf={key:!0,ref:!0,__self:!0,__source:!0};function bc(e,t,n){var r,l={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Ff.call(t,r)&&!Uf.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:Af,type:e,key:a,ref:i,props:l,_owner:Bf.current}}Us.Fragment=$f;Us.jsx=bc;Us.jsxs=bc;pc.exports=Us;var s=pc.exports,Dl={},kc={exports:{}},$e={},Sc={exports:{}},Cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var T=I.length;I.push(A);e:for(;0<T;){var D=T-1>>>1,H=I[D];if(0<l(H,A))I[D]=A,I[T]=H,T=D;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var A=I[0],T=I.pop();if(T!==A){I[0]=T;e:for(var D=0,H=I.length,pe=H>>>1;D<pe;){var O=2*(D+1)-1,M=I[O],F=O+1,ue=I[F];if(0>l(M,T))F<H&&0>l(ue,M)?(I[D]=ue,I[F]=T,D=F):(I[D]=M,I[O]=T,D=O);else if(F<H&&0>l(ue,T))I[D]=ue,I[F]=T,D=F;else break e}}return A}function l(I,A){var T=I.sortIndex-A.sortIndex;return T!==0?T:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],m=1,d=null,x=3,y=!1,p=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=I)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function j(I){if(v=!1,g(I),!p)if(n(c)!==null)p=!0,ae(E);else{var A=n(u);A!==null&&Le(j,A.startTime-I)}}function E(I,A){p=!1,v&&(v=!1,h(S),S=-1),y=!0;var T=x;try{for(g(A),d=n(c);d!==null&&(!(d.expirationTime>A)||I&&!W());){var D=d.callback;if(typeof D=="function"){d.callback=null,x=d.priorityLevel;var H=D(d.expirationTime<=A);A=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(c)&&r(c),g(A)}else r(c);d=n(c)}if(d!==null)var pe=!0;else{var O=n(u);O!==null&&Le(j,O.startTime-A),pe=!1}return pe}finally{d=null,x=T,y=!1}}var R=!1,_=null,S=-1,B=5,k=-1;function W(){return!(e.unstable_now()-k<B)}function K(){if(_!==null){var I=e.unstable_now();k=I;var A=!0;try{A=_(!0,I)}finally{A?G():(R=!1,_=null)}}else R=!1}var G;if(typeof f=="function")G=function(){f(K)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=K,G=function(){$.postMessage(null)}}else G=function(){b(K,0)};function ae(I){_=I,R||(R=!0,G())}function Le(I,A){S=b(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||y||(p=!0,ae(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var T=x;x=A;try{return I()}finally{x=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var T=x;x=I;try{return A()}finally{x=T}},e.unstable_scheduleCallback=function(I,A,T){var D=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=T+H,I={id:m++,callback:A,priorityLevel:I,startTime:T,expirationTime:H,sortIndex:-1},T>D?(I.sortIndex=T,t(u,I),n(c)===null&&I===n(u)&&(v?(h(S),S=-1):v=!0,Le(j,T-D))):(I.sortIndex=H,t(c,I),p||y||(p=!0,ae(E))),I},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(I){var A=x;return function(){var T=x;x=A;try{return I.apply(this,arguments)}finally{x=T}}}})(Cc);Sc.exports=Cc;var Gf=Sc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=w,Ae=Gf;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ec=new Set,ur={};function rn(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(ur[e]=t,e=0;e<t.length;e++)Ec.add(t[e])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,Wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Di={},Ai={};function Hf(e){return Al.call(Ai,e)?!0:Al.call(Di,e)?!1:Wf.test(e)?Ai[e]=!0:(Di[e]=!0,!1)}function Qf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yf(e,t,n,r){if(t===null||typeof t>"u"||Qf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,n,r,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function $a(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aa,$a);ve[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aa,$a);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aa,$a);ve[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fa(e,t,n,r){var l=ve.hasOwnProperty(t)?ve[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yf(t,n,l,r)&&(n=null),r||l===null?Hf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ht=Vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),un=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),Ba=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),Pc=Symbol.for("react.provider"),_c=Symbol.for("react.context"),Ua=Symbol.for("react.forward_ref"),Fl=Symbol.for("react.suspense"),Bl=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Rc=Symbol.for("react.offscreen"),$i=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=$i&&e[$i]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,ol;function Xn(e){if(ol===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ol=t&&t[1]||""}return`
`+ol+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=r.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Xn(e):""}function Kf(e){switch(e.tag){case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dn:return"Fragment";case un:return"Portal";case $l:return"Profiler";case Ba:return"StrictMode";case Fl:return"Suspense";case Bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _c:return(e.displayName||"Context")+".Consumer";case Pc:return(e._context.displayName||"Context")+".Provider";case Ua:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function qf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===Ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xf(e){var t=Tc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fr(e){e._valueTracker||(e._valueTracker=Xf(e))}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var n=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mc(e,t){t=t.checked,t!=null&&Fa(e,"checked",t,!1)}function Vl(e,t){Mc(e,t);var n=zt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wl(e,t,n){(t!=="number"||xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zn=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ui(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Zn(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zt(n)}}function Lc(e,t){var n=zt(t.value),r=zt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Br,zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zf=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){Zf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function Dc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function Ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Dc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Jf=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(e,t){if(t){if(Jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function Va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,bn=null,kn=null;function Vi(e){if(e=Ir(e)){if(typeof Xl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Qs(t),Xl(e.stateNode,e.type,t))}}function $c(e){bn?kn?kn.push(e):kn=[e]:bn=e}function Fc(){if(bn){var e=bn,t=kn;if(kn=bn=null,Vi(e),t)for(e=0;e<t.length;e++)Vi(t[e])}}function Bc(e,t){return e(t)}function Uc(){}var dl=!1;function Gc(e,t,n){if(dl)return e(t,n);dl=!0;try{return Bc(e,t,n)}finally{dl=!1,(bn!==null||kn!==null)&&(Uc(),Fc())}}function fr(e,t){var n=e.stateNode;if(n===null)return null;var r=Qs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Zl=!1;if(ft)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Zl=!1}function ep(e,t,n,r,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var nr=!1,hs=null,gs=!1,Jl=null,tp={onError:function(e){nr=!0,hs=e}};function np(e,t,n,r,l,a,i,o,c){nr=!1,hs=null,ep.apply(tp,arguments)}function rp(e,t,n,r,l,a,i,o,c){if(np.apply(this,arguments),nr){if(nr){var u=hs;nr=!1,hs=null}else throw Error(C(198));gs||(gs=!0,Jl=u)}}function sn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wi(e){if(sn(e)!==e)throw Error(C(188))}function sp(e){var t=e.alternate;if(!t){if(t=sn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Wi(l),e;if(a===r)return Wi(l),t;a=a.sibling}throw Error(C(188))}if(n.return!==r.return)n=l,r=a;else{for(var i=!1,o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Wc(e){return e=sp(e),e!==null?Hc(e):null}function Hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hc(e);if(t!==null)return t;e=e.sibling}return null}var Qc=Ae.unstable_scheduleCallback,Hi=Ae.unstable_cancelCallback,lp=Ae.unstable_shouldYield,ap=Ae.unstable_requestPaint,ie=Ae.unstable_now,ip=Ae.unstable_getCurrentPriorityLevel,Wa=Ae.unstable_ImmediatePriority,Yc=Ae.unstable_UserBlockingPriority,ys=Ae.unstable_NormalPriority,op=Ae.unstable_LowPriority,Kc=Ae.unstable_IdlePriority,Gs=null,st=null;function cp(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:fp,up=Math.log,dp=Math.LN2;function fp(e){return e>>>=0,e===0?32:31-(up(e)/dp|0)|0}var Ur=64,Gr=4194304;function Jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~l;o!==0?r=Jn(o):(a&=i,a!==0&&(r=Jn(a)))}else i=n&~l,i!==0?r=Jn(i):a!==0&&(r=Jn(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Xe(t),l=1<<n,r|=e[n],t&=~l;return r}function pp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Xe(a),o=1<<i,c=l[i];c===-1?(!(o&n)||o&r)&&(l[i]=pp(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qc(){var e=Ur;return Ur<<=1,!(Ur&4194240)&&(Ur=64),e}function fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xe(n),a=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~a}}function Ha(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xe(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var Q=0;function Xc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zc,Qa,Jc,eu,tu,ta=!1,Vr=[],Pt=null,_t=null,Rt=null,pr=new Map,mr=new Map,bt=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qi(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function Gn(e,t,n,r,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Ir(t),t!==null&&Qa(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function gp(e,t,n,r,l){switch(t){case"focusin":return Pt=Gn(Pt,e,t,n,r,l),!0;case"dragenter":return _t=Gn(_t,e,t,n,r,l),!0;case"mouseover":return Rt=Gn(Rt,e,t,n,r,l),!0;case"pointerover":var a=l.pointerId;return pr.set(a,Gn(pr.get(a)||null,e,t,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,mr.set(a,Gn(mr.get(a)||null,e,t,n,r,l)),!0}return!1}function nu(e){var t=Ht(e.target);if(t!==null){var n=sn(t);if(n!==null){if(t=n.tag,t===13){if(t=Vc(n),t!==null){e.blockedOn=t,tu(e.priority,function(){Jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ql=r,n.target.dispatchEvent(r),ql=null}else return t=Ir(n),t!==null&&Qa(t),e.blockedOn=n,!1;t.shift()}return!0}function Yi(e,t,n){ls(e)&&n.delete(t)}function yp(){ta=!1,Pt!==null&&ls(Pt)&&(Pt=null),_t!==null&&ls(_t)&&(_t=null),Rt!==null&&ls(Rt)&&(Rt=null),pr.forEach(Yi),mr.forEach(Yi)}function Vn(e,t){e.blockedOn===t&&(e.blockedOn=null,ta||(ta=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,yp)))}function xr(e){function t(l){return Vn(l,e)}if(0<Vr.length){Vn(Vr[0],e);for(var n=1;n<Vr.length;n++){var r=Vr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&Vn(Pt,e),_t!==null&&Vn(_t,e),Rt!==null&&Vn(Rt,e),pr.forEach(t),mr.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)nu(n),n.blockedOn===null&&bt.shift()}var Sn=ht.ReactCurrentBatchConfig,js=!0;function vp(e,t,n,r){var l=Q,a=Sn.transition;Sn.transition=null;try{Q=1,Ya(e,t,n,r)}finally{Q=l,Sn.transition=a}}function jp(e,t,n,r){var l=Q,a=Sn.transition;Sn.transition=null;try{Q=4,Ya(e,t,n,r)}finally{Q=l,Sn.transition=a}}function Ya(e,t,n,r){if(js){var l=na(e,t,n,r);if(l===null)wl(e,t,r,Ns,n),Qi(e,r);else if(gp(l,e,t,n,r))r.stopPropagation();else if(Qi(e,r),t&4&&-1<hp.indexOf(e)){for(;l!==null;){var a=Ir(l);if(a!==null&&Zc(a),a=na(e,t,n,r),a===null&&wl(e,t,r,Ns,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else wl(e,t,r,null,n)}}var Ns=null;function na(e,t,n,r){if(Ns=null,e=Va(r),e=Ht(e),e!==null)if(t=sn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function ru(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ip()){case Wa:return 1;case Yc:return 4;case ys:case op:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var St=null,Ka=null,as=null;function su(){if(as)return as;var e,t=Ka,n=t.length,r,l="value"in St?St.value:St.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===l[a-r];r++);return as=l.slice(e,1<r?1-r:void 0)}function is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wr(){return!0}function Ki(){return!1}function Fe(e){function t(n,r,l,a,i){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wr:Ki,this.isPropagationStopped=Ki,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wr)},persist:function(){},isPersistent:Wr}),t}var Dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Fe(Dn),Tr=se({},Dn,{view:0,detail:0}),Np=Fe(Tr),pl,ml,Wn,Vs=se({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(pl=e.screenX-Wn.screenX,ml=e.screenY-Wn.screenY):ml=pl=0,Wn=e),pl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),qi=Fe(Vs),wp=se({},Vs,{dataTransfer:0}),bp=Fe(wp),kp=se({},Tr,{relatedTarget:0}),xl=Fe(kp),Sp=se({},Dn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cp=Fe(Sp),Ep=se({},Dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pp=Fe(Ep),_p=se({},Dn,{data:0}),Xi=Fe(_p),Rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ip[e])?!!t[e]:!1}function Xa(){return Mp}var Lp=se({},Tr,{key:function(e){if(e.key){var t=Rp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=Fe(Lp),zp=se({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Fe(zp),Dp=se({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Ap=Fe(Dp),$p=se({},Dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=Fe($p),Bp=se({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=Fe(Bp),Gp=[9,13,27,32],Za=ft&&"CompositionEvent"in window,rr=null;ft&&"documentMode"in document&&(rr=document.documentMode);var Vp=ft&&"TextEvent"in window&&!rr,lu=ft&&(!Za||rr&&8<rr&&11>=rr),Ji=" ",eo=!1;function au(e,t){switch(e){case"keyup":return Gp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function Wp(e,t){switch(e){case"compositionend":return iu(t);case"keypress":return t.which!==32?null:(eo=!0,Ji);case"textInput":return e=t.data,e===Ji&&eo?null:e;default:return null}}function Hp(e,t){if(fn)return e==="compositionend"||!Za&&au(e,t)?(e=su(),as=Ka=St=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lu&&t.locale!=="ko"?null:t.data;default:return null}}var Qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qp[e.type]:t==="textarea"}function ou(e,t,n,r){$c(r),t=ws(t,"onChange"),0<t.length&&(n=new qa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,hr=null;function Yp(e){vu(e,0)}function Ws(e){var t=xn(e);if(Ic(t))return e}function Kp(e,t){if(e==="change")return t}var cu=!1;if(ft){var hl;if(ft){var gl="oninput"in document;if(!gl){var no=document.createElement("div");no.setAttribute("oninput","return;"),gl=typeof no.oninput=="function"}hl=gl}else hl=!1;cu=hl&&(!document.documentMode||9<document.documentMode)}function ro(){sr&&(sr.detachEvent("onpropertychange",uu),hr=sr=null)}function uu(e){if(e.propertyName==="value"&&Ws(hr)){var t=[];ou(t,hr,e,Va(e)),Gc(Yp,t)}}function qp(e,t,n){e==="focusin"?(ro(),sr=t,hr=n,sr.attachEvent("onpropertychange",uu)):e==="focusout"&&ro()}function Xp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(hr)}function Zp(e,t){if(e==="click")return Ws(t)}function Jp(e,t){if(e==="input"||e==="change")return Ws(t)}function em(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:em;function gr(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Al.call(t,l)||!Je(e[l],t[l]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lo(e,t){var n=so(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=so(n)}}function du(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?du(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fu(){for(var e=window,t=xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xs(e.document)}return t}function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tm(e){var t=fu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&du(n.ownerDocument.documentElement,n)){if(r!==null&&Ja(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!e.extend&&a>r&&(l=r,r=a,a=l),l=lo(n,a);var i=lo(n,r);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nm=ft&&"documentMode"in document&&11>=document.documentMode,pn=null,ra=null,lr=null,sa=!1;function ao(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sa||pn==null||pn!==xs(r)||(r=pn,"selectionStart"in r&&Ja(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&gr(lr,r)||(lr=r,r=ws(ra,"onSelect"),0<r.length&&(t=new qa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pn)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mn={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionend:Hr("Transition","TransitionEnd")},yl={},pu={};ft&&(pu=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function Hs(e){if(yl[e])return yl[e];if(!mn[e])return e;var t=mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pu)return yl[e]=t[n];return e}var mu=Hs("animationend"),xu=Hs("animationiteration"),hu=Hs("animationstart"),gu=Hs("transitionend"),yu=new Map,io="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){yu.set(e,t),rn(t,[e])}for(var vl=0;vl<io.length;vl++){var jl=io[vl],rm=jl.toLowerCase(),sm=jl[0].toUpperCase()+jl.slice(1);At(rm,"on"+sm)}At(mu,"onAnimationEnd");At(xu,"onAnimationIteration");At(hu,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(gu,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function oo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rp(r,t,void 0,e),e.currentTarget=null}function vu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;oo(l,o,u),a=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;oo(l,o,u),a=c}}}if(gs)throw e=Jl,gs=!1,Jl=null,e}function Z(e,t){var n=t[ca];n===void 0&&(n=t[ca]=new Set);var r=e+"__bubble";n.has(r)||(ju(t,e,2,!1),n.add(r))}function Nl(e,t,n){var r=0;t&&(r|=4),ju(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function yr(e){if(!e[Qr]){e[Qr]=!0,Ec.forEach(function(n){n!=="selectionchange"&&(lm.has(n)||Nl(n,!1,e),Nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,Nl("selectionchange",!1,t))}}function ju(e,t,n,r){switch(ru(t)){case 1:var l=vp;break;case 4:l=jp;break;default:l=Ya}n=l.bind(null,t,n,e),l=void 0,!Zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function wl(e,t,n,r,l){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=Ht(o),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Gc(function(){var u=a,m=Va(n),d=[];e:{var x=yu.get(e);if(x!==void 0){var y=qa,p=e;switch(e){case"keypress":if(is(n)===0)break e;case"keydown":case"keyup":y=Op;break;case"focusin":p="focus",y=xl;break;case"focusout":p="blur",y=xl;break;case"beforeblur":case"afterblur":y=xl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ap;break;case mu:case xu:case hu:y=Cp;break;case gu:y=Fp;break;case"scroll":y=Np;break;case"wheel":y=Up;break;case"copy":case"cut":case"paste":y=Pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Zi}var v=(t&4)!==0,b=!v&&e==="scroll",h=v?x!==null?x+"Capture":null:x;v=[];for(var f=u,g;f!==null;){g=f;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,h!==null&&(j=fr(f,h),j!=null&&v.push(vr(f,j,g)))),b)break;f=f.return}0<v.length&&(x=new y(x,p,null,n,m),d.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&n!==ql&&(p=n.relatedTarget||n.fromElement)&&(Ht(p)||p[pt]))break e;if((y||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,y?(p=n.relatedTarget||n.toElement,y=u,p=p?Ht(p):null,p!==null&&(b=sn(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(y=null,p=u),y!==p)){if(v=qi,j="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Zi,j="onPointerLeave",h="onPointerEnter",f="pointer"),b=y==null?x:xn(y),g=p==null?x:xn(p),x=new v(j,f+"leave",y,n,m),x.target=b,x.relatedTarget=g,j=null,Ht(m)===u&&(v=new v(h,f+"enter",p,n,m),v.target=g,v.relatedTarget=b,j=v),b=j,y&&p)t:{for(v=y,h=p,f=0,g=v;g;g=on(g))f++;for(g=0,j=h;j;j=on(j))g++;for(;0<f-g;)v=on(v),f--;for(;0<g-f;)h=on(h),g--;for(;f--;){if(v===h||h!==null&&v===h.alternate)break t;v=on(v),h=on(h)}v=null}else v=null;y!==null&&co(d,x,y,v,!1),p!==null&&b!==null&&co(d,b,p,v,!0)}}e:{if(x=u?xn(u):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var E=Kp;else if(to(x))if(cu)E=Jp;else{E=Xp;var R=qp}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Zp);if(E&&(E=E(e,u))){ou(d,E,n,m);break e}R&&R(e,x,u),e==="focusout"&&(R=x._wrapperState)&&R.controlled&&x.type==="number"&&Wl(x,"number",x.value)}switch(R=u?xn(u):window,e){case"focusin":(to(R)||R.contentEditable==="true")&&(pn=R,ra=u,lr=null);break;case"focusout":lr=ra=pn=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,ao(d,n,m);break;case"selectionchange":if(nm)break;case"keydown":case"keyup":ao(d,n,m)}var _;if(Za)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else fn?au(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(lu&&n.locale!=="ko"&&(fn||S!=="onCompositionStart"?S==="onCompositionEnd"&&fn&&(_=su()):(St=m,Ka="value"in St?St.value:St.textContent,fn=!0)),R=ws(u,S),0<R.length&&(S=new Xi(S,e,null,n,m),d.push({event:S,listeners:R}),_?S.data=_:(_=iu(n),_!==null&&(S.data=_)))),(_=Vp?Wp(e,n):Hp(e,n))&&(u=ws(u,"onBeforeInput"),0<u.length&&(m=new Xi("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:u}),m.data=_))}vu(d,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=fr(e,n),a!=null&&r.unshift(vr(e,a,l)),a=fr(e,t),a!=null&&r.push(vr(e,a,l))),e=e.return}return r}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function co(e,t,n,r,l){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,l?(c=fr(n,a),c!=null&&i.unshift(vr(n,c,o))):l||(c=fr(n,a),c!=null&&i.push(vr(n,c,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var am=/\r\n?/g,im=/\u0000|\uFFFD/g;function uo(e){return(typeof e=="string"?e:""+e).replace(am,`
`).replace(im,"")}function Yr(e,t,n){if(t=uo(t),uo(e)!==t&&n)throw Error(C(425))}function bs(){}var la=null,aa=null;function ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oa=typeof setTimeout=="function"?setTimeout:void 0,om=typeof clearTimeout=="function"?clearTimeout:void 0,fo=typeof Promise=="function"?Promise:void 0,cm=typeof queueMicrotask=="function"?queueMicrotask:typeof fo<"u"?function(e){return fo.resolve(null).then(e).catch(um)}:oa;function um(e){setTimeout(function(){throw e})}function bl(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),xr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);xr(t)}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),rt="__reactFiber$"+An,jr="__reactProps$"+An,pt="__reactContainer$"+An,ca="__reactEvents$"+An,dm="__reactListeners$"+An,fm="__reactHandles$"+An;function Ht(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pt]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=po(e);e!==null;){if(n=e[rt])return n;e=po(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[rt]||e[pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Qs(e){return e[jr]||null}var ua=[],hn=-1;function $t(e){return{current:e}}function J(e){0>hn||(e.current=ua[hn],ua[hn]=null,hn--)}function X(e,t){hn++,ua[hn]=e.current,e.current=t}var Dt={},be=$t(Dt),Te=$t(!1),Zt=Dt;function _n(e,t){var n=e.type.contextTypes;if(!n)return Dt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ie(e){return e=e.childContextTypes,e!=null}function ks(){J(Te),J(be)}function mo(e,t,n){if(be.current!==Dt)throw Error(C(168));X(be,t),X(Te,n)}function Nu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(C(108,qf(e)||"Unknown",l));return se({},n,r)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,Zt=be.current,X(be,e),X(Te,Te.current),!0}function xo(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Nu(e,t,Zt),r.__reactInternalMemoizedMergedChildContext=e,J(Te),J(be),X(be,e)):J(Te),X(Te,n)}var ot=null,Ys=!1,kl=!1;function wu(e){ot===null?ot=[e]:ot.push(e)}function pm(e){Ys=!0,wu(e)}function Ft(){if(!kl&&ot!==null){kl=!0;var e=0,t=Q;try{var n=ot;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ot=null,Ys=!1}catch(l){throw ot!==null&&(ot=ot.slice(e+1)),Qc(Wa,Ft),l}finally{Q=t,kl=!1}}return null}var gn=[],yn=0,Cs=null,Es=0,Be=[],Ue=0,Jt=null,ct=1,ut="";function Gt(e,t){gn[yn++]=Es,gn[yn++]=Cs,Cs=e,Es=t}function bu(e,t,n){Be[Ue++]=ct,Be[Ue++]=ut,Be[Ue++]=Jt,Jt=e;var r=ct;e=ut;var l=32-Xe(r)-1;r&=~(1<<l),n+=1;var a=32-Xe(t)+l;if(30<a){var i=l-l%5;a=(r&(1<<i)-1).toString(32),r>>=i,l-=i,ct=1<<32-Xe(t)+l|n<<l|r,ut=a+e}else ct=1<<a|n<<l|r,ut=e}function ei(e){e.return!==null&&(Gt(e,1),bu(e,1,0))}function ti(e){for(;e===Cs;)Cs=gn[--yn],gn[yn]=null,Es=gn[--yn],gn[yn]=null;for(;e===Jt;)Jt=Be[--Ue],Be[Ue]=null,ut=Be[--Ue],Be[Ue]=null,ct=Be[--Ue],Be[Ue]=null}var De=null,ze=null,ee=!1,qe=null;function ku(e,t){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ho(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,ze=Tt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jt!==null?{id:ct,overflow:ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,ze=null,!0):!1;default:return!1}}function da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fa(e){if(ee){var t=ze;if(t){var n=t;if(!ho(e,t)){if(da(e))throw Error(C(418));t=Tt(n.nextSibling);var r=De;t&&ho(e,t)?ku(r,n):(e.flags=e.flags&-4097|2,ee=!1,De=e)}}else{if(da(e))throw Error(C(418));e.flags=e.flags&-4097|2,ee=!1,De=e}}}function go(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function Kr(e){if(e!==De)return!1;if(!ee)return go(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ia(e.type,e.memoizedProps)),t&&(t=ze)){if(da(e))throw Su(),Error(C(418));for(;t;)ku(e,t),t=Tt(t.nextSibling)}if(go(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=Tt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=De?Tt(e.stateNode.nextSibling):null;return!0}function Su(){for(var e=ze;e;)e=Tt(e.nextSibling)}function Rn(){ze=De=null,ee=!1}function ni(e){qe===null?qe=[e]:qe.push(e)}var mm=ht.ReactCurrentBatchConfig;function Hn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var l=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function qr(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){var t=e._init;return t(e._payload)}function Cu(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function l(h,f){return h=Ot(h,f),h.index=0,h.sibling=null,h}function a(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,f,g,j){return f===null||f.tag!==6?(f=Tl(g,h.mode,j),f.return=h,f):(f=l(f,g),f.return=h,f)}function c(h,f,g,j){var E=g.type;return E===dn?m(h,f,g.props.children,j,g.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nt&&yo(E)===f.type)?(j=l(f,g.props),j.ref=Hn(h,f,g),j.return=h,j):(j=ms(g.type,g.key,g.props,null,h.mode,j),j.ref=Hn(h,f,g),j.return=h,j)}function u(h,f,g,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Il(g,h.mode,j),f.return=h,f):(f=l(f,g.children||[]),f.return=h,f)}function m(h,f,g,j,E){return f===null||f.tag!==7?(f=qt(g,h.mode,j,E),f.return=h,f):(f=l(f,g),f.return=h,f)}function d(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Tl(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $r:return g=ms(f.type,f.key,f.props,null,h.mode,g),g.ref=Hn(h,null,f),g.return=h,g;case un:return f=Il(f,h.mode,g),f.return=h,f;case Nt:var j=f._init;return d(h,j(f._payload),g)}if(Zn(f)||Bn(f))return f=qt(f,h.mode,g,null),f.return=h,f;qr(h,f)}return null}function x(h,f,g,j){var E=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:o(h,f,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:return g.key===E?c(h,f,g,j):null;case un:return g.key===E?u(h,f,g,j):null;case Nt:return E=g._init,x(h,f,E(g._payload),j)}if(Zn(g)||Bn(g))return E!==null?null:m(h,f,g,j,null);qr(h,g)}return null}function y(h,f,g,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return h=h.get(g)||null,o(f,h,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $r:return h=h.get(j.key===null?g:j.key)||null,c(f,h,j,E);case un:return h=h.get(j.key===null?g:j.key)||null,u(f,h,j,E);case Nt:var R=j._init;return y(h,f,g,R(j._payload),E)}if(Zn(j)||Bn(j))return h=h.get(g)||null,m(f,h,j,E,null);qr(f,j)}return null}function p(h,f,g,j){for(var E=null,R=null,_=f,S=f=0,B=null;_!==null&&S<g.length;S++){_.index>S?(B=_,_=null):B=_.sibling;var k=x(h,_,g[S],j);if(k===null){_===null&&(_=B);break}e&&_&&k.alternate===null&&t(h,_),f=a(k,f,S),R===null?E=k:R.sibling=k,R=k,_=B}if(S===g.length)return n(h,_),ee&&Gt(h,S),E;if(_===null){for(;S<g.length;S++)_=d(h,g[S],j),_!==null&&(f=a(_,f,S),R===null?E=_:R.sibling=_,R=_);return ee&&Gt(h,S),E}for(_=r(h,_);S<g.length;S++)B=y(_,h,S,g[S],j),B!==null&&(e&&B.alternate!==null&&_.delete(B.key===null?S:B.key),f=a(B,f,S),R===null?E=B:R.sibling=B,R=B);return e&&_.forEach(function(W){return t(h,W)}),ee&&Gt(h,S),E}function v(h,f,g,j){var E=Bn(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var R=E=null,_=f,S=f=0,B=null,k=g.next();_!==null&&!k.done;S++,k=g.next()){_.index>S?(B=_,_=null):B=_.sibling;var W=x(h,_,k.value,j);if(W===null){_===null&&(_=B);break}e&&_&&W.alternate===null&&t(h,_),f=a(W,f,S),R===null?E=W:R.sibling=W,R=W,_=B}if(k.done)return n(h,_),ee&&Gt(h,S),E;if(_===null){for(;!k.done;S++,k=g.next())k=d(h,k.value,j),k!==null&&(f=a(k,f,S),R===null?E=k:R.sibling=k,R=k);return ee&&Gt(h,S),E}for(_=r(h,_);!k.done;S++,k=g.next())k=y(_,h,S,k.value,j),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?S:k.key),f=a(k,f,S),R===null?E=k:R.sibling=k,R=k);return e&&_.forEach(function(K){return t(h,K)}),ee&&Gt(h,S),E}function b(h,f,g,j){if(typeof g=="object"&&g!==null&&g.type===dn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $r:e:{for(var E=g.key,R=f;R!==null;){if(R.key===E){if(E=g.type,E===dn){if(R.tag===7){n(h,R.sibling),f=l(R,g.props.children),f.return=h,h=f;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nt&&yo(E)===R.type){n(h,R.sibling),f=l(R,g.props),f.ref=Hn(h,R,g),f.return=h,h=f;break e}n(h,R);break}else t(h,R);R=R.sibling}g.type===dn?(f=qt(g.props.children,h.mode,j,g.key),f.return=h,h=f):(j=ms(g.type,g.key,g.props,null,h.mode,j),j.ref=Hn(h,f,g),j.return=h,h=j)}return i(h);case un:e:{for(R=g.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=l(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=Il(g,h.mode,j),f.return=h,h=f}return i(h);case Nt:return R=g._init,b(h,f,R(g._payload),j)}if(Zn(g))return p(h,f,g,j);if(Bn(g))return v(h,f,g,j);qr(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=l(f,g),f.return=h,h=f):(n(h,f),f=Tl(g,h.mode,j),f.return=h,h=f),i(h)):n(h,f)}return b}var Tn=Cu(!0),Eu=Cu(!1),Ps=$t(null),_s=null,vn=null,ri=null;function si(){ri=vn=_s=null}function li(e){var t=Ps.current;J(Ps),e._currentValue=t}function pa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cn(e,t){_s=e,ri=vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(ri!==e)if(e={context:e,memoizedValue:t,next:null},vn===null){if(_s===null)throw Error(C(308));vn=e,_s.dependencies={lanes:0,firstContext:e}}else vn=vn.next=e;return t}var Qt=null;function ai(e){Qt===null?Qt=[e]:Qt.push(e)}function Pu(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ai(t)):(n.next=l.next,l.next=n),t.interleaved=n,mt(e,r)}function mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wt=!1;function ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,V&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,mt(e,n)}return l=r.interleaved,l===null?(t.next=t,ai(r)):(t.next=l.next,l.next=t),r.interleaved=t,mt(e,n)}function os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ha(e,n)}}function vo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Rs(e,t,n,r){var l=e.updateQueue;wt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==i&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=c))}if(a!==null){var d=l.baseState;i=0,m=u=c=null,o=a;do{var x=o.lane,y=o.eventTime;if((r&x)===x){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(x=t,y=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){d=p.call(y,d,x);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,x=typeof p=="function"?p.call(y,d,x):p,x==null)break e;d=se({},d,x);break e;case 2:wt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=l.effects,x===null?l.effects=[o]:x.push(o))}else y={eventTime:y,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=y,c=d):m=m.next=y,i|=x;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;x=o,o=x.next,x.next=null,l.lastBaseUpdate=x,l.shared.pending=null}}while(!0);if(m===null&&(c=d),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);tn|=i,e.lanes=i,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(C(191,l));l.call(r)}}}var Mr={},lt=$t(Mr),Nr=$t(Mr),wr=$t(Mr);function Yt(e){if(e===Mr)throw Error(C(174));return e}function oi(e,t){switch(X(wr,t),X(Nr,e),X(lt,Mr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ql(t,e)}J(lt),X(lt,t)}function In(){J(lt),J(Nr),J(wr)}function Ru(e){Yt(wr.current);var t=Yt(lt.current),n=Ql(t,e.type);t!==n&&(X(Nr,e),X(lt,n))}function ci(e){Nr.current===e&&(J(lt),J(Nr))}var ne=$t(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function ui(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var cs=ht.ReactCurrentDispatcher,Cl=ht.ReactCurrentBatchConfig,en=0,re=null,de=null,xe=null,Is=!1,ar=!1,br=0,xm=0;function je(){throw Error(C(321))}function di(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Je(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,l,a){if(en=a,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cs.current=e===null||e.memoizedState===null?vm:jm,e=n(r,l),ar){a=0;do{if(ar=!1,br=0,25<=a)throw Error(C(301));a+=1,xe=de=null,t.updateQueue=null,cs.current=Nm,e=n(r,l)}while(ar)}if(cs.current=Ms,t=de!==null&&de.next!==null,en=0,xe=de=re=null,Is=!1,t)throw Error(C(300));return e}function pi(){var e=br!==0;return br=0,e}function nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?re.memoizedState=xe=e:xe=xe.next=e,xe}function He(){if(de===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=xe===null?re.memoizedState:xe.next;if(t!==null)xe=t,de=e;else{if(e===null)throw Error(C(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},xe===null?re.memoizedState=xe=e:xe=xe.next=e}return xe}function kr(e,t){return typeof t=="function"?t(e):t}function El(e){var t=He(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=de,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var o=i=null,c=null,u=a;do{var m=u.lane;if((en&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=d,i=r):c=c.next=d,re.lanes|=m,tn|=m}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=o,Je(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do a=l.lane,re.lanes|=a,tn|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pl(e){var t=He(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);Je(a,t.memoizedState)||(Re=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Tu(){}function Iu(e,t){var n=re,r=He(),l=t(),a=!Je(r.memoizedState,l);if(a&&(r.memoizedState=l,Re=!0),r=r.queue,mi(Ou.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Sr(9,Lu.bind(null,n,r,l,t),void 0,null),he===null)throw Error(C(349));en&30||Mu(n,t,l)}return l}function Mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lu(e,t,n,r){t.value=n,t.getSnapshot=r,zu(t)&&Du(e)}function Ou(e,t,n){return n(function(){zu(t)&&Du(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Je(e,n)}catch{return!0}}function Du(e){var t=mt(e,1);t!==null&&Ze(t,e,1,-1)}function No(e){var t=nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:e},t.queue=e,e=e.dispatch=ym.bind(null,re,e),[t.memoizedState,e]}function Sr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Au(){return He().memoizedState}function us(e,t,n,r){var l=nt();re.flags|=e,l.memoizedState=Sr(1|t,n,void 0,r===void 0?null:r)}function Ks(e,t,n,r){var l=He();r=r===void 0?null:r;var a=void 0;if(de!==null){var i=de.memoizedState;if(a=i.destroy,r!==null&&di(r,i.deps)){l.memoizedState=Sr(t,n,a,r);return}}re.flags|=e,l.memoizedState=Sr(1|t,n,a,r)}function wo(e,t){return us(8390656,8,e,t)}function mi(e,t){return Ks(2048,8,e,t)}function $u(e,t){return Ks(4,2,e,t)}function Fu(e,t){return Ks(4,4,e,t)}function Bu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uu(e,t,n){return n=n!=null?n.concat([e]):null,Ks(4,4,Bu.bind(null,t,e),n)}function xi(){}function Gu(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&di(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vu(e,t){var n=He();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&di(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wu(e,t,n){return en&21?(Je(n,t)||(n=qc(),re.lanes|=n,tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function hm(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{Q=n,Cl.transition=r}}function Hu(){return He().memoizedState}function gm(e,t,n){var r=Lt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qu(e))Yu(t,n);else if(n=Pu(e,t,n,r),n!==null){var l=Ce();Ze(n,e,r,l),Ku(n,t,r)}}function ym(e,t,n){var r=Lt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Yu(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(l.hasEagerState=!0,l.eagerState=o,Je(o,i)){var c=t.interleaved;c===null?(l.next=l,ai(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Pu(e,t,l,r),n!==null&&(l=Ce(),Ze(n,e,r,l),Ku(n,t,r))}}function Qu(e){var t=e.alternate;return e===re||t!==null&&t===re}function Yu(e,t){ar=Is=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ku(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ha(e,n)}}var Ms={readContext:We,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},vm={readContext:We,useCallback:function(e,t){return nt().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:wo,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,us(4194308,4,Bu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return us(4194308,4,e,t)},useInsertionEffect:function(e,t){return us(4,2,e,t)},useMemo:function(e,t){var n=nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gm.bind(null,re,e),[r.memoizedState,e]},useRef:function(e){var t=nt();return e={current:e},t.memoizedState=e},useState:No,useDebugValue:xi,useDeferredValue:function(e){return nt().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=hm.bind(null,e[1]),nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=re,l=nt();if(ee){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),he===null)throw Error(C(349));en&30||Mu(r,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,wo(Ou.bind(null,r,a,e),[e]),r.flags|=2048,Sr(9,Lu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=nt(),t=he.identifierPrefix;if(ee){var n=ut,r=ct;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jm={readContext:We,useCallback:Gu,useContext:We,useEffect:mi,useImperativeHandle:Uu,useInsertionEffect:$u,useLayoutEffect:Fu,useMemo:Vu,useReducer:El,useRef:Au,useState:function(){return El(kr)},useDebugValue:xi,useDeferredValue:function(e){var t=He();return Wu(t,de.memoizedState,e)},useTransition:function(){var e=El(kr)[0],t=He().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Iu,useId:Hu,unstable_isNewReconciler:!1},Nm={readContext:We,useCallback:Gu,useContext:We,useEffect:mi,useImperativeHandle:Uu,useInsertionEffect:$u,useLayoutEffect:Fu,useMemo:Vu,useReducer:Pl,useRef:Au,useState:function(){return Pl(kr)},useDebugValue:xi,useDeferredValue:function(e){var t=He();return de===null?t.memoizedState=e:Wu(t,de.memoizedState,e)},useTransition:function(){var e=Pl(kr)[0],t=He().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Iu,useId:Hu,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ma(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qs={isMounted:function(e){return(e=e._reactInternals)?sn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ce(),l=Lt(e),a=dt(r,l);a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(Ze(t,e,l,r),os(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ce(),l=Lt(e),a=dt(r,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(Ze(t,e,l,r),os(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),r=Lt(e),l=dt(n,r);l.tag=2,t!=null&&(l.callback=t),t=It(e,l,r),t!==null&&(Ze(t,e,r,n),os(t,e,r))}};function bo(e,t,n,r,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!gr(n,r)||!gr(l,a):!0}function qu(e,t,n){var r=!1,l=Dt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(l=Ie(t)?Zt:be.current,r=t.contextTypes,a=(r=r!=null)?_n(e,l):Dt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function ko(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&qs.enqueueReplaceState(t,t.state,null)}function xa(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},ii(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=We(a):(a=Ie(t)?Zt:be.current,l.context=_n(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ma(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&qs.enqueueReplaceState(l,l.state,null),Rs(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,t){try{var n="",r=t;do n+=Kf(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function _l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wm=typeof WeakMap=="function"?WeakMap:Map;function Xu(e,t,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Os||(Os=!0,Ca=r),ha(e,t)},n}function Zu(e,t,n){n=dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){ha(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ha(e,t),typeof r!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function So(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=zm.bind(null,e,t,n),t.then(e,e))}function Co(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Eo(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dt(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var bm=ht.ReactCurrentOwner,Re=!1;function ke(e,t,n,r){t.child=e===null?Eu(t,null,n,r):Tn(t,e.child,n,r)}function Po(e,t,n,r,l){n=n.render;var a=t.ref;return Cn(t,l),r=fi(e,t,n,r,a,l),n=pi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xt(e,t,l)):(ee&&n&&ei(t),t.flags|=1,ke(e,t,r,l),t.child)}function _o(e,t,n,r,l){if(e===null){var a=n.type;return typeof a=="function"&&!bi(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ju(e,t,a,r,l)):(e=ms(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:gr,n(i,r)&&e.ref===t.ref)return xt(e,t,l)}return t.flags|=1,e=Ot(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ju(e,t,n,r,l){if(e!==null){var a=e.memoizedProps;if(gr(a,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=a,(e.lanes&l)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,xt(e,t,l)}return ga(e,t,n,r,l)}function ed(e,t,n){var r=t.pendingProps,l=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Nn,Oe),Oe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Nn,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,X(Nn,Oe),Oe|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,X(Nn,Oe),Oe|=r;return ke(e,t,l,n),t.child}function td(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ga(e,t,n,r,l){var a=Ie(n)?Zt:be.current;return a=_n(t,a),Cn(t,l),n=fi(e,t,n,r,a,l),r=pi(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,xt(e,t,l)):(ee&&r&&ei(t),t.flags|=1,ke(e,t,n,l),t.child)}function Ro(e,t,n,r,l){if(Ie(n)){var a=!0;Ss(t)}else a=!1;if(Cn(t,l),t.stateNode===null)ds(e,t),qu(t,n,r),xa(t,n,r,l),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=We(u):(u=Ie(n)?Zt:be.current,u=_n(t,u));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==u)&&ko(t,i,r,u),wt=!1;var x=t.memoizedState;i.state=x,Rs(t,r,i,l),c=t.memoizedState,o!==r||x!==c||Te.current||wt?(typeof m=="function"&&(ma(t,n,m,r),c=t.memoizedState),(o=wt||bo(t,n,o,r,x,c,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_u(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ye(t.type,o),i.props=u,d=t.pendingProps,x=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=We(c):(c=Ie(n)?Zt:be.current,c=_n(t,c));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||x!==c)&&ko(t,i,r,c),wt=!1,x=t.memoizedState,i.state=x,Rs(t,r,i,l);var p=t.memoizedState;o!==d||x!==p||Te.current||wt?(typeof y=="function"&&(ma(t,n,y,r),p=t.memoizedState),(u=wt||bo(t,n,u,r,x,p,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return ya(e,t,n,r,a,l)}function ya(e,t,n,r,l,a){td(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return l&&xo(t,n,!1),xt(e,t,a);r=t.stateNode,bm.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Tn(t,e.child,null,a),t.child=Tn(t,null,o,a)):ke(e,t,o,a),t.memoizedState=r.state,l&&xo(t,n,!0),t.child}function nd(e){var t=e.stateNode;t.pendingContext?mo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mo(e,t.context,!1),oi(e,t.containerInfo)}function To(e,t,n,r,l){return Rn(),ni(l),t.flags|=256,ke(e,t,n,r),t.child}var va={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function rd(e,t,n){var r=t.pendingProps,l=ne.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),X(ne,l&1),e===null)return fa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Js(i,r,0,null),e=qt(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=va,e):hi(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return km(e,t,i,r,o,l,n);if(a){a=r.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ot(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Ot(o,a):(a=qt(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?ja(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=va,r}return a=e.child,e=a.sibling,r=Ot(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hi(e,t){return t=Js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xr(e,t,n,r){return r!==null&&ni(r),Tn(t,e.child,null,n),e=hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function km(e,t,n,r,l,a,i){if(n)return t.flags&256?(t.flags&=-257,r=_l(Error(C(422))),Xr(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,l=t.mode,r=Js({mode:"visible",children:r.children},l,0,null),a=qt(a,l,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Tn(t,e.child,null,i),t.child.memoizedState=ja(i),t.memoizedState=va,a);if(!(t.mode&1))return Xr(e,t,i,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(C(419)),r=_l(a,r,void 0),Xr(e,t,i,r)}if(o=(i&e.childLanes)!==0,Re||o){if(r=he,r!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,mt(e,l),Ze(r,e,l,-1))}return wi(),r=_l(Error(C(421))),Xr(e,t,i,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Dm.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,ze=Tt(l.nextSibling),De=t,ee=!0,qe=null,e!==null&&(Be[Ue++]=ct,Be[Ue++]=ut,Be[Ue++]=Jt,ct=e.id,ut=e.overflow,Jt=t),t=hi(t,r.children),t.flags|=4096,t)}function Io(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),pa(e.return,t,n)}function Rl(e,t,n,r,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function sd(e,t,n){var r=t.pendingProps,l=r.revealOrder,a=r.tail;if(ke(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Io(e,n,t);else if(e.tag===19)Io(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ne,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ts(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Rl(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ts(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Rl(t,!0,n,null,a);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Ot(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ot(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sm(e,t,n){switch(t.tag){case 3:nd(t),Rn();break;case 5:Ru(t);break;case 1:Ie(t.type)&&Ss(t);break;case 4:oi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;X(Ps,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?rd(e,t,n):(X(ne,ne.current&1),e=xt(e,t,n),e!==null?e.sibling:null);X(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),X(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,ed(e,t,n)}return xt(e,t,n)}var ld,Na,ad,id;ld=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Na=function(){};ad=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,Yt(lt.current);var a=null;switch(n){case"input":l=Gl(e,l),r=Gl(e,r),a=[];break;case"select":l=se({},l,{value:void 0}),r=se({},r,{value:void 0}),a=[];break;case"textarea":l=Hl(e,l),r=Hl(e,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bs)}Yl(n,r);var i;n=null;for(u in l)if(!r.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ur.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=l!=null?l[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ur.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Z("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};id=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ne(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cm(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(t),null;case 1:return Ie(t.type)&&ks(),Ne(t),null;case 3:return r=t.stateNode,In(),J(Te),J(be),ui(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qe!==null&&(_a(qe),qe=null))),Na(e,t),Ne(t),null;case 5:ci(t);var l=Yt(wr.current);if(n=t.type,e!==null&&t.stateNode!=null)ad(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ne(t),null}if(e=Yt(lt.current),Kr(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[rt]=t,r[jr]=a,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(l=0;l<er.length;l++)Z(er[l],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":Fi(r,a),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Z("invalid",r);break;case"textarea":Ui(r,a),Z("invalid",r)}Yl(n,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Yr(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Yr(r.textContent,o,e),l=["children",""+o]):ur.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Z("scroll",r)}switch(n){case"input":Fr(r),Bi(r,a,!0);break;case"textarea":Fr(r),Gi(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bs)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[rt]=t,e[jr]=r,ld(e,t,!1,!1),t.stateNode=e;e:{switch(i=Kl(n,r),n){case"dialog":Z("cancel",e),Z("close",e),l=r;break;case"iframe":case"object":case"embed":Z("load",e),l=r;break;case"video":case"audio":for(l=0;l<er.length;l++)Z(er[l],e);l=r;break;case"source":Z("error",e),l=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),l=r;break;case"details":Z("toggle",e),l=r;break;case"input":Fi(e,r),l=Gl(e,r),Z("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=se({},r,{value:void 0}),Z("invalid",e);break;case"textarea":Ui(e,r),l=Hl(e,r),Z("invalid",e);break;default:l=r}Yl(n,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Ac(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&dr(e,c):typeof c=="number"&&dr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ur.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Z("scroll",e):c!=null&&Fa(e,a,c,i))}switch(n){case"input":Fr(e),Bi(e,r,!1);break;case"textarea":Fr(e),Gi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?wn(e,!!r.multiple,a,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=bs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ne(t),null;case 6:if(e&&t.stateNode!=null)id(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Yt(wr.current),Yt(lt.current),Kr(t)){if(r=t.stateNode,n=t.memoizedProps,r[rt]=t,(a=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:Yr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yr(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rt]=t,t.stateNode=r}return Ne(t),null;case 13:if(J(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&ze!==null&&t.mode&1&&!(t.flags&128))Su(),Rn(),t.flags|=98560,a=!1;else if(a=Kr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[rt]=t}else Rn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ne(t),a=!1}else qe!==null&&(_a(qe),qe=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?fe===0&&(fe=3):wi())),t.updateQueue!==null&&(t.flags|=4),Ne(t),null);case 4:return In(),Na(e,t),e===null&&yr(t.stateNode.containerInfo),Ne(t),null;case 10:return li(t.type._context),Ne(t),null;case 17:return Ie(t.type)&&ks(),Ne(t),null;case 19:if(J(ne),a=t.memoizedState,a===null)return Ne(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Qn(a,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ts(e),i!==null){for(t.flags|=128,Qn(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ne,ne.current&1|2),t.child}e=e.sibling}a.tail!==null&&ie()>Ln&&(t.flags|=128,r=!0,Qn(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ts(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ee)return Ne(t),null}else 2*ie()-a.renderingStartTime>Ln&&n!==1073741824&&(t.flags|=128,r=!0,Qn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ie(),t.sibling=null,n=ne.current,X(ne,r?n&1|2:n&1),t):(Ne(t),null);case 22:case 23:return Ni(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(Ne(t),t.subtreeFlags&6&&(t.flags|=8192)):Ne(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Em(e,t){switch(ti(t),t.tag){case 1:return Ie(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(),J(Te),J(be),ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ci(t),null;case 13:if(J(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ne),null;case 4:return In(),null;case 10:return li(t.type._context),null;case 22:case 23:return Ni(),null;case 24:return null;default:return null}}var Zr=!1,we=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,L=null;function jn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function wa(e,t,n){try{n()}catch(r){le(e,t,r)}}var Mo=!1;function _m(e,t){if(la=js,e=fu(),Ja(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,m=0,d=e,x=null;t:for(;;){for(var y;d!==n||l!==0&&d.nodeType!==3||(o=i+l),d!==a||r!==0&&d.nodeType!==3||(c=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(y=d.firstChild)!==null;)x=d,d=y;for(;;){if(d===e)break t;if(x===n&&++u===l&&(o=i),x===a&&++m===r&&(c=i),(y=d.nextSibling)!==null)break;d=x,x=d.parentNode}d=y}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(aa={focusedElem:e,selectionRange:n},js=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,b=p.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ye(t.type,v),b);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(j){le(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return p=Mo,Mo=!1,p}function ir(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&wa(t,n,a)}l=l.next}while(l!==r)}}function Xs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function od(e){var t=e.alternate;t!==null&&(e.alternate=null,od(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rt],delete t[jr],delete t[ca],delete t[dm],delete t[fm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cd(e){return e.tag===5||e.tag===3||e.tag===4}function Lo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bs));else if(r!==4&&(e=e.child,e!==null))for(ka(e,t,n),e=e.sibling;e!==null;)ka(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Sa(e,t,n),e=e.sibling;e!==null;)Sa(e,t,n),e=e.sibling}var ge=null,Ke=!1;function vt(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Gs,n)}catch{}switch(n.tag){case 5:we||jn(n,t);case 6:var r=ge,l=Ke;ge=null,vt(e,t,n),ge=r,Ke=l,ge!==null&&(Ke?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Ke?(e=ge,n=n.stateNode,e.nodeType===8?bl(e.parentNode,n):e.nodeType===1&&bl(e,n),xr(e)):bl(ge,n.stateNode));break;case 4:r=ge,l=Ke,ge=n.stateNode.containerInfo,Ke=!0,vt(e,t,n),ge=r,Ke=l;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&wa(n,t,i),l=l.next}while(l!==r)}vt(e,t,n);break;case 1:if(!we&&(jn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){le(n,t,o)}vt(e,t,n);break;case 21:vt(e,t,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,vt(e,t,n),we=r):vt(e,t,n);break;default:vt(e,t,n)}}function Oo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Pm),t.forEach(function(r){var l=Am.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ge=o.stateNode,Ke=!1;break e;case 3:ge=o.stateNode.containerInfo,Ke=!0;break e;case 4:ge=o.stateNode.containerInfo,Ke=!0;break e}o=o.return}if(ge===null)throw Error(C(160));ud(a,i,l),ge=null,Ke=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){le(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dd(t,e),t=t.sibling}function dd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),tt(e),r&4){try{ir(3,e,e.return),Xs(3,e)}catch(v){le(e,e.return,v)}try{ir(5,e,e.return)}catch(v){le(e,e.return,v)}}break;case 1:Qe(t,e),tt(e),r&512&&n!==null&&jn(n,n.return);break;case 5:if(Qe(t,e),tt(e),r&512&&n!==null&&jn(n,n.return),e.flags&32){var l=e.stateNode;try{dr(l,"")}catch(v){le(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Mc(l,a),Kl(o,i);var u=Kl(o,a);for(i=0;i<c.length;i+=2){var m=c[i],d=c[i+1];m==="style"?Ac(l,d):m==="dangerouslySetInnerHTML"?zc(l,d):m==="children"?dr(l,d):Fa(l,m,d,u)}switch(o){case"input":Vl(l,a);break;case"textarea":Lc(l,a);break;case"select":var x=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?wn(l,!!a.multiple,y,!1):x!==!!a.multiple&&(a.defaultValue!=null?wn(l,!!a.multiple,a.defaultValue,!0):wn(l,!!a.multiple,a.multiple?[]:"",!1))}l[jr]=a}catch(v){le(e,e.return,v)}}break;case 6:if(Qe(t,e),tt(e),r&4){if(e.stateNode===null)throw Error(C(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){le(e,e.return,v)}}break;case 3:if(Qe(t,e),tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xr(t.containerInfo)}catch(v){le(e,e.return,v)}break;case 4:Qe(t,e),tt(e);break;case 13:Qe(t,e),tt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(vi=ie())),r&4&&Oo(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(we=(u=we)||m,Qe(t,e),we=u):Qe(t,e),tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(L=e,m=e.child;m!==null;){for(d=L=m;L!==null;){switch(x=L,y=x.child,x.tag){case 0:case 11:case 14:case 15:ir(4,x,x.return);break;case 1:jn(x,x.return);var p=x.stateNode;if(typeof p.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:jn(x,x.return);break;case 22:if(x.memoizedState!==null){Do(d);continue}}y!==null?(y.return=x,L=y):Do(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{l=d.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,c=d.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Dc("display",i))}catch(v){le(e,e.return,v)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){le(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qe(t,e),tt(e),r&4&&Oo(e);break;case 21:break;default:Qe(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(cd(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(dr(l,""),r.flags&=-33);var a=Lo(e);Sa(e,a,l);break;case 3:case 4:var i=r.stateNode.containerInfo,o=Lo(e);ka(e,o,i);break;default:throw Error(C(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rm(e,t,n){L=e,fd(e)}function fd(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var l=L,a=l.child;if(l.tag===22&&r){var i=l.memoizedState!==null||Zr;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||we;o=Zr;var u=we;if(Zr=i,(we=c)&&!u)for(L=l;L!==null;)i=L,c=i.child,i.tag===22&&i.memoizedState!==null?Ao(l):c!==null?(c.return=i,L=c):Ao(l);for(;a!==null;)L=a,fd(a),a=a.sibling;L=l,Zr=o,we=u}zo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,L=a):zo(e)}}function zo(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:we||Xs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!we)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jo(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jo(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&xr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}we||t.flags&512&&ba(t)}catch(x){le(t,t.return,x)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Do(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Ao(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Xs(4,t)}catch(c){le(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){le(t,l,c)}}var a=t.return;try{ba(t)}catch(c){le(t,a,c)}break;case 5:var i=t.return;try{ba(t)}catch(c){le(t,i,c)}}}catch(c){le(t,t.return,c)}if(t===e){L=null;break}var o=t.sibling;if(o!==null){o.return=t.return,L=o;break}L=t.return}}var Tm=Math.ceil,Ls=ht.ReactCurrentDispatcher,gi=ht.ReactCurrentOwner,Ve=ht.ReactCurrentBatchConfig,V=0,he=null,oe=null,ye=0,Oe=0,Nn=$t(0),fe=0,Cr=null,tn=0,Zs=0,yi=0,or=null,_e=null,vi=0,Ln=1/0,it=null,Os=!1,Ca=null,Mt=null,Jr=!1,Ct=null,zs=0,cr=0,Ea=null,fs=-1,ps=0;function Ce(){return V&6?ie():fs!==-1?fs:fs=ie()}function Lt(e){return e.mode&1?V&2&&ye!==0?ye&-ye:mm.transition!==null?(ps===0&&(ps=qc()),ps):(e=Q,e!==0||(e=window.event,e=e===void 0?16:ru(e.type)),e):1}function Ze(e,t,n,r){if(50<cr)throw cr=0,Ea=null,Error(C(185));Rr(e,n,r),(!(V&2)||e!==he)&&(e===he&&(!(V&2)&&(Zs|=n),fe===4&&kt(e,ye)),Me(e,r),n===1&&V===0&&!(t.mode&1)&&(Ln=ie()+500,Ys&&Ft()))}function Me(e,t){var n=e.callbackNode;mp(e,t);var r=vs(e,e===he?ye:0);if(r===0)n!==null&&Hi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hi(n),t===1)e.tag===0?pm($o.bind(null,e)):wu($o.bind(null,e)),cm(function(){!(V&6)&&Ft()}),n=null;else{switch(Xc(r)){case 1:n=Wa;break;case 4:n=Yc;break;case 16:n=ys;break;case 536870912:n=Kc;break;default:n=ys}n=jd(n,pd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pd(e,t){if(fs=-1,ps=0,V&6)throw Error(C(327));var n=e.callbackNode;if(En()&&e.callbackNode!==n)return null;var r=vs(e,e===he?ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ds(e,r);else{t=r;var l=V;V|=2;var a=xd();(he!==e||ye!==t)&&(it=null,Ln=ie()+500,Kt(e,t));do try{Lm();break}catch(o){md(e,o)}while(!0);si(),Ls.current=a,V=l,oe!==null?t=0:(he=null,ye=0,t=fe)}if(t!==0){if(t===2&&(l=ea(e),l!==0&&(r=l,t=Pa(e,l))),t===1)throw n=Cr,Kt(e,0),kt(e,r),Me(e,ie()),n;if(t===6)kt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Im(l)&&(t=Ds(e,r),t===2&&(a=ea(e),a!==0&&(r=a,t=Pa(e,a))),t===1))throw n=Cr,Kt(e,0),kt(e,r),Me(e,ie()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Vt(e,_e,it);break;case 3:if(kt(e,r),(r&130023424)===r&&(t=vi+500-ie(),10<t)){if(vs(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ce(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=oa(Vt.bind(null,e,_e,it),t);break}Vt(e,_e,it);break;case 4:if(kt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var i=31-Xe(r);a=1<<i,i=t[i],i>l&&(l=i),r&=~a}if(r=l,r=ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tm(r/1960))-r,10<r){e.timeoutHandle=oa(Vt.bind(null,e,_e,it),r);break}Vt(e,_e,it);break;case 5:Vt(e,_e,it);break;default:throw Error(C(329))}}}return Me(e,ie()),e.callbackNode===n?pd.bind(null,e):null}function Pa(e,t){var n=or;return e.current.memoizedState.isDehydrated&&(Kt(e,t).flags|=256),e=Ds(e,t),e!==2&&(t=_e,_e=n,t!==null&&_a(t)),e}function _a(e){_e===null?_e=e:_e.push.apply(_e,e)}function Im(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Je(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kt(e,t){for(t&=~yi,t&=~Zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),r=1<<n;e[n]=-1,t&=~r}}function $o(e){if(V&6)throw Error(C(327));En();var t=vs(e,0);if(!(t&1))return Me(e,ie()),null;var n=Ds(e,t);if(e.tag!==0&&n===2){var r=ea(e);r!==0&&(t=r,n=Pa(e,r))}if(n===1)throw n=Cr,Kt(e,0),kt(e,t),Me(e,ie()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vt(e,_e,it),Me(e,ie()),null}function ji(e,t){var n=V;V|=1;try{return e(t)}finally{V=n,V===0&&(Ln=ie()+500,Ys&&Ft())}}function nn(e){Ct!==null&&Ct.tag===0&&!(V&6)&&En();var t=V;V|=1;var n=Ve.transition,r=Q;try{if(Ve.transition=null,Q=1,e)return e()}finally{Q=r,Ve.transition=n,V=t,!(V&6)&&Ft()}}function Ni(){Oe=Nn.current,J(Nn)}function Kt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,om(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(ti(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:In(),J(Te),J(be),ui();break;case 5:ci(r);break;case 4:In();break;case 13:J(ne);break;case 19:J(ne);break;case 10:li(r.type._context);break;case 22:case 23:Ni()}n=n.return}if(he=e,oe=e=Ot(e.current,null),ye=Oe=t,fe=0,Cr=null,yi=Zs=tn=0,_e=or=null,Qt!==null){for(t=0;t<Qt.length;t++)if(n=Qt[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=l,r.next=i}n.pending=r}Qt=null}return e}function md(e,t){do{var n=oe;try{if(si(),cs.current=Ms,Is){for(var r=re.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Is=!1}if(en=0,xe=de=re=null,ar=!1,br=0,gi.current=null,n===null||n.return===null){fe=1,Cr=t,oe=null;break}e:{var a=e,i=n.return,o=n,c=t;if(t=ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=o,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Co(i);if(y!==null){y.flags&=-257,Eo(y,i,o,a,t),y.mode&1&&So(a,u,t),t=y,c=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(c),t.updateQueue=v}else p.add(c);break e}else{if(!(t&1)){So(a,u,t),wi();break e}c=Error(C(426))}}else if(ee&&o.mode&1){var b=Co(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Eo(b,i,o,a,t),ni(Mn(c,o));break e}}a=c=Mn(c,o),fe!==4&&(fe=2),or===null?or=[a]:or.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Xu(a,c,t);vo(a,h);break e;case 1:o=c;var f=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mt===null||!Mt.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Zu(a,o,t);vo(a,j);break e}}a=a.return}while(a!==null)}gd(n)}catch(E){t=E,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function xd(){var e=Ls.current;return Ls.current=Ms,e===null?Ms:e}function wi(){(fe===0||fe===3||fe===2)&&(fe=4),he===null||!(tn&268435455)&&!(Zs&268435455)||kt(he,ye)}function Ds(e,t){var n=V;V|=2;var r=xd();(he!==e||ye!==t)&&(it=null,Kt(e,t));do try{Mm();break}catch(l){md(e,l)}while(!0);if(si(),V=n,Ls.current=r,oe!==null)throw Error(C(261));return he=null,ye=0,fe}function Mm(){for(;oe!==null;)hd(oe)}function Lm(){for(;oe!==null&&!lp();)hd(oe)}function hd(e){var t=vd(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?gd(e):oe=t,gi.current=null}function gd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Em(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,oe=null;return}}else if(n=Cm(n,t,Oe),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);fe===0&&(fe=5)}function Vt(e,t,n){var r=Q,l=Ve.transition;try{Ve.transition=null,Q=1,Om(e,t,n,r)}finally{Ve.transition=l,Q=r}return null}function Om(e,t,n,r){do En();while(Ct!==null);if(V&6)throw Error(C(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(xp(e,a),e===he&&(oe=he=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jr||(Jr=!0,jd(ys,function(){return En(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ve.transition,Ve.transition=null;var i=Q;Q=1;var o=V;V|=4,gi.current=null,_m(e,n),dd(n,e),tm(aa),js=!!la,aa=la=null,e.current=n,Rm(n),ap(),V=o,Q=i,Ve.transition=a}else e.current=n;if(Jr&&(Jr=!1,Ct=e,zs=l),a=e.pendingLanes,a===0&&(Mt=null),cp(n.stateNode),Me(e,ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Os)throw Os=!1,e=Ca,Ca=null,e;return zs&1&&e.tag!==0&&En(),a=e.pendingLanes,a&1?e===Ea?cr++:(cr=0,Ea=e):cr=0,Ft(),null}function En(){if(Ct!==null){var e=Xc(zs),t=Ve.transition,n=Q;try{if(Ve.transition=null,Q=16>e?16:e,Ct===null)var r=!1;else{if(e=Ct,Ct=null,zs=0,V&6)throw Error(C(331));var l=V;for(V|=4,L=e.current;L!==null;){var a=L,i=a.child;if(L.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(L=u;L!==null;){var m=L;switch(m.tag){case 0:case 11:case 15:ir(8,m,a)}var d=m.child;if(d!==null)d.return=m,L=d;else for(;L!==null;){m=L;var x=m.sibling,y=m.return;if(od(m),m===u){L=null;break}if(x!==null){x.return=y,L=x;break}L=y}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}L=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,L=i;else e:for(;L!==null;){if(a=L,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ir(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,L=h;break e}L=a.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(o=L,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xs(9,o)}}catch(E){le(o,o.return,E)}if(o===i){L=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,L=j;break e}L=o.return}}if(V=l,Ft(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Gs,e)}catch{}r=!0}return r}finally{Q=n,Ve.transition=t}}return!1}function Fo(e,t,n){t=Mn(n,t),t=Xu(e,t,1),e=It(e,t,1),t=Ce(),e!==null&&(Rr(e,1,t),Me(e,t))}function le(e,t,n){if(e.tag===3)Fo(e,e,n);else for(;t!==null;){if(t.tag===3){Fo(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mt===null||!Mt.has(r))){e=Mn(n,e),e=Zu(t,e,1),t=It(t,e,1),e=Ce(),t!==null&&(Rr(t,1,e),Me(t,e));break}}t=t.return}}function zm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,he===e&&(ye&n)===n&&(fe===4||fe===3&&(ye&130023424)===ye&&500>ie()-vi?Kt(e,0):yi|=n),Me(e,t)}function yd(e,t){t===0&&(e.mode&1?(t=Gr,Gr<<=1,!(Gr&130023424)&&(Gr=4194304)):t=1);var n=Ce();e=mt(e,t),e!==null&&(Rr(e,t,n),Me(e,n))}function Dm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yd(e,n)}function Am(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),yd(e,n)}var vd;vd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,Sm(e,t,n);Re=!!(e.flags&131072)}else Re=!1,ee&&t.flags&1048576&&bu(t,Es,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ds(e,t),e=t.pendingProps;var l=_n(t,be.current);Cn(t,n),l=fi(null,t,r,e,l,n);var a=pi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(a=!0,Ss(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ii(t),l.updater=qs,t.stateNode=l,l._reactInternals=t,xa(t,r,e,n),t=ya(null,t,r,!0,a,n)):(t.tag=0,ee&&a&&ei(t),ke(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Fm(r),e=Ye(r,e),l){case 0:t=ga(null,t,r,e,n);break e;case 1:t=Ro(null,t,r,e,n);break e;case 11:t=Po(null,t,r,e,n);break e;case 14:t=_o(null,t,r,Ye(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),ga(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),Ro(e,t,r,l,n);case 3:e:{if(nd(t),e===null)throw Error(C(387));r=t.pendingProps,a=t.memoizedState,l=a.element,_u(e,t),Rs(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Mn(Error(C(423)),t),t=To(e,t,r,n,l);break e}else if(r!==l){l=Mn(Error(C(424)),t),t=To(e,t,r,n,l);break e}else for(ze=Tt(t.stateNode.containerInfo.firstChild),De=t,ee=!0,qe=null,n=Eu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===l){t=xt(e,t,n);break e}ke(e,t,r,n)}t=t.child}return t;case 5:return Ru(t),e===null&&fa(t),r=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ia(r,l)?i=null:a!==null&&ia(r,a)&&(t.flags|=32),td(e,t),ke(e,t,i,n),t.child;case 6:return e===null&&fa(t),null;case 13:return rd(e,t,n);case 4:return oi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tn(t,null,r,n):ke(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),Po(e,t,r,l,n);case 7:return ke(e,t,t.pendingProps,n),t.child;case 8:return ke(e,t,t.pendingProps.children,n),t.child;case 12:return ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,X(Ps,r._currentValue),r._currentValue=i,a!==null)if(Je(a.value,i)){if(a.children===l.children&&!Te.current){t=xt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=dt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),pa(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),pa(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}ke(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Cn(t,n),l=We(l),r=r(l),t.flags|=1,ke(e,t,r,n),t.child;case 14:return r=t.type,l=Ye(r,t.pendingProps),l=Ye(r.type,l),_o(e,t,r,l,n);case 15:return Ju(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Ye(r,l),ds(e,t),t.tag=1,Ie(r)?(e=!0,Ss(t)):e=!1,Cn(t,n),qu(t,r,l),xa(t,r,l,n),ya(null,t,r,!0,e,n);case 19:return sd(e,t,n);case 22:return ed(e,t,n)}throw Error(C(156,t.tag))};function jd(e,t){return Qc(e,t)}function $m(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,n,r){return new $m(e,t,n,r)}function bi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fm(e){if(typeof e=="function")return bi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ua)return 11;if(e===Ga)return 14}return 2}function Ot(e,t){var n=e.alternate;return n===null?(n=Ge(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ms(e,t,n,r,l,a){var i=2;if(r=e,typeof e=="function")bi(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case dn:return qt(n.children,l,a,t);case Ba:i=8,l|=8;break;case $l:return e=Ge(12,n,t,l|2),e.elementType=$l,e.lanes=a,e;case Fl:return e=Ge(13,n,t,l),e.elementType=Fl,e.lanes=a,e;case Bl:return e=Ge(19,n,t,l),e.elementType=Bl,e.lanes=a,e;case Rc:return Js(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pc:i=10;break e;case _c:i=9;break e;case Ua:i=11;break e;case Ga:i=14;break e;case Nt:i=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ge(i,n,t,l),t.elementType=e,t.type=r,t.lanes=a,t}function qt(e,t,n,r){return e=Ge(7,e,r,t),e.lanes=n,e}function Js(e,t,n,r){return e=Ge(22,e,r,t),e.elementType=Rc,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=Ge(6,e,null,t),e.lanes=n,e}function Il(e,t,n){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function ki(e,t,n,r,l,a,i,o,c){return e=new Bm(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ge(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ii(a),e}function Um(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:un,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nd(e){if(!e)return Dt;e=e._reactInternals;e:{if(sn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ie(n))return Nu(e,n,t)}return t}function wd(e,t,n,r,l,a,i,o,c){return e=ki(n,r,!0,e,l,a,i,o,c),e.context=Nd(null),n=e.current,r=Ce(),l=Lt(n),a=dt(r,l),a.callback=t??null,It(n,a,l),e.current.lanes=l,Rr(e,l,r),Me(e,r),e}function el(e,t,n,r){var l=t.current,a=Ce(),i=Lt(l);return n=Nd(n),t.context===null?t.context=n:t.pendingContext=n,t=dt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=It(l,t,i),e!==null&&(Ze(e,l,i,a),os(e,l,i)),i}function As(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Bo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Si(e,t){Bo(e,t),(e=e.alternate)&&Bo(e,t)}function Gm(){return null}var bd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ci(e){this._internalRoot=e}tl.prototype.render=Ci.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));el(e,t,null,null)};tl.prototype.unmount=Ci.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nn(function(){el(null,e,null,null)}),t[pt]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=eu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&nu(e)}};function Ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uo(){}function Vm(e,t,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var u=As(i);a.call(u)}}var i=wd(t,r,e,0,null,!1,!1,"",Uo);return e._reactRootContainer=i,e[pt]=i.current,yr(e.nodeType===8?e.parentNode:e),nn(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var u=As(c);o.call(u)}}var c=ki(e,0,!1,null,null,!1,!1,"",Uo);return e._reactRootContainer=c,e[pt]=c.current,yr(e.nodeType===8?e.parentNode:e),nn(function(){el(t,c,n,r)}),c}function rl(e,t,n,r,l){var a=n._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=As(i);o.call(c)}}el(t,i,e,l)}else i=Vm(n,t,e,l,r);return As(i)}Zc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jn(t.pendingLanes);n!==0&&(Ha(t,n|1),Me(t,ie()),!(V&6)&&(Ln=ie()+500,Ft()))}break;case 13:nn(function(){var r=mt(e,1);if(r!==null){var l=Ce();Ze(r,e,1,l)}}),Si(e,1)}};Qa=function(e){if(e.tag===13){var t=mt(e,134217728);if(t!==null){var n=Ce();Ze(t,e,134217728,n)}Si(e,134217728)}};Jc=function(e){if(e.tag===13){var t=Lt(e),n=mt(e,t);if(n!==null){var r=Ce();Ze(n,e,t,r)}Si(e,t)}};eu=function(){return Q};tu=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Xl=function(e,t,n){switch(t){case"input":if(Vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=Qs(r);if(!l)throw Error(C(90));Ic(r),Vl(r,l)}}}break;case"textarea":Lc(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}};Bc=ji;Uc=nn;var Wm={usingClientEntryPoint:!1,Events:[Ir,xn,Qs,$c,Fc,ji]},Yn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hm={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wc(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Gs=es.inject(Hm),st=es}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wm;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ei(t))throw Error(C(200));return Um(e,t,null,n)};$e.createRoot=function(e,t){if(!Ei(e))throw Error(C(299));var n=!1,r="",l=bd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=ki(e,1,!1,null,null,n,!1,r,l),e[pt]=t.current,yr(e.nodeType===8?e.parentNode:e),new Ci(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Wc(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return nn(e)};$e.hydrate=function(e,t,n){if(!nl(t))throw Error(C(200));return rl(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!Ei(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",i=bd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=wd(t,null,e,1,n??null,l,!1,a,i),e[pt]=t.current,yr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new tl(t)};$e.render=function(e,t,n){if(!nl(t))throw Error(C(200));return rl(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!nl(e))throw Error(C(40));return e._reactRootContainer?(nn(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[pt]=null})}),!0):!1};$e.unstable_batchedUpdates=ji;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nl(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return rl(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function kd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kd)}catch(e){console.error(e)}}kd(),kc.exports=$e;var Qm=kc.exports,Go=Qm;Dl.createRoot=Go.createRoot,Dl.hydrateRoot=Go.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Er(){return Er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Er.apply(this,arguments)}var Et;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Et||(Et={}));const Vo="popstate";function Ym(e){e===void 0&&(e={});function t(r,l){let{pathname:a,search:i,hash:o}=r.location;return Ra("",{pathname:a,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Sd(l)}return qm(t,n,null,e)}function ce(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Km(){return Math.random().toString(36).substr(2,8)}function Wo(e,t){return{usr:e.state,key:e.key,idx:t}}function Ra(e,t,n,r){return n===void 0&&(n=null),Er({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$n(t):t,{state:n,key:t&&t.key||r||Km()})}function Sd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $n(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function qm(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:a=!1}=r,i=l.history,o=Et.Pop,c=null,u=m();u==null&&(u=0,i.replaceState(Er({},i.state,{idx:u}),""));function m(){return(i.state||{idx:null}).idx}function d(){o=Et.Pop;let b=m(),h=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:h})}function x(b,h){o=Et.Push;let f=Ra(v.location,b,h);u=m()+1;let g=Wo(f,u),j=v.createHref(f);try{i.pushState(g,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;l.location.assign(j)}a&&c&&c({action:o,location:v.location,delta:1})}function y(b,h){o=Et.Replace;let f=Ra(v.location,b,h);u=m();let g=Wo(f,u),j=v.createHref(f);i.replaceState(g,"",j),a&&c&&c({action:o,location:v.location,delta:0})}function p(b){let h=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof b=="string"?b:Sd(b);return f=f.replace(/ $/,"%20"),ce(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let v={get action(){return o},get location(){return e(l,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(Vo,d),c=b,()=>{l.removeEventListener(Vo,d),c=null}},createHref(b){return t(l,b)},createURL:p,encodeLocation(b){let h=p(b);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:x,replace:y,go(b){return i.go(b)}};return v}var Ho;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ho||(Ho={}));function Xm(e,t,n){return n===void 0&&(n="/"),Zm(e,t,n)}function Zm(e,t,n,r){let l=typeof t=="string"?$n(t):t,a=Pd(l.pathname||"/",n);if(a==null)return null;let i=Cd(e);Jm(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=dx(a);o=ox(i[c],u)}return o}function Cd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ce(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Xt([r,c.relativePath]),m=n.concat(c);a.children&&a.children.length>0&&(ce(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cd(a.children,t,m,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:ax(u,a.index),routesMeta:m})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))l(a,i);else for(let c of Ed(a.path))l(a,i,c)}),t}function Ed(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return l?[a,""]:[a];let i=Ed(r.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),l&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ix(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ex=/^:[\w-]+$/,tx=3,nx=2,rx=1,sx=10,lx=-2,Qo=e=>e==="*";function ax(e,t){let n=e.split("/"),r=n.length;return n.some(Qo)&&(r+=lx),t&&(r+=nx),n.filter(l=>!Qo(l)).reduce((l,a)=>l+(ex.test(a)?tx:a===""?rx:sx),r)}function ix(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function ox(e,t,n){let{routesMeta:r}=e,l={},a="/",i=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",d=cx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),x=c.route;if(!d)return null;Object.assign(l,d.params),i.push({params:l,pathname:Xt([a,d.pathname]),pathnameBase:hx(Xt([a,d.pathnameBase])),route:x}),d.pathnameBase!=="/"&&(a=Xt([a,d.pathnameBase]))}return i}function cx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ux(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],i=a.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:r.reduce((u,m,d)=>{let{paramName:x,isOptional:y}=m;if(x==="*"){let v=o[d]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const p=o[d];return y&&!p?u[x]=void 0:u[x]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function ux(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function dx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Pd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=e=>fx.test(e);function mx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?$n(e):e,a;if(n)if(px(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Pi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+n))}n.startsWith("/")?a=Yo(n.substring(1),"/"):a=Yo(n,t)}else a=t;return{pathname:a,search:gx(r),hash:yx(l)}}function Yo(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Ml(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _d(e,t){let n=xx(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Rd(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=$n(e):(l=Er({},e),ce(!l.pathname||!l.pathname.includes("?"),Ml("?","pathname","search",l)),ce(!l.pathname||!l.pathname.includes("#"),Ml("#","pathname","hash",l)),ce(!l.search||!l.search.includes("#"),Ml("#","search","hash",l)));let a=e===""||l.pathname==="",i=a?"/":l.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),d-=1;l.pathname=x.join("/")}o=d>=0?t[d]:"/"}let c=mx(l,o),u=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const Xt=e=>e.join("/").replace(/\/\/+/g,"/"),hx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Td=["post","put","patch","delete"];new Set(Td);const jx=["get",...Td];new Set(jx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pr(){return Pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}const _i=w.createContext(null),Nx=w.createContext(null),Lr=w.createContext(null),sl=w.createContext(null),ln=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Id=w.createContext(null);function Or(){return w.useContext(sl)!=null}function Ri(){return Or()||ce(!1),w.useContext(sl).location}function Md(e){w.useContext(Lr).static||w.useLayoutEffect(e)}function Fn(){let{isDataRoute:e}=w.useContext(ln);return e?Lx():wx()}function wx(){Or()||ce(!1);let e=w.useContext(_i),{basename:t,future:n,navigator:r}=w.useContext(Lr),{matches:l}=w.useContext(ln),{pathname:a}=Ri(),i=JSON.stringify(_d(l,n.v7_relativeSplatPath)),o=w.useRef(!1);return Md(()=>{o.current=!0}),w.useCallback(function(u,m){if(m===void 0&&(m={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Rd(u,JSON.parse(i),a,m.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xt([t,d.pathname])),(m.replace?r.replace:r.push)(d,m.state,m)},[t,r,i,a,e])}function bx(e,t){return kx(e,t)}function kx(e,t,n,r){Or()||ce(!1);let{navigator:l}=w.useContext(Lr),{matches:a}=w.useContext(ln),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ri(),m;if(t){var d;let b=typeof t=="string"?$n(t):t;c==="/"||(d=b.pathname)!=null&&d.startsWith(c)||ce(!1),m=b}else m=u;let x=m.pathname||"/",y=x;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=Xm(e,{pathname:y}),v=_x(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Xt([c,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xt([c,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&v?w.createElement(sl.Provider,{value:{location:Pr({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Et.Pop}},v):v}function Sx(){let e=Mx(),t=vx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:l},n):null,null)}const Cx=w.createElement(Sx,null);class Ex extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(ln.Provider,{value:this.props.routeContext},w.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Px(e){let{routeContext:t,match:n,children:r}=e,l=w.useContext(_i);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(ln.Provider,{value:t},r)}function _x(e,t,n,r){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(l=n)==null?void 0:l.errors;if(o!=null){let m=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);m>=0||ce(!1),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<i.length;m++){let d=i[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:x,errors:y}=n,p=d.route.loader&&x[d.route.id]===void 0&&(!y||y[d.route.id]===void 0);if(d.route.lazy||p){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,d,x)=>{let y,p=!1,v=null,b=null;n&&(y=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||Cx,c&&(u<0&&x===0?(Ox("route-fallback"),p=!0,b=null):u===x&&(p=!0,b=d.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,x+1)),f=()=>{let g;return y?g=v:p?g=b:d.route.Component?g=w.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,w.createElement(Px,{match:d,routeContext:{outlet:m,matches:h,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||x===0)?w.createElement(Ex,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Ld=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ld||{}),Od=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Od||{});function Rx(e){let t=w.useContext(_i);return t||ce(!1),t}function Tx(e){let t=w.useContext(Nx);return t||ce(!1),t}function Ix(e){let t=w.useContext(ln);return t||ce(!1),t}function zd(e){let t=Ix(),n=t.matches[t.matches.length-1];return n.route.id||ce(!1),n.route.id}function Mx(){var e;let t=w.useContext(Id),n=Tx(),r=zd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Lx(){let{router:e}=Rx(Ld.UseNavigateStable),t=zd(Od.UseNavigateStable),n=w.useRef(!1);return Md(()=>{n.current=!0}),w.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Pr({fromRouteId:t},a)))},[e,t])}const Ko={};function Ox(e,t,n){Ko[e]||(Ko[e]=!0)}function zx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Dx(e){let{to:t,replace:n,state:r,relative:l}=e;Or()||ce(!1);let{future:a,static:i}=w.useContext(Lr),{matches:o}=w.useContext(ln),{pathname:c}=Ri(),u=Fn(),m=Rd(t,_d(o,a.v7_relativeSplatPath),c,l==="path"),d=JSON.stringify(m);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:l}),[u,d,l,n,r]),null}function Wt(e){ce(!1)}function Ax(e){let{basename:t="/",children:n=null,location:r,navigationType:l=Et.Pop,navigator:a,static:i=!1,future:o}=e;Or()&&ce(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:i,future:Pr({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof r=="string"&&(r=$n(r));let{pathname:m="/",search:d="",hash:x="",state:y=null,key:p="default"}=r,v=w.useMemo(()=>{let b=Pd(m,c);return b==null?null:{location:{pathname:b,search:d,hash:x,state:y,key:p},navigationType:l}},[c,m,d,x,y,p,l]);return v==null?null:w.createElement(Lr.Provider,{value:u},w.createElement(sl.Provider,{children:n,value:v}))}function $x(e){let{children:t,location:n}=e;return bx(Ta(t),n)}new Promise(()=>{});function Ta(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(r,l)=>{if(!w.isValidElement(r))return;let a=[...t,l];if(r.type===w.Fragment){n.push.apply(n,Ta(r.props.children,a));return}r.type!==Wt&&ce(!1),!r.props.index||!r.props.children||ce(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ta(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fx="6";try{window.__reactRouterVersion=Fx}catch{}const Bx="startTransition",qo=zf[Bx];function Ux(e){let{basename:t,children:n,future:r,window:l}=e,a=w.useRef();a.current==null&&(a.current=Ym({window:l,v5Compat:!0}));let i=a.current,[o,c]=w.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},m=w.useCallback(d=>{u&&qo?qo(()=>c(d)):c(d)},[c,u]);return w.useLayoutEffect(()=>i.listen(m),[i,m]),w.useEffect(()=>zx(r),[r]),w.createElement(Ax,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}var Xo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xo||(Xo={}));var Zo;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zo||(Zo={}));function Dd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=Dd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function P(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=Dd(e))&&(r&&(r+=" "),r+=t);return r}const Gx={},Jo=e=>{let t;const n=new Set,r=(m,d)=>{const x=typeof m=="function"?m(t):m;if(!Object.is(x,t)){const y=t;t=d??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(p=>p(t,y))}},l=()=>t,c={setState:r,getState:l,getInitialState:()=>u,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Gx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,l,c);return c},Vx=e=>e?Jo(e):Jo;var Ad={exports:{}},$d={},Fd={exports:{}},Bd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=w;function Wx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hx=typeof Object.is=="function"?Object.is:Wx,Qx=On.useState,Yx=On.useEffect,Kx=On.useLayoutEffect,qx=On.useDebugValue;function Xx(e,t){var n=t(),r=Qx({inst:{value:n,getSnapshot:t}}),l=r[0].inst,a=r[1];return Kx(function(){l.value=n,l.getSnapshot=t,Ll(l)&&a({inst:l})},[e,n,t]),Yx(function(){return Ll(l)&&a({inst:l}),e(function(){Ll(l)&&a({inst:l})})},[e]),qx(n),n}function Ll(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hx(e,n)}catch{return!0}}function Zx(e,t){return t()}var Jx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zx:Xx;Bd.useSyncExternalStore=On.useSyncExternalStore!==void 0?On.useSyncExternalStore:Jx;Fd.exports=Bd;var eh=Fd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=w,th=eh;function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rh=typeof Object.is=="function"?Object.is:nh,sh=th.useSyncExternalStore,lh=ll.useRef,ah=ll.useEffect,ih=ll.useMemo,oh=ll.useDebugValue;$d.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var a=lh(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=ih(function(){function c(y){if(!u){if(u=!0,m=y,y=r(y),l!==void 0&&i.hasValue){var p=i.value;if(l(p,y))return d=p}return d=y}if(p=d,rh(m,y))return p;var v=r(y);return l!==void 0&&l(p,v)?(m=y,p):(m=y,d=v)}var u=!1,m,d,x=n===void 0?null:n;return[function(){return c(t())},x===null?void 0:function(){return c(x())}]},[t,n,r,l]);var o=sh(e,a[0],a[1]);return ah(function(){i.hasValue=!0,i.value=o},[o]),oh(o),o};Ad.exports=$d;var ch=Ad.exports;const uh=fc(ch),Ud={},{useDebugValue:dh}=Da,{useSyncExternalStoreWithSelector:fh}=uh;let ec=!1;const ph=e=>e;function mh(e,t=ph,n){(Ud?"production":void 0)!=="production"&&n&&!ec&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ec=!0);const r=fh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return dh(r),r}const tc=e=>{(Ud?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Vx(e):e,n=(r,l)=>mh(t,r,l);return Object.assign(n,t),n},Gd=e=>e?tc(e):tc;class xh{constructor(){an(this,"requestId",0);an(this,"pendingRequests",new Map);an(this,"sessionId",null);this.setupMessageListener(),this.loadSession()}setupMessageListener(){typeof window<"u"&&window.devvit&&window.devvit.addEventListener("message",t=>{const n=t,r=this.pendingRequests.get(n.requestId);r&&(this.pendingRequests.delete(n.requestId),n.success?r.resolve(n.data):r.reject(new Error(n.error||"Request failed")))})}loadSession(){}setSession(t){this.sessionId=t}getSession(){return this.sessionId}clearSession(){this.sessionId=null}async sendMessage(t,n){return new Promise((r,l)=>{const a=++this.requestId;this.pendingRequests.set(a,{resolve:r,reject:l}),window.devvit?window.devvit.postMessage({type:t,data:{requestId:a,sessionId:this.sessionId,payload:n}}):l(new Error("Devvit context not available")),setTimeout(()=>{this.pendingRequests.has(a)&&(this.pendingRequests.delete(a),l(new Error("Request timeout")))},3e4)})}async createPlayer(t){return this.sendMessage("auth.createPlayer",{displayName:t})}async getMe(){return this.sendMessage("auth.getMe")}async newGame(t,n,r){return this.sendMessage("game.new",{empireName:t,race:n,seed:r})}async getCurrentGame(){return this.sendMessage("game.current")}async getGame(t){return this.sendMessage("game.get",{gameId:t})}async abandonGame(){return this.sendMessage("game.abandon")}async executeAction(t,n){return this.sendMessage("game.action",{gameId:t,action:n})}async getCombatPreview(t,n){return this.sendMessage("game.combatPreview",{gameId:t,targetId:n})}async endPlayerPhase(t){return this.sendMessage("game.endPlayerPhase",{gameId:t})}async marketTransaction(t,n){return this.sendMessage("game.market",{gameId:t,transaction:n})}async selectDraft(t,n){return this.sendMessage("game.draft",{gameId:t,optionIndex:n})}async getRerollInfo(t){return this.sendMessage("game.rerollInfo",{gameId:t})}async rerollDraft(t){return this.sendMessage("game.reroll",{gameId:t})}async dismissAdvisor(t,n){return this.sendMessage("game.dismissAdvisor",{gameId:t,advisorId:n})}async endShopPhase(t){return this.sendMessage("game.endShopPhase",{gameId:t})}async getBankInfo(t){return this.sendMessage("game.bankInfo",{gameId:t})}async bankTransaction(t,n){return this.sendMessage("game.bank",{gameId:t,transaction:n})}async updateSettings(t,n){return this.sendMessage("game.settings",{gameId:t,settings:n})}async executeBotPhase(t){return this.sendMessage("game.botPhase",{gameId:t})}async getLeaderboard(t){return(await this.sendMessage("leaderboard.get",{timeframe:t})).entries}async getMyRank(){return this.sendMessage("leaderboard.rank")}async health(){return this.sendMessage("health")}}const te=new xh,hh={playerId:null,displayName:null,sessionId:null},Ol={gameId:null,seed:null,round:null,playerEmpire:null,botEmpires:[],intel:{},marketPrices:null,effectivePrices:null,shopStock:null,draftOptions:null,rerollInfo:null,isComplete:!1,playerDefeated:null,stats:null},Ti=Gd((e,t)=>({player:hh,game:Ol,bankInfo:null,loading:!1,error:null,lastActionResult:null,lastActionType:null,lastBotPhaseResult:null,lastEdictResult:null,clearError:()=>e({error:null}),clearLastResult:()=>e({lastActionResult:null,lastActionType:null,lastBotPhaseResult:null}),clearEdictResult:()=>e({lastEdictResult:null}),login:async n=>{e({loading:!0,error:null});try{const r=await te.createPlayer(n);return e({player:{playerId:r.playerId,displayName:n,sessionId:r.sessionId},loading:!1}),!0}catch(r){return e({error:r instanceof Error?r.message:"Login failed",loading:!1}),!1}},restoreSession:async()=>{const n=te.getSession();if(!n)return!1;e({loading:!0,error:null});try{const r=await te.getMe();return e({player:{playerId:r.id,displayName:r.displayName,sessionId:n},loading:!1}),!0}catch{return te.clearSession(),e({loading:!1}),!1}},checkActiveGame:async()=>{e({loading:!0,error:null});try{const n=await te.getCurrentGame();return"corrupted"in n&&n.corrupted?(e({error:n.error||"Your saved game was corrupted. Please start a new game.",loading:!1}),!1):n.hasActiveGame&&n.game?(e({game:{gameId:n.game.id,seed:n.game.seed,round:n.game.round,playerEmpire:n.game.playerEmpire,botEmpires:n.game.botEmpires,intel:n.game.intel,marketPrices:n.game.marketPrices,effectivePrices:n.game.effectivePrices,shopStock:n.game.shopStock,draftOptions:n.game.draftOptions,rerollInfo:null,isComplete:n.game.round.phase==="complete",playerDefeated:n.game.playerDefeated,stats:n.game.stats},loading:!1}),!0):(e({loading:!1}),!1)}catch(n){return e({error:n instanceof Error?n.message:"Failed to check game",loading:!1}),!1}},newGame:async(n,r,l)=>{e({loading:!0,error:null});try{const a=await te.newGame(n,r,l),i=await te.getGame(a.gameId);return i.game&&e({game:{gameId:a.gameId,seed:a.seed,round:i.game.round,playerEmpire:i.game.playerEmpire,botEmpires:i.game.botEmpires,intel:i.game.intel,marketPrices:i.game.marketPrices,effectivePrices:i.game.effectivePrices,shopStock:i.game.shopStock,draftOptions:i.game.draftOptions,rerollInfo:null,isComplete:!1,playerDefeated:null,stats:i.game.stats},loading:!1}),!0}catch(a){return e({error:a instanceof Error?a.message:"Failed to create game",loading:!1}),!1}},abandonGame:async()=>{e({loading:!0,error:null});try{return await te.abandonGame(),e({game:Ol,bankInfo:null,lastActionResult:null,lastBotPhaseResult:null,loading:!1}),!0}catch(n){return e({error:n instanceof Error?n.message:"Failed to abandon game",loading:!1}),!1}},executeAction:async n=>{var l;const{game:r}=t();if(!r.gameId)return null;e({loading:!0,error:null});try{const a=await te.executeAction(r.gameId,n);if(a.result.success){const i=(l=a.result.spellResult)!=null&&l.intel?{...r.intel,[a.result.spellResult.intel.targetId]:a.result.spellResult.intel}:r.intel;e({game:{...r,playerEmpire:a.result.empire,intel:i,botEmpires:a.botEmpires,round:r.round?{...r.round,turnsRemaining:a.result.turnsRemaining}:null},lastActionResult:a.result,lastActionType:n.action,loading:!1})}else e({error:"Action failed - not enough resources",loading:!1});return a.result}catch(a){return e({error:a instanceof Error?a.message:"Action failed",loading:!1}),null}},endPlayerPhase:async()=>{const{game:n}=t();if(!n.gameId)return!1;e({loading:!0,error:null});try{const r=await te.endPlayerPhase(n.gameId);if(r.isComplete)return e({game:{...n,round:n.round?{...n.round,phase:"complete"}:null,isComplete:!0,playerDefeated:r.playerDefeated??null,stats:r.stats??null},loading:!1}),!0;const l=await te.getRerollInfo(n.gameId);return e({game:{...n,round:n.round?{...n.round,phase:"shop"}:null,marketPrices:r.marketPrices,shopStock:r.shopStock,draftOptions:r.draftOptions,rerollInfo:l},loading:!1}),!0}catch(r){return e({error:r instanceof Error?r.message:"Failed to end phase",loading:!1}),!1}},selectDraft:async n=>{const{game:r}=t();if(!r.gameId)return!1;e({loading:!0,error:null});try{const l=await te.selectDraft(r.gameId,n);if(l.success){const a=await te.getRerollInfo(r.gameId);e({game:{...r,playerEmpire:l.empire,draftOptions:l.draftOptions,rerollInfo:a},lastEdictResult:l.edictResult??null,loading:!1})}return l.success}catch(l){return e({error:l instanceof Error?l.message:"Draft failed",loading:!1}),!1}},rerollDraft:async()=>{const{game:n}=t();if(!n.gameId)return!1;e({loading:!0,error:null});try{const r=await te.rerollDraft(n.gameId);return r.success?(e({game:{...n,playerEmpire:r.empire,draftOptions:r.draftOptions,rerollInfo:r.rerollInfo},loading:!1}),!0):(e({error:r.error||"Reroll failed",loading:!1}),!1)}catch(r){return e({error:r instanceof Error?r.message:"Reroll failed",loading:!1}),!1}},dismissAdvisor:async n=>{const{game:r}=t();if(!r.gameId)return!1;e({loading:!0,error:null});try{const l=await te.dismissAdvisor(r.gameId,n);return l.success?(e({game:{...r,playerEmpire:l.empire,rerollInfo:r.rerollInfo?{...r.rerollInfo,advisorCapacity:l.advisorCapacity}:null},loading:!1}),!0):(e({error:l.error||"Dismiss failed",loading:!1}),!1)}catch(l){return e({error:l instanceof Error?l.message:"Dismiss failed",loading:!1}),!1}},endShopPhase:async()=>{const{game:n}=t();if(!n.gameId)return null;e({loading:!0,error:null});try{const r=await te.endShopPhase(n.gameId);return e({game:{...n,round:n.round?{...n.round,phase:r.phase}:null},loading:!1}),r.phase}catch(r){return e({error:r instanceof Error?r.message:"Failed to end shop",loading:!1}),null}},marketTransaction:async n=>{var l;const{game:r}=t();if(!r.gameId)return!1;e({loading:!0,error:null});try{const a=await te.marketTransaction(r.gameId,n);if(a.result.success){const i=((l=r.round)==null?void 0:l.phase)==="shop"?await te.getRerollInfo(r.gameId):r.rerollInfo;return e({game:{...r,playerEmpire:a.empire,shopStock:a.shopStock,effectivePrices:a.effectivePrices??r.effectivePrices,rerollInfo:i},loading:!1}),!0}else return e({error:a.result.error||"Transaction failed",loading:!1}),!1}catch(a){return e({error:a instanceof Error?a.message:"Market transaction failed",loading:!1}),!1}},fetchBankInfo:async()=>{const{game:n}=t();if(n.gameId)try{const r=await te.getBankInfo(n.gameId);e({bankInfo:r})}catch{}},bankTransaction:async n=>{var l;const{game:r}=t();if(!r.gameId)return!1;e({loading:!0,error:null});try{const a=await te.bankTransaction(r.gameId,n);if(a.result.success){const i=((l=r.round)==null?void 0:l.phase)==="shop"?await te.getRerollInfo(r.gameId):r.rerollInfo;return e({game:{...r,playerEmpire:a.empire,rerollInfo:i},bankInfo:a.bankInfo,loading:!1}),!0}else return e({error:a.result.error||"Transaction failed",loading:!1}),!1}catch(a){return e({error:a instanceof Error?a.message:"Bank transaction failed",loading:!1}),!1}},updateSettings:async n=>{const{game:r}=t();if(!r.gameId)return!1;e({loading:!0,error:null});try{const l=await te.updateSettings(r.gameId,n);return l.success?(e({game:{...r,playerEmpire:l.empire},loading:!1}),!0):!1}catch(l){return e({error:l instanceof Error?l.message:"Failed to save settings",loading:!1}),!1}},executeBotPhase:async()=>{const{game:n}=t();if(!n.gameId)return null;e({loading:!0,error:null});try{const r=await te.executeBotPhase(n.gameId);return e({game:{...n,round:r.round,playerEmpire:r.playerEmpire,botEmpires:r.botEmpires,intel:r.intel,isComplete:r.isComplete,playerDefeated:r.playerDefeated,stats:r.stats},lastBotPhaseResult:r,loading:!1}),r}catch(r){return e({error:r instanceof Error?r.message:"Bot phase failed",loading:!1}),null}},resetGame:()=>{e({game:Ol,bankInfo:null,lastActionResult:null,lastBotPhaseResult:null})}}));function Se({title:e,variant:t="default",className:n,children:r}){return s.jsxs("div",{className:P("panel-retro",t==="gold"&&"border-yellow-500/50",t==="danger"&&"border-red-500/50",t==="success"&&"border-green-500/50",n),children:[e&&s.jsx("div",{className:P("panel-retro-header",t==="gold"&&"border-yellow-500/50 text-yellow-400",t==="danger"&&"border-red-500/50 text-red-400",t==="success"&&"border-green-500/50 text-green-400"),children:e}),s.jsx("div",{className:"p-2 sm:p-3",children:r})]})}function Vd({children:e,variant:t="default",era:n,rarity:r,className:l}){return s.jsx("span",{className:P("inline-flex items-center px-2 py-0.5 rounded text-xs font-bold uppercase tracking-wider",t==="default"&&"bg-game-border text-gray-300",t==="era"&&n==="past"&&"era-past",t==="era"&&n==="present"&&"era-present",t==="era"&&n==="future"&&"era-future",t==="rarity"&&r==="common"&&"bg-common/20 text-common border border-common/50",t==="rarity"&&r==="uncommon"&&"bg-uncommon/20 text-uncommon border border-uncommon/50",t==="rarity"&&r==="rare"&&"bg-rare/20 text-rare border border-rare/50",t==="rarity"&&r==="legendary"&&"bg-legendary/20 text-legendary border border-legendary/50",l),children:e})}function Wd({era:e}){return s.jsx(Vd,{variant:"era",era:e,children:e})}function Hd({rarity:e}){return s.jsx(Vd,{variant:"rarity",rarity:e,children:e})}const $s={"retro-dark":{id:"retro-dark",name:"Retro Dark",description:"Classic early 2000s browser game aesthetic"},"vercel-light":{id:"vercel-light",name:"Vercel Light",description:"Clean, minimal, modern light theme"},"vercel-dark":{id:"vercel-dark",name:"Vercel Dark",description:"Sleek modern dark theme"}},gh=Object.keys($s),ts="retro-dark",nc="promisance-theme",Qd=Gd(e=>({theme:ts,setTheme:t=>{$s[t]||(console.warn(`Theme "${t}" not found, using default`),t=ts),localStorage.setItem(nc,t),e({theme:t})},initTheme:()=>{const t=localStorage.getItem(nc);if(t&&$s[t])e({theme:t});else{const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e({theme:ts})}}}));function yh({className:e}){const{theme:t,setTheme:n}=Qd();return s.jsxs("div",{className:P("flex flex-col gap-2",e),children:[s.jsx("span",{className:"text-label text-center",children:"Theme"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:gh.map(r=>{const l=$s[r],a=t===r;return s.jsx("button",{onClick:()=>n(r),className:P("px-4 py-2 rounded-md border-2 transition-all duration-150","font-body text-sm",a?"border-accent bg-accent/10 text-text-primary":"border-border-theme bg-bg-card text-text-secondary hover:border-highlight hover:text-text-primary"),title:l.description,children:l.name},r)})})]})}const vh={zero:"Zero",quarter:"25%",half:"Half",threeQuarter:"75%",max:"Max"};function rc(e){return e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e4?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toLocaleString()}function sc(e){return e>=1e3?e/1e3+"K":e.toString()}function Yd({value:e,onChange:t,min:n=0,max:r,steps:l=[1,10],presets:a=["zero","half","max"],showMax:i=!0,size:o="md",disabled:c=!1,className:u,label:m}){const[d,x]=w.useState(!1),[y,p]=w.useState(""),v=w.useRef(null);w.useEffect(()=>{d&&v.current&&(v.current.focus(),v.current.select())},[d]);const b=w.useCallback(S=>Math.max(n,Math.min(r,Math.floor(S))),[n,r]),h=()=>{c||(p(e.toString()),x(!0))},f=()=>{const S=parseInt(y,10);isNaN(S)||t(b(S)),x(!1)},g=S=>{S.key==="Enter"?f():S.key==="Escape"&&x(!1)},j=S=>{c||t(b(e+S))},E=S=>{if(!c)switch(S){case"zero":t(n);break;case"quarter":t(b(Math.floor(r*.25)));break;case"half":t(b(Math.floor(r*.5)));break;case"threeQuarter":t(b(Math.floor(r*.75)));break;case"max":t(r);break}},_={sm:{button:"w-10 h-10 text-sm",display:"text-xl min-w-[80px]",preset:"px-2 py-1 text-xs"},md:{button:"w-12 h-12 text-base",display:"text-2xl min-w-[100px]",preset:"px-3 py-2 text-sm"},lg:{button:"w-14 h-14 text-lg",display:"text-3xl min-w-[120px]",preset:"px-4 py-2 text-base"}}[o];return s.jsxs("div",{className:P("flex flex-col gap-3",u),children:[m&&s.jsx("div",{className:"text-label text-center",children:m}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"flex gap-1",children:[...l].reverse().map(S=>s.jsxs("button",{onClick:()=>j(-S),disabled:c||e<=n,className:P("number-btn",_.button,"text-red-400 hover:text-red-300","disabled:opacity-40 disabled:cursor-not-allowed"),"aria-label":`Decrease by ${S}`,children:["-",sc(S)]},`dec-${S}`))}),s.jsx("div",{className:P("text-center cursor-pointer transition-all",_.display,c&&"opacity-50 cursor-not-allowed"),onClick:h,role:"button",tabIndex:c?-1:0,onKeyDown:S=>S.key==="Enter"&&h(),"aria-label":"Click to edit value",children:d?s.jsx("input",{ref:v,type:"number",value:y,onChange:S=>p(S.target.value),onBlur:f,onKeyDown:g,min:n,max:r,className:P("w-full text-center font-stats bg-bg-primary border-2 border-accent rounded-lg","focus:outline-none",_.display,"py-1")}):s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"font-stats text-accent",children:rc(e)}),i&&s.jsxs("span",{className:"text-xs text-text-muted",children:["/ ",rc(r)]})]})}),s.jsx("div",{className:"flex gap-1",children:l.map(S=>s.jsxs("button",{onClick:()=>j(S),disabled:c||e>=r,className:P("number-btn",_.button,"text-green-400 hover:text-green-300","disabled:opacity-40 disabled:cursor-not-allowed"),"aria-label":`Increase by ${S}`,children:["+",sc(S)]},`inc-${S}`))})]}),a.length>0&&s.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:a.map(S=>s.jsx("button",{onClick:()=>E(S),disabled:c,className:P("btn-secondary rounded-md transition-all",_.preset,"min-h-[44px]","disabled:opacity-40 disabled:cursor-not-allowed"),children:vh[S]},S))})]})}const Fs=[{value:"human",name:"Human",description:"Balanced empire with no special traits",bonuses:[],penalties:[]},{value:"elf",name:"Elf",description:"Magical beings focused on the arcane",bonuses:["+10% Magic","+10% Runes"],penalties:["-10% Military","-5% Food"]},{value:"dwarf",name:"Dwarf",description:"Master builders with strong defenses",bonuses:["+15% Defense","-10% Build Cost"],penalties:["-10% Exploration"]},{value:"troll",name:"Troll",description:"Aggressive warriors and explorers",bonuses:["+15% Offense","+10% Exploration"],penalties:["-10% Income"]},{value:"gnome",name:"Gnome",description:"Shrewd merchants and traders",bonuses:["+15% Income","+10% Market"],penalties:["-10% Military"]},{value:"gremlin",name:"Gremlin",description:"Agricultural specialists",bonuses:["+20% Food","+5% Peasants"],penalties:["-5% Magic"]},{value:"orc",name:"Orc",description:"Aggressive expansion focused",bonuses:["+15% Exploration","+10% Offense"],penalties:["-15% Defense"]},{value:"drow",name:"Drow",description:"Dark elves blending magic and military",bonuses:["+10% Magic","+10% Offense"],penalties:["-5% Food","-5% Defense"]},{value:"goblin",name:"Goblin",description:"Industrial powerhouse",bonuses:["+15% Industry","+5% Exploration"],penalties:["-10% Defense"]}];function jh(){const e=Math.floor(Math.random()*Fs.length);return Fs[e].value}function Nh(){var G;const e=Fn(),{player:t,game:n,loading:r,error:l,clearError:a,login:i,restoreSession:o,checkActiveGame:c,newGame:u,abandonGame:m}=Ti(),[d,x]=w.useState("menu"),[y,p]=w.useState(""),[v,b]=w.useState(""),[h,f]=w.useState(""),[g,j]=w.useState(null),E=!!t.sessionId,R=!!n.gameId;w.useEffect(()=>{(async()=>{await o()&&await c()})()},[o,c]),w.useEffect(()=>{},[R,d]);const _=async z=>{switch(a(),z){case"continue":e("/game");break;case"new_game":x(E?"new_game_name":"login");break;case"abandon":x("confirm_abandon");break;case"leaderboard":e("/leaderboard");break;case"guide":e("/guide");break}},S=async()=>{if(!y.trim())return;await i(y.trim())&&x("new_game_name")},B=()=>{v.trim()&&x("new_game_race")},k=async()=>{if(!g||!v.trim())return;const z=h.trim()?parseInt(h.trim(),10):void 0,$=z&&!isNaN(z)?z:void 0;await u(v.trim(),g,$)&&e("/game")},W=async()=>{await m(),x("menu")},K=()=>{a(),x(d==="new_game_race"?"new_game_name":d==="new_game_name"?E?"menu":"login":"menu")};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-bg-primary",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"font-display text-4xl md:text-6xl text-gold text-glow-gold mb-2",children:"Promisance"}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("h2",{className:"font-display text-2xl md:text-3xl text-accent text-glow-blue",children:"Rogue"}),s.jsx("span",{className:"px-2 py-0.5 text-xs font-bold uppercase tracking-wider bg-orange-500/20 text-orange-400 border border-orange-500/50 rounded animate-pulse",children:"Alpha"})]}),s.jsx("p",{className:"text-text-muted mt-4 font-mono text-sm",children:"A Roguelike Turn-Based Strategy Game"})]}),l&&s.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg px-4 py-2 mb-4 text-red-400 text-sm max-w-sm w-full text-center",children:[l,s.jsx("button",{onClick:a,className:"ml-2 text-red-300 hover:text-white",children:""})]}),r&&s.jsx("div",{className:"text-accent animate-pulse mb-4",children:"Loading..."}),d==="menu"&&!r&&s.jsxs(Se,{className:"w-full max-w-sm",children:[s.jsxs("div",{className:"flex flex-col gap-3",children:[R?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>_("continue"),className:"btn-gold btn-lg w-full",children:"Continue Game"}),s.jsx("button",{onClick:()=>_("abandon"),className:"btn-danger btn-lg w-full",children:"Abandon Game"})]}):s.jsx("button",{onClick:()=>_("new_game"),className:"btn-gold btn-lg w-full",children:"New Game"}),s.jsx("button",{onClick:()=>_("leaderboard"),className:"btn-secondary btn-lg w-full",children:"Leaderboard"}),s.jsx("button",{onClick:()=>_("guide"),className:"btn-secondary btn-lg w-full",children:"Game Guide"})]}),E&&s.jsxs("p",{className:"text-text-muted text-xs text-center mt-4",children:["Playing as: ",t.displayName]})]}),d==="login"&&!r&&s.jsxs(Se,{className:"w-full max-w-sm",children:[s.jsx("h3",{className:"font-display text-lg text-accent mb-4 text-center",children:"Enter Your Name"}),s.jsx("input",{type:"text",value:y,onChange:z=>p(z.target.value),onKeyDown:z=>z.key==="Enter"&&S(),placeholder:"Your display name",className:"w-full bg-bg-primary border border-border-theme rounded px-4 py-3 text-text-primary placeholder-text-muted focus:border-accent focus:outline-none mb-4",autoFocus:!0,maxLength:20}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:K,className:"btn-secondary btn-lg flex-1",children:"Back"}),s.jsx("button",{onClick:S,disabled:!y.trim(),className:"btn-primary btn-lg flex-1",children:"Continue"})]})]}),d==="new_game_name"&&!r&&s.jsxs(Se,{className:"w-full max-w-sm",children:[s.jsx("h3",{className:"font-display text-lg text-accent mb-4 text-center",children:"Name Your Empire"}),s.jsx("input",{type:"text",value:v,onChange:z=>b(z.target.value),onKeyDown:z=>z.key==="Enter"&&B(),placeholder:"Empire name",className:"w-full bg-bg-primary border border-border-theme rounded px-4 py-3 text-text-primary placeholder-text-muted focus:border-accent focus:outline-none mb-3",autoFocus:!0,maxLength:24}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"text-text-muted text-xs mb-1 block",children:"Seed (optional - for reproducible games)"}),s.jsx("input",{type:"text",value:h,onChange:z=>f(z.target.value.replace(/[^0-9]/g,"")),placeholder:"Leave empty for random",className:"w-full bg-bg-primary border border-border-theme rounded px-4 py-2 text-text-primary placeholder-text-muted focus:border-accent focus:outline-none text-sm",maxLength:10})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:K,className:"btn-secondary btn-lg flex-1",children:"Back"}),s.jsx("button",{onClick:B,disabled:!v.trim(),className:"btn-primary btn-lg flex-1",children:"Choose Race"})]})]}),d==="new_game_race"&&!r&&s.jsxs("div",{className:"w-full max-w-lg",children:[s.jsxs(Se,{className:"mb-4",children:[s.jsx("h3",{className:"font-display text-lg text-accent mb-2 text-center",children:"Choose Your Race"}),s.jsxs("p",{className:"text-text-muted text-sm text-center",children:["Empire: ",s.jsx("span",{className:"text-gold",children:v})]})]}),s.jsxs("button",{onClick:()=>j(jh()),className:"w-full p-3 mb-4 rounded-lg border-2 border-dashed border-gold/50 bg-gold/5 hover:border-gold hover:bg-gold/10 transition-all text-center",children:[s.jsx("div",{className:"font-display text-gold mb-1",children:" Random Race"}),s.jsx("div",{className:"text-xs text-text-muted",children:"Let fate decide your destiny"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mb-4 max-h-[50vh] overflow-y-auto",children:Fs.map(z=>s.jsxs("button",{onClick:()=>j(z.value),className:P("p-3 rounded-lg border-2 text-left transition-all",g===z.value?"border-accent bg-accent/10 shadow-blue-glow":"border-border-theme bg-bg-card hover:border-highlight"),children:[s.jsx("div",{className:"font-display text-text-primary mb-1",children:z.name}),s.jsx("div",{className:"text-xs text-text-muted mb-2",children:z.description}),z.bonuses.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:z.bonuses.map(($,ae)=>s.jsx("span",{className:"text-xs text-green-400 bg-green-400/10 px-1 rounded",children:$},ae))}),z.penalties.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:z.penalties.map(($,ae)=>s.jsx("span",{className:"text-xs text-red-400 bg-red-400/10 px-1 rounded",children:$},ae))})]},z.value))}),g&&s.jsx(Se,{className:"mb-4",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-text-secondary",children:"Selected: "}),s.jsx("span",{className:"font-display text-gold",children:(G=Fs.find(z=>z.value===g))==null?void 0:G.name})]})})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:K,className:"btn-secondary btn-lg flex-1",children:"Back"}),s.jsx("button",{onClick:k,disabled:!g,className:"btn-gold btn-lg flex-1",children:"Start Game"})]})]}),d==="confirm_abandon"&&!r&&s.jsxs(Se,{className:"w-full max-w-sm",children:[s.jsx("h3",{className:"font-display text-lg text-red-400 mb-4 text-center",children:"Abandon Game?"}),s.jsx("p",{className:"text-text-muted text-sm text-center mb-4",children:"Are you sure you want to abandon your current game? This cannot be undone."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x("menu"),className:"btn-secondary btn-lg flex-1",children:"Cancel"}),s.jsx("button",{onClick:W,className:"btn-danger btn-lg flex-1",children:"Abandon"})]})]}),s.jsx(yh,{className:"mt-8"}),s.jsxs("div",{className:"mt-6 text-center",children:[s.jsx("p",{className:"text-text-muted text-xs mb-2",children:"for real freaks, play in your terminal:"}),s.jsx("code",{className:"bg-bg-card border border-border-theme rounded px-3 py-1.5 text-accent font-mono text-sm select-all",children:"npx promisance-rogue"})]}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("p",{className:"text-text-muted text-xs font-mono",children:"Based on QM Promisance  10 Rounds to Glory"}),s.jsx("p",{className:"text-orange-400 text-xs mt-1",children:"Early Alpha - Expect bugs & balance changes"}),s.jsxs("a",{href:"https://github.com/blake365/promisance-rogue",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-text-muted hover:text-accent text-xs mt-2 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"})}),"GitHub"]})]})]})}function N(e){return e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toLocaleString()}function Kd(e){return e>0?`+${N(e)}`:e<0?N(e):"0"}const wh=["I","II","III","IV","V"];function Ia(e){return wh[e-1]||String(e)}const bh={farm:"Farming",cash:"Commerce",explore:"Exploration",industry:"Industry",meditate:"Mysticism"};function qd({empire:e,round:t,expanded:n=!1,onClose:r}){const[l,a]=w.useState(n),i=e.resources.land-e.resources.freeland,o=Math.max(e.resources.land,1),c=e.resources.freeland*10,u=e.buildings.bldfood/o,m=Math.sqrt(Math.max(0,1-.75*u)),d=e.buildings.bldfood*85*m,x=Math.round(c+d),y=Math.round(e.peasants*.01+e.troops.trparm*.05+e.troops.trplnd*.03+e.troops.trpfly*.02+e.troops.trpsea*.01+e.troops.trpwiz*.25),p=x-y,v=25*(1+e.buildings.bldcash/o),b=e.taxRate/100,h=e.health/100,f=v*b*h*e.peasants,g=e.buildings.bldcash*500,j=e.networth<=1e4?1:e.networth<=1e5?1.05:e.networth<=1e6?1.1:1.15,E=Math.round((f+g)/j),R=e.troops.trparm*1+e.troops.trplnd*2.5+e.troops.trpfly*4+e.troops.trpsea*7+e.troops.trpwiz*.5+e.resources.land*8,_=e.buildings.bldcost/o,S=Math.min(.5,_),B=Math.round(R*(1-S)),k=Math.round(e.loan/200),W=E-B-k,K=e.offTotal>0?Math.round(e.offSucc/e.offTotal*100):0,G=e.defTotal>0?Math.round(e.defSucc/e.defTotal*100):0,z=[];return e.shieldExpiresRound!==null&&e.shieldExpiresRound>=t.number&&z.push({name:"Shield",icon:"",expires:e.shieldExpiresRound}),e.gateExpiresRound!==null&&e.gateExpiresRound>=t.number&&z.push({name:"Gate",icon:"",expires:e.gateExpiresRound}),e.pacificationExpiresRound!==null&&e.pacificationExpiresRound>=t.number&&z.push({name:"Pacified",icon:"",expires:e.pacificationExpiresRound}),e.divineProtectionExpiresRound!==null&&e.divineProtectionExpiresRound>=t.number&&z.push({name:"Divine",icon:"",expires:e.divineProtectionExpiresRound}),e.bonusTurnsNextRound>0&&z.push({name:`+${e.bonusTurnsNextRound} turns`,icon:""}),s.jsxs(Se,{className:"select-none",children:[s.jsxs("button",{onClick:()=>a(!l),className:"w-full text-left",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h2",{className:"font-display text-base sm:text-lg text-gold truncate",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[s.jsx("span",{className:"text-gray-400 text-xs capitalize",children:e.race}),s.jsx(Wd,{era:e.era})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0",children:[s.jsxs("div",{className:"font-stats text-sm text-cyan-400",children:["R",t.number,"/10"]}),s.jsxs("div",{className:P("font-stats text-xs",t.turnsRemaining>10?"text-green-400":"text-red-400"),children:[t.turnsRemaining,"T"]})]})]}),s.jsxs("div",{className:"grid grid-cols-5 gap-0.5 mt-2",children:[s.jsx(Kn,{label:"Gold",value:e.resources.gold,color:"text-gold",icon:""}),s.jsx(Kn,{label:"Food",value:e.resources.food,color:"text-food",icon:""}),s.jsx(Kn,{label:"Runes",value:e.resources.runes,color:"text-runes",icon:""}),s.jsx(Kn,{label:"Land",value:e.resources.land,color:"text-land",icon:""}),s.jsx(Kn,{label:"NW",value:e.networth,color:"text-gold"})]}),z.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:z.map($=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-game-card rounded text-xs",children:[s.jsx("span",{children:$.icon}),s.jsx("span",{className:"text-gray-300",children:$.name}),$.expires&&s.jsxs("span",{className:"text-gray-500",children:["R",$.expires]})]},$.name))}),s.jsx("div",{className:"flex justify-center mt-2",children:s.jsxs("span",{className:P("text-gray-500 text-xs transition-transform",l&&"rotate-180"),children:[" ",l?"Less":"More"]})})]}),l&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-game-border space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-green-500/30",children:[s.jsx("h3",{className:"text-xs text-green-400 uppercase tracking-wider mb-2",children:"Agriculture"}),s.jsx(Y,{label:"Food",value:N(e.resources.food),color:"text-food"}),s.jsx(Y,{label:"Est. Production",value:`+${N(x)}`,color:"text-green-400"}),s.jsx(Y,{label:"Est. Consumption",value:`-${N(y)}`,color:"text-red-400"}),s.jsx(Y,{label:"Net",value:p>=0?`+${N(p)}`:N(p),color:p>=0?"text-green-400":"text-red-400"})]}),s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-gold/30",children:[s.jsx("h3",{className:"text-xs text-gold uppercase tracking-wider mb-2",children:"Finances"}),s.jsx(Y,{label:"Gold",value:`$${N(e.resources.gold)}`,color:"text-gold"}),s.jsx(Y,{label:"Est. Income",value:`+$${N(E)}`,color:"text-green-400"}),s.jsx(Y,{label:"Est. Expenses",value:`-$${N(B)}`,color:"text-red-400"}),s.jsx(Y,{label:"Net",value:W>=0?`+$${N(W)}`:`-$${N(Math.abs(W))}`,color:W>=0?"text-green-400":"text-red-400"}),s.jsxs("div",{className:"border-t border-game-border mt-2 pt-2",children:[s.jsx(Y,{label:"Tax Rate",value:`${e.taxRate}%`,color:"text-gray-300"}),s.jsx(Y,{label:"Savings",value:`$${N(e.bank)}`,color:"text-green-400"}),s.jsx(Y,{label:"Loan",value:`$${N(e.loan)}`,color:e.loan>0?"text-red-400":"text-gray-500"})]})]})]}),s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-cyan-500/30",children:[s.jsx("h3",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-2",children:"Land Division"}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-4 gap-y-1 text-sm",children:[s.jsx(Y,{label:"Huts",value:`${N(e.buildings.bldpop)} (${Ut(e.buildings.bldpop,i)})`}),s.jsx(Y,{label:"Markets",value:`${N(e.buildings.bldcash)} (${Ut(e.buildings.bldcash,i)})`}),s.jsx(Y,{label:"Barracks",value:`${N(e.buildings.bldtrp)} (${Ut(e.buildings.bldtrp,i)})`}),s.jsx(Y,{label:"Exchanges",value:`${N(e.buildings.bldcost)} (${Ut(e.buildings.bldcost,i)})`}),s.jsx(Y,{label:"Farms",value:`${N(e.buildings.bldfood)} (${Ut(e.buildings.bldfood,i)})`}),s.jsx(Y,{label:"Towers",value:`${N(e.buildings.bldwiz)} (${Ut(e.buildings.bldwiz,i)})`})]}),s.jsxs("div",{className:"border-t border-game-border mt-2 pt-2 flex justify-between text-sm",children:[s.jsx(Y,{label:"Free Land",value:`${N(e.resources.freeland)} (${Ut(e.resources.freeland,e.resources.land)})`,color:"text-gray-400"}),s.jsx(Y,{label:"Total Land",value:N(e.resources.land),color:"text-cyan-400"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-red-500/30",children:[s.jsx("h3",{className:"text-xs text-red-400 uppercase tracking-wider mb-2",children:"Combat Stats"}),s.jsx(Y,{label:"Offensive",value:`${e.offSucc}/${e.offTotal} (${K}%)`,color:"text-cyan-400"}),s.jsx(Y,{label:"Defensive",value:`${e.defSucc}/${e.defTotal} (${G}%)`,color:"text-cyan-400"}),s.jsx(Y,{label:"Kills",value:e.kills,color:"text-red-400"}),s.jsx(Y,{label:"Health",value:`${e.health}%`,color:e.health>50?"text-green-400":"text-red-400"})]}),s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-red-500/30",children:[s.jsx("h3",{className:"text-xs text-red-400 uppercase tracking-wider mb-2",children:"Military"}),s.jsx(Y,{label:"Infantry",value:N(e.troops.trparm)}),s.jsx(Y,{label:"Cavalry",value:N(e.troops.trplnd)}),s.jsx(Y,{label:"Aircraft",value:N(e.troops.trpfly)}),s.jsx(Y,{label:"Navy",value:N(e.troops.trpsea)}),s.jsx(Y,{label:"Wizards",value:N(e.troops.trpwiz),color:"text-runes"})]})]}),e.advisors.length>0&&s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-runes/30",children:[s.jsxs("h3",{className:"text-xs text-runes uppercase tracking-wider mb-2",children:["Advisors (",e.advisors.length,"/",3+e.bonusAdvisorSlots,")"]}),s.jsx("div",{className:"space-y-1",children:e.advisors.map($=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:P("text-sm font-medium",$.rarity==="legendary"&&"text-legendary",$.rarity==="rare"&&"text-rare",$.rarity==="uncommon"&&"text-uncommon",$.rarity==="common"&&"text-common"),children:$.name}),s.jsx("span",{className:"text-xs text-gray-500",children:$.description})]},$.id))})]}),(Object.keys(e.techs).length>0||e.policies.length>0)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Object.keys(e.techs).length>0&&s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-cyan-500/30",children:[s.jsx("h3",{className:"text-xs text-cyan-400 uppercase tracking-wider mb-2",children:"Masteries"}),s.jsx("div",{className:"space-y-1",children:Object.entries(e.techs).map(([$,ae])=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-300",children:bh[$]||$}),s.jsx("span",{className:"text-cyan-400 font-stats",children:Ia(ae)})]},$))})]}),e.policies.length>0&&s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-runes/30",children:[s.jsx("h3",{className:"text-xs text-runes uppercase tracking-wider mb-2",children:"Policies"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.policies.map($=>s.jsx("span",{className:"px-2 py-1 bg-runes/20 text-runes rounded text-xs",children:$.replace(/_/g," ")},$))})]})]}),r&&s.jsx("button",{onClick:r,className:"btn-secondary btn-md w-full",children:"Back"})]})]})}function Ut(e,t){return t===0?"0%":`${Math.round(e/t*100)}%`}function Y({label:e,value:t,color:n="text-gray-300"}){return s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:e}),s.jsx("span",{className:P("font-stats",n),children:t})]})}function Kn({label:e,value:t,color:n,icon:r}){return s.jsxs("div",{className:"text-center min-w-0",children:[s.jsxs("div",{className:"text-xs text-text-muted truncate",children:[r&&s.jsx("span",{className:"mr-0.5",children:r}),s.jsx("span",{className:"hidden sm:inline",children:e})]}),s.jsx("div",{className:P("font-stats text-sm",n),children:N(t)})]})}const cn=[{action:"explore",icon:"",label:"Explore",color:"green",description:"Gain land & heal"},{action:"farm",icon:"",label:"Farm",color:"amber",description:"+25% food production"},{action:"cash",icon:"",label:"Cash",color:"yellow",description:"+25% tax income"},{action:"industry",icon:"",label:"Industry",color:"cyan",description:"+25% troop production"},{action:"meditate",icon:"",label:"Meditate",color:"purple",description:"+25% rune production"}];function kh({turnsRemaining:e,health:t,taxRate:n,industryAllocation:r,troops:l,buildings:a,disabled:i,onExecute:o,onBuild:c,onAttack:u,onSpell:m,onMarket:d,onBank:x,onEnemies:y,onOverview:p,onGuide:v,onEndPhase:b,onAbandon:h}){const[f,g]=w.useState("explore"),[j,E]=w.useState(10),[R,_]=w.useState(n),[S,B]=w.useState(r),[k,W]=w.useState(!1),K=t<100?Math.min(100-t,e):Math.min(10,e),G=w.useMemo(()=>[{action:"farm",score:a.bldfood,config:cn.find(D=>D.action==="farm")},{action:"cash",score:a.bldcash,config:cn.find(D=>D.action==="cash")},{action:"industry",score:a.bldtrp,config:cn.find(D=>D.action==="industry")},{action:"meditate",score:a.bldwiz,config:cn.find(D=>D.action==="meditate")}].sort((D,H)=>H.score-D.score),[a.bldfood,a.bldcash,a.bldtrp,a.bldwiz]);w.useEffect(()=>{E(K)},[f,K]),w.useEffect(()=>{_(n)},[n]),w.useEffect(()=>{B(r)},[r]);const z=async()=>{if(!(j<=0||j>e||k)){W(!0);try{await o(f,j,{taxRate:f==="cash"?R:void 0,industryAllocation:f==="industry"?S:void 0})}finally{W(!1)}}},$=async(T,D)=>{if(!(D<=0||D>e||k)){W(!0);try{await o(T,D,{taxRate:T==="cash"?R:void 0,industryAllocation:T==="industry"?S:void 0})}finally{W(!1)}}},ae=cn.find(T=>T.action===f),Le=S.trparm+S.trplnd+S.trpfly+S.trpsea,I=Le===100,A=(T,D)=>{const pe={green:{bg:"bg-green-600/20",border:"border-green-500",text:"text-green-400"},amber:{bg:"bg-amber-600/20",border:"border-amber-500",text:"text-amber-400"},yellow:{bg:"bg-yellow-600/20",border:"border-yellow-500",text:"text-yellow-400"},cyan:{bg:"bg-cyan-600/20",border:"border-cyan-500",text:"text-cyan-400"},purple:{bg:"bg-purple-600/20",border:"border-purple-500",text:"text-purple-400"}}[T];return D?`${pe.bg} ${pe.border} ${pe.text}`:"bg-game-card border-game-border text-gray-400 hover:border-gray-500"};return s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[s.jsx("h3",{className:"text-label",children:"Quick Actions"}),s.jsx("span",{className:"text-xs text-gray-500",children:"(one tap)"})]}),s.jsxs("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-1",children:[s.jsxs("button",{onClick:()=>$("explore",K),disabled:i||k||e<1,className:P("flex-shrink-0 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-display","bg-green-600/20 border border-green-500/50 text-green-400","transition-all active:scale-95",(i||k)&&"opacity-50"),children:[" Explore ",K]}),G.map(({action:T,config:D})=>{const H={amber:"bg-amber-600/20 border-amber-500/50 text-amber-400",yellow:"bg-yellow-600/20 border-yellow-500/50 text-yellow-400",cyan:"bg-cyan-600/20 border-cyan-500/50 text-cyan-400",purple:"bg-purple-600/20 border-purple-500/50 text-purple-400"};return s.jsxs("button",{onClick:()=>$(T,K),disabled:i||k||e<1,className:P("flex-shrink-0 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-display border",H[D.color],"transition-all active:scale-95",(i||k)&&"opacity-50"),children:[D.icon," ",D.label," ",K]},T)}),s.jsx("button",{onClick:()=>$("explore",e),disabled:i||k||e<1,className:P("flex-shrink-0 px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-display","bg-purple-600/20 border border-purple-500/50 text-purple-400","transition-all active:scale-95",(i||k)&&"opacity-50"),children:" All"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-label mb-1.5",children:"Turn Action"}),s.jsx("div",{className:"grid grid-cols-5 gap-0.5 sm:gap-1",children:cn.map(T=>s.jsxs("button",{onClick:()=>g(T.action),disabled:i||k,className:P("flex flex-col items-center p-1.5 sm:p-2 rounded-lg border transition-all",A(T.color,f===T.action),(i||k)&&"opacity-50"),children:[s.jsx("span",{className:"text-lg sm:text-xl",children:T.icon}),s.jsx("span",{className:"text-xs font-display uppercase tracking-wider mt-0.5",children:T.label})]},T.action))})]}),s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border p-2 sm:p-3 space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"text-xs sm:text-sm text-gray-400",children:ae.description}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("span",{className:"text-gray-500 text-xs sm:text-sm flex-shrink-0",children:"Turns:"}),s.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>E(Math.max(1,j-10)),disabled:i||k||j<=1,className:"hidden sm:block w-9 h-9 rounded bg-game-dark border border-game-border text-red-400 text-xs disabled:opacity-30",children:"-10"}),s.jsx("button",{onClick:()=>E(Math.max(1,j-1)),disabled:i||k||j<=1,className:"w-8 h-8 sm:w-9 sm:h-9 rounded bg-game-dark border border-game-border text-red-400 disabled:opacity-30",children:"-1"}),s.jsx("input",{type:"number",value:j,onChange:T=>{const D=parseInt(T.target.value);isNaN(D)||E(Math.max(1,Math.min(e,D)))},disabled:i||k,className:"w-12 sm:w-14 h-8 sm:h-9 text-center font-stats text-sm sm:text-base bg-game-dark border border-game-border rounded"}),s.jsx("button",{onClick:()=>E(Math.min(e,j+1)),disabled:i||k||j>=e,className:"w-8 h-8 sm:w-9 sm:h-9 rounded bg-game-dark border border-game-border text-green-400 disabled:opacity-30",children:"+1"}),s.jsx("button",{onClick:()=>E(Math.min(e,j+10)),disabled:i||k||j>=e,className:"hidden sm:block w-9 h-9 rounded bg-game-dark border border-game-border text-green-400 text-xs disabled:opacity-30",children:"+10"})]}),s.jsx("button",{onClick:()=>E(e),disabled:i||k,className:"px-2 sm:px-3 h-8 sm:h-9 rounded bg-game-dark border border-game-border text-cyan-400 text-xs flex-shrink-0",children:"Max"})]}),f==="cash"&&s.jsxs("div",{className:"pt-2 border-t border-game-border",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Tax Rate:"}),s.jsxs("span",{className:"font-stats text-gold",children:[R,"%"]})]}),s.jsx("div",{className:"flex gap-2",children:[20,40,60,80].map(T=>s.jsxs("button",{onClick:()=>_(T),className:P("flex-1 py-1 rounded text-sm border transition-colors",R===T?"border-gold bg-gold/20 text-gold":"border-game-border bg-game-dark text-gray-400 hover:border-gray-500"),children:[T,"%"]},T))}),s.jsxs("div",{className:"text-xs text-center mt-1",children:[R<=20&&s.jsx("span",{className:"text-green-400",children:"Population grows faster"}),R>20&&R<=40&&s.jsx("span",{className:"text-yellow-400",children:"Normal growth"}),R>40&&R<=60&&s.jsx("span",{className:"text-orange-400",children:"Slower growth"}),R>60&&s.jsx("span",{className:"text-red-400",children:"Population leaving!"})]})]}),f==="industry"&&s.jsxs("div",{className:"pt-2 border-t border-game-border space-y-1.5 sm:space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Troop Allocation:"}),s.jsxs("span",{className:P("font-stats text-xs sm:text-sm",I?"text-green-400":"text-red-400"),children:[Le,"%"]})]}),["trparm","trplnd","trpfly","trpsea"].map(T=>{const D={trparm:"Inf",trplnd:"Cav",trpfly:"Air",trpsea:"Sea"},H={trparm:"Infantry",trplnd:"Cavalry",trpfly:"Aircraft",trpsea:"Navy"};return s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsxs("span",{className:"text-gray-400 text-xs w-8 sm:w-16 sm:text-sm",children:[s.jsx("span",{className:"sm:hidden",children:D[T]}),s.jsx("span",{className:"hidden sm:inline",children:H[T]})]}),s.jsx("button",{onClick:()=>B(pe=>({...pe,[T]:Math.max(0,pe[T]-10)})),className:"w-7 h-7 sm:w-8 sm:h-8 rounded bg-game-dark border border-game-border text-red-400 text-sm",children:"-"}),s.jsxs("div",{className:"flex-1 relative h-5 sm:h-6",children:[s.jsx("div",{className:"h-full bg-game-dark rounded border border-game-border overflow-hidden",children:s.jsx("div",{className:"h-full bg-cyan-500/30 transition-all",style:{width:`${S[T]}%`}})}),s.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs sm:text-sm font-stats",children:[S[T],"%"]})]}),s.jsx("button",{onClick:()=>B(pe=>({...pe,[T]:Math.min(100,pe[T]+10)})),className:"w-7 h-7 sm:w-8 sm:h-8 rounded bg-game-dark border border-game-border text-green-400 text-sm",children:"+"})]},T)}),s.jsxs("div",{className:"flex gap-0.5 sm:gap-1 flex-wrap",children:[s.jsx("button",{onClick:()=>B({trparm:25,trplnd:25,trpfly:25,trpsea:25}),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs border border-game-border bg-game-dark text-gray-400 hover:text-cyan-400",children:"Equal"}),s.jsx("button",{onClick:()=>B({trparm:100,trplnd:0,trpfly:0,trpsea:0}),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs border border-game-border bg-game-dark text-gray-400 hover:text-cyan-400",children:"Inf"}),s.jsx("button",{onClick:()=>B({trparm:0,trplnd:100,trpfly:0,trpsea:0}),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs border border-game-border bg-game-dark text-gray-400 hover:text-cyan-400",children:"Cav"}),s.jsx("button",{onClick:()=>B({trparm:0,trplnd:0,trpfly:100,trpsea:0}),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs border border-game-border bg-game-dark text-gray-400 hover:text-cyan-400",children:"Air"}),s.jsx("button",{onClick:()=>B({trparm:0,trplnd:0,trpfly:0,trpsea:100}),className:"px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-xs border border-game-border bg-game-dark text-gray-400 hover:text-cyan-400",children:"Navy"})]}),s.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[N(l.trparm)," Inf, ",N(l.trplnd)," Cav, ",N(l.trpfly)," Air, ",N(l.trpsea)," Sea"]})]}),s.jsx("button",{onClick:z,disabled:i||k||j<=0||f==="industry"&&!I,className:P("w-full py-2 sm:py-3 rounded-lg font-display uppercase tracking-wider text-sm transition-all","bg-gradient-to-r from-cyan-600 to-cyan-800 border border-cyan-500/50","active:scale-[0.98]",(i||k||f==="industry"&&!I)&&"opacity-50 cursor-not-allowed"),children:k?"Executing...":`${ae.icon} ${ae.label} (${j}T)`})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-label mb-1.5",children:"Complex Actions"}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-2",children:[s.jsxs("button",{onClick:c,disabled:i||k||e<1,className:P("flex flex-col items-center p-1.5 sm:p-2 rounded-lg","bg-blue-600/20 border border-blue-500/50 text-blue-400","transition-all active:scale-95",(i||k||e<1)&&"opacity-50"),children:[s.jsx("span",{className:"text-lg sm:text-xl",children:""}),s.jsx("span",{className:"text-xs font-display",children:"Build"})]}),s.jsxs("button",{onClick:u,disabled:i||k||e<2,className:P("flex flex-col items-center p-1.5 sm:p-2 rounded-lg","bg-red-600/20 border border-red-500/50 text-red-400","transition-all active:scale-95",(i||k||e<2)&&"opacity-50"),children:[s.jsx("span",{className:"text-lg sm:text-xl",children:""}),s.jsxs("span",{className:"text-xs font-display",children:["Attack ",s.jsx("span",{className:"text-gray-500",children:"2T"})]})]}),s.jsxs("button",{onClick:m,disabled:i||k||e<2,className:P("flex flex-col items-center p-1.5 sm:p-2 rounded-lg","bg-purple-600/20 border border-purple-500/50 text-purple-400","transition-all active:scale-95",(i||k||e<2)&&"opacity-50"),children:[s.jsx("span",{className:"text-lg sm:text-xl",children:""}),s.jsxs("span",{className:"text-xs font-display",children:["Spell ",s.jsx("span",{className:"text-gray-500",children:"2T"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-0.5 sm:gap-1",children:[s.jsxs("button",{onClick:d,disabled:i,className:"btn-ghost text-xs py-1.5 sm:py-2",children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Market"})]}),s.jsxs("button",{onClick:x,disabled:i,className:"btn-ghost text-xs py-1.5 sm:py-2",children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Bank"})]}),s.jsxs("button",{onClick:y,disabled:i,className:"btn-ghost text-xs py-1.5 sm:py-2",children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Enemies"})]}),s.jsxs("button",{onClick:p,disabled:i,className:"btn-ghost text-xs py-1.5 sm:py-2",children:[" ",s.jsx("span",{className:"hidden sm:inline",children:"Overview"})]})]}),s.jsxs("button",{onClick:b,disabled:i||k,className:P("w-full py-2 sm:py-3 rounded-lg font-display uppercase tracking-wider text-xs sm:text-sm","bg-gradient-to-r from-red-600/80 to-red-800/80 border border-red-500/50","transition-all active:scale-[0.98]",(i||k)&&"opacity-50"),children:["End Round (",e,"T unused)"]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-300 py-1",children:" Guide"}),s.jsx("button",{onClick:h,className:"text-gray-500 hover:text-red-400 py-1",children:" Abandon"})]})]})}const Sh={human:0,elf:-10,dwarf:16,troll:8,gnome:0,gremlin:0,orc:4,drow:-12,goblin:0};function Ch(e){const t=Sh[e.race]??0;let n=0;for(const r of e.advisors)r.effect.type==="build_cost"&&(n-=r.effect.modifier);return 1+t/100+n}function Eh(e){let t=1;for(const n of e.advisors)n.effect.type==="build_rate"&&(n.effect.condition==="per_turn_with_discount"?t*=.8:n.effect.condition==="per_turn"&&(t*=.75));return t}function Xd(e){return 1500+e*.05}function Ph(e,t){const n=Xd(e);if(!t)return Math.floor(n);const r=Ch(t),l=Eh(t);return Math.round(n*l/r)}function _h(e){const t=Xd(e);return Math.floor(t*.3)}const Ii={bldpop:"Markets",bldcash:"Enterprises",bldtrp:"Barracks",bldcost:"Exchanges",bldfood:"Farms",bldwiz:"Wizard Towers",blddef:"Guard Towers"},Bs={trparm:"Infantry",trplnd:"Cavalry",trpfly:"Aircraft",trpsea:"Navy",trpwiz:"Wizards"},Rh=[{key:"bldcash",name:"Markets",icon:"",description:"Gold income"},{key:"bldtrp",name:"Barracks",icon:"",description:"Troop production"},{key:"bldcost",name:"Exchanges",icon:"",description:"Reduce expenses"},{key:"bldfood",name:"Farms",icon:"",description:"Food production"},{key:"bldwiz",name:"Towers",icon:"",description:"Runes & wizards"}];function Th({freeLand:e,gold:t,landTotal:n,turnsRemaining:r,currentBuildings:l,empire:a,onBuild:i,onDemolish:o,onCancel:c}){const[u,m]=w.useState("build"),[d,x]=w.useState({}),[y,p]=w.useState(null),[v,b]=w.useState(""),h=w.useRef(null);w.useEffect(()=>{y&&h.current&&(h.current.focus(),h.current.select())},[y]);const f=Ph(n,a),g=_h(n),j=w.useMemo(()=>Object.values(d).reduce((O,M)=>O+(M||0),0),[d]),E=j*f,R=j*g,_=Math.max(1,Math.floor(n/20)),S=j>0?Math.max(1,Math.ceil(j/_)):0,B=r*_,k=E<=t,W=j<=e,K=S<=r,G=u==="build"&&k&&W&&K&&j>0,z=u==="demolish"&&j>0,$=(O,M)=>{x(F=>{const ue=F[O]||0;let et=ue+M;if(u==="build"){const gt=j-ue,zr=e-gt,Dr=Math.floor((t-gt*f)/f),Bt=B-gt,al=Math.min(zr,Dr,Bt);et=Math.max(0,Math.min(al,et))}else{const gt=l[O]||0;et=Math.max(0,Math.min(gt,et))}return{...F,[O]:et}})},ae=O=>{if(u==="build"){const M=j-(d[O]||0),F=e-M,ue=Math.floor((t-M*f)/f),et=B-M;return Math.max(0,Math.min(F,ue,et))}else return l[O]||0},Le=O=>{x(M=>({...M,[O]:ae(O)}))},I=O=>{const M=ae(O);x(F=>({...F,[O]:Math.floor(M/2)}))},A=()=>{x({})},T=O=>{b((d[O]||0).toString()),p(O)},D=O=>{const M=parseInt(v,10);if(!isNaN(M)&&M>=0){const F=d[O]||0,ue=M-F;$(O,ue)}p(null)},H=(O,M)=>{O.key==="Enter"?D(M):O.key==="Escape"&&p(null)},pe=()=>{const O={};for(const[M,F]of Object.entries(d))F&&F>0&&(O[M]=F);u==="build"?i(O):o(O)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-game-border",children:[s.jsx("button",{onClick:()=>{m("build"),A()},className:P("flex-1 py-2 font-display uppercase tracking-wider text-sm","transition-colors duration-150",u==="build"?"bg-cyan-600 text-white":"bg-game-card text-gray-400 hover:text-white"),children:" Build"}),s.jsx("button",{onClick:()=>{m("demolish"),A()},className:P("flex-1 py-2 font-display uppercase tracking-wider text-sm","transition-colors duration-150",u==="demolish"?"bg-red-600 text-white":"bg-game-card text-gray-400 hover:text-white"),children:" Demolish"})]}),s.jsx("div",{className:"flex justify-between text-sm",children:u==="build"?s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-gray-400",children:["Land: ",s.jsx("span",{className:"text-green-400",children:N(e)})]}),s.jsxs("span",{className:"text-gray-400",children:["Turns: ",s.jsx("span",{className:r>0?"text-cyan-400":"text-red-400",children:r})]}),s.jsxs("span",{className:"text-gray-400",children:["Cost: ",s.jsx("span",{className:"text-gold",children:N(f)}),"/bld"]})]}):s.jsxs("span",{className:"text-gray-400",children:["Refund: ",s.jsx("span",{className:"text-green-400",children:N(g)}),"/bld (30%)"]})}),s.jsx("div",{className:"space-y-2",children:Rh.map(O=>{const M=l[O.key]||0,F=d[O.key]||0;return s.jsxs("div",{className:"bg-game-card rounded-lg p-3 border border-game-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:O.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-display text-sm",children:O.name}),s.jsx("div",{className:"text-xs text-gray-500",children:O.description})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-stats text-gold",children:N(M)}),F>0&&s.jsxs("div",{className:P("text-xs font-stats",u==="build"?"text-green-400":"text-red-400"),children:[u==="build"?"+":"-",F]})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>$(O.key,-10),disabled:F===0,className:"number-btn w-12 h-12 text-sm text-red-400 disabled:opacity-30",children:"-10"}),s.jsx("button",{onClick:()=>$(O.key,-1),disabled:F===0,className:"number-btn w-12 h-12 text-red-400 disabled:opacity-30",children:"-"})]}),s.jsx("div",{className:"min-w-[70px] text-center cursor-pointer",onClick:()=>T(O.key),children:y===O.key?s.jsx("input",{ref:h,type:"number",value:v,onChange:ue=>b(ue.target.value),onBlur:()=>D(O.key),onKeyDown:ue=>H(ue,O.key),min:0,className:"w-16 text-center font-stats text-xl bg-bg-primary border-2 border-accent rounded px-1 py-0.5"}):s.jsx("span",{className:"font-stats text-xl text-accent",children:F})}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>$(O.key,1),className:"number-btn w-12 h-12 text-green-400 disabled:opacity-30",children:"+"}),s.jsx("button",{onClick:()=>$(O.key,10),className:"number-btn w-12 h-12 text-sm text-green-400 disabled:opacity-30",children:"+10"})]}),s.jsx("button",{onClick:()=>I(O.key),className:"btn-secondary btn-md min-h-[44px]",children:"50%"}),s.jsx("button",{onClick:()=>Le(O.key),className:"btn-secondary btn-md min-h-[44px]",children:"Max"})]})]},O.key)})}),s.jsxs("div",{className:"bg-game-dark rounded-lg p-3 border border-game-border",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-400",children:"Total Buildings:"}),s.jsx("span",{className:P("font-stats",j>0?"text-cyan-400":"text-gray-500"),children:j})]}),u==="build"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-400",children:"Total Cost:"}),s.jsxs("span",{className:P("font-stats",k?"text-gold":"text-red-400"),children:[N(E)," gold"]})]}),!W&&j>0&&s.jsx("p",{className:"text-red-400 text-xs",children:"Not enough free land!"}),!k&&j>0&&s.jsx("p",{className:"text-red-400 text-xs",children:"Not enough gold!"}),!K&&j>0&&s.jsxs("p",{className:"text-red-400 text-xs",children:["Not enough turns! (need ",S,", have ",r,")"]})]}):s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Total Refund:"}),s.jsxs("span",{className:"font-stats text-green-400",children:["+",N(R)," gold"]})]}),S>0&&s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-gray-400",children:"Turns Required:"}),s.jsx("span",{className:"font-stats text-cyan-400",children:S})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:A,className:"btn-secondary btn-md flex-1",children:"Clear"}),s.jsx("button",{onClick:c,className:"btn-secondary btn-md flex-1",children:"Cancel"}),s.jsx("button",{onClick:pe,disabled:u==="build"?!G:!z,className:P("btn-lg flex-1",u==="build"?"btn-primary":"btn-danger"),children:u==="build"?"Build":"Demolish"})]})]})}const lc=[{key:"food",type:"food",name:"Food",icon:""},{key:"trparm",type:"trparm",name:"Infantry",icon:""},{key:"trplnd",type:"trplnd",name:"Cavalry",icon:""},{key:"trpfly",type:"trpfly",name:"Aircraft",icon:""},{key:"trpsea",type:"trpsea",name:"Navy",icon:""}];function ac({empire:e,phase:t,marketPrices:n,effectivePrices:r,shopStock:l,onTransaction:a,onClose:i,embedded:o=!1}){const[c,u]=w.useState("buy"),[m,d]=w.useState(lc[0]),[x,y]=w.useState(0),[p,v]=w.useState(!1),b=t==="shop",h=w.useMemo(()=>r&&n?{food:{buy:n.foodBuyPrice,sell:n.foodSellPrice},trparm:r.trparm,trplnd:r.trplnd,trpfly:r.trpfly,trpsea:r.trpsea}:{food:{buy:30,sell:6},trparm:{buy:500,sell:160},trplnd:{buy:1e3,sell:340},trpfly:{buy:2e3,sell:720},trpsea:{buy:3e3,sell:1140}},[r,n]),f=G=>G==="food"?e.resources.food:e.troops[G]||0,g=G=>!b||!l?null:l[G]??0,j=h[m.type],E=c==="buy"?j.buy:j.sell,R=f(m.type),_=g(m.type),S=w.useMemo(()=>{const G=Math.floor(e.resources.gold/j.buy);return _!==null?Math.min(G,_):G},[e.resources.gold,j.buy,_]),B=w.useMemo(()=>b&&m.type!=="food"?Math.floor(R*.5):R,[b,m.type,R]),k=c==="buy"?S:B,W=x*E,K=async()=>{if(x<=0||p)return;v(!0);const G={type:c,resource:m.type==="food"?"food":"troops",amount:x,troopType:m.type!=="food"?m.type:void 0};await a(G),y(0),v(!1)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:P("font-display text-lg",b?"text-green-400":"text-gold"),children:b?" Shop Market":" Private Market"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-label",children:"Gold"}),s.jsx("div",{className:"font-stats text-gold",children:N(e.resources.gold)})]})]}),b&&s.jsx("p",{className:"text-sm text-green-400 bg-green-400/10 px-3 py-2 rounded",children:"Better prices during shop phase!"}),s.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-game-border",children:[s.jsx("button",{onClick:()=>{u("buy"),y(0)},className:P("flex-1 py-2 font-display uppercase tracking-wider text-sm",c==="buy"?"bg-green-600 text-white":"bg-game-card text-gray-400"),children:"Buy"}),s.jsx("button",{onClick:()=>{u("sell"),y(0)},className:P("flex-1 py-2 font-display uppercase tracking-wider text-sm",c==="sell"?"bg-red-600 text-white":"bg-game-card text-gray-400"),children:"Sell"})]}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:lc.map(G=>{const z=f(G.type),$=g(G.type),ae=m.key===G.key;return s.jsxs("button",{onClick:()=>{d(G),y(0)},className:P("flex flex-col items-center p-2 rounded-lg border transition-all",ae?"bg-game-card border-cyan-400 shadow-blue-glow":"bg-game-dark border-game-border hover:border-gray-500"),children:[s.jsx("span",{className:"text-xl",children:G.icon}),s.jsx("span",{className:"text-sm mt-1",children:G.name}),s.jsx("span",{className:"text-xs text-text-muted",children:N(z)}),b&&c==="buy"&&$!==null&&s.jsxs("span",{className:P("text-xs",$>0?"text-cyan-400":"text-red-400"),children:["Stock: ",N($)]})]},G.key)})}),s.jsxs("div",{className:"bg-game-card rounded-lg p-3 border border-game-border",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Buy Price:"}),s.jsxs("span",{className:"text-green-400",children:[N(j.buy)," gold"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Sell Price:"}),s.jsxs("span",{className:"text-red-400",children:[N(j.sell)," gold"]})]}),b&&c==="sell"&&m.type!=="food"&&s.jsx("p",{className:"text-sm text-text-muted mt-2",children:"Sell limit: 50% of owned troops"})]}),s.jsx(Yd,{value:x,onChange:y,min:0,max:k,steps:[1,10,100],presets:["zero","quarter","half","max"],showMax:!0,label:"Amount"}),s.jsx("div",{className:"bg-game-dark rounded-lg p-3 border border-game-border",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400",children:c==="buy"?"Total Cost:":"Total Revenue:"}),s.jsxs("span",{className:P("font-stats text-lg",c==="buy"?"text-red-400":"text-green-400"),children:[c==="buy"?"-":"+",N(W)," gold"]})]})}),s.jsxs("div",{className:"flex gap-2",children:[!o&&s.jsx("button",{onClick:i,className:"btn-secondary btn-lg flex-1",children:"Close"}),s.jsx("button",{onClick:K,disabled:x===0||p,className:P("btn-lg",o?"w-full":"flex-1",c==="buy"?"btn-primary":"btn-gold"),children:p?"Processing...":c==="buy"?"Buy":"Sell"})]})]})}const ic=[{operation:"deposit",name:"Deposit",icon:"",description:"Save gold (4%/round)",color:"text-green-400"},{operation:"withdraw",name:"Withdraw",icon:"",description:"Withdraw savings",color:"text-gold"},{operation:"take_loan",name:"Loan",icon:"",description:"Borrow (7.5%/round)",color:"text-red-400"},{operation:"pay_loan",name:"Pay Loan",icon:"",description:"Pay off debt",color:"text-cyan-400"}];function Ih({empire:e,bankInfo:t,onTransaction:n,onClose:r}){const[l,a]=w.useState(ic[0]),[i,o]=w.useState(0),[c,u]=w.useState(!1),m=w.useMemo(()=>{switch(l.operation){case"deposit":return Math.min(e.resources.gold,t.availableSavings);case"withdraw":return t.savings;case"take_loan":return t.availableLoan;case"pay_loan":return Math.min(e.resources.gold,t.loan);default:return 0}},[l.operation,e.resources.gold,t]),d=async()=>{i<=0||c||(u(!0),await n({operation:l.operation,amount:i}),o(0),u(!1))},x=w.useMemo(()=>i<=0?null:l.operation==="deposit"?{label:"Interest earned next round",value:Math.floor(i*t.savingsRate),color:"text-green-400",prefix:"+"}:l.operation==="take_loan"?{label:"Interest charged next round",value:Math.floor(i*t.loanRate),color:"text-red-400",prefix:"+"}:null,[i,l.operation,t.savingsRate,t.loanRate]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-display text-lg text-green-400",children:" Royal Bank"}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Gold"}),s.jsx("div",{className:"font-stats text-gold",children:N(e.resources.gold)})]})]}),s.jsxs("div",{className:"bg-game-card rounded-lg p-3 border border-game-border space-y-2",children:[s.jsx("h3",{className:"font-display text-sm text-gray-400 uppercase tracking-wider",children:"Account Summary"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Savings:"}),s.jsx("span",{className:"font-stats text-green-400",children:N(t.savings)})]}),s.jsxs("div",{className:"text-xs text-right text-gray-500",children:["+",(t.savingsRate*100).toFixed(1),"% interest per round"]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Loan Balance:"}),s.jsx("span",{className:"font-stats text-red-400",children:N(t.loan)})]}),s.jsxs("div",{className:"text-xs text-right text-gray-500",children:["+",(t.loanRate*100).toFixed(1),"% interest per round"]}),s.jsxs("div",{className:"pt-2 border-t border-game-border flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Credit Available:"}),s.jsx("span",{className:"font-stats text-cyan-400",children:N(t.availableLoan)})]}),s.jsxs("div",{className:"text-xs text-right text-gray-500",children:["Max loan: ",N(t.maxLoan)]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:ic.map(y=>{const p=l.operation===y.operation;let v=0;switch(y.operation){case"deposit":v=Math.min(e.resources.gold,t.availableSavings);break;case"withdraw":v=t.savings;break;case"take_loan":v=t.availableLoan;break;case"pay_loan":v=Math.min(e.resources.gold,t.loan);break}return s.jsxs("button",{onClick:()=>{a(y),o(0)},className:P("flex flex-col items-center p-3 rounded-lg border transition-all",p?"bg-game-card border-cyan-400 shadow-blue-glow":"bg-game-dark border-game-border hover:border-gray-500"),children:[s.jsx("span",{className:"text-2xl",children:y.icon}),s.jsx("span",{className:P("font-display text-sm mt-1",y.color),children:y.name}),s.jsx("span",{className:"text-xs text-gray-500",children:y.description}),s.jsxs("span",{className:P("text-xs mt-1",v>0?"text-gray-400":"text-red-400"),children:["Max: ",N(v)]})]},y.operation)})}),s.jsx(Yd,{value:i,onChange:o,min:0,max:m,steps:[10,100,1e3],presets:["zero","quarter","half","max"],showMax:!0,label:"Amount"}),x&&s.jsx("div",{className:"bg-game-dark rounded-lg p-3 border border-game-border",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400 text-sm",children:[x.label,":"]}),s.jsxs("span",{className:P("font-stats",x.color),children:[x.prefix,N(x.value)]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:r,className:"btn-secondary btn-lg flex-1",children:"Close"}),s.jsx("button",{onClick:d,disabled:i===0||c,className:P("btn-lg flex-1",l.color==="text-red-400"?"btn-danger":"btn-primary"),children:c?"Processing...":l.name})]})]})}function oc({bots:e,intel:t={},currentRound:n=1,playerEra:r,hasActiveGate:l,selectable:a,onSelect:i,onClose:o}){const[c,u]=w.useState(null),m=y=>!!(!r||y.era===r||l),d=y=>{a&&i&&m(y)&&i(y.id)},x=y=>{u(p=>p===y?null:y)};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-display text-lg text-red-400",children:" Enemy Empires"}),o&&s.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white text-xl",children:""})]}),s.jsx("div",{className:"space-y-2",children:e.map(y=>{const p=t[y.id],v=!!p,b=p&&p.round<n,h=p?n-p.round:0,f=r&&y.era!==r&&!l,g=c===y.id,j=m(y);return s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border overflow-hidden",children:[s.jsxs("button",{onClick:()=>a&&j?d(y):x(y.id),className:P("w-full p-3 text-left transition-colors",a&&j&&"hover:bg-game-border",f&&"opacity-60"),children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:P("font-display",f?"text-gray-500":"text-white"),children:y.name}),s.jsx(Wd,{era:y.era}),v&&s.jsx("span",{className:P("text-xs px-1.5 py-0.5 rounded",b?"bg-yellow-500/20 text-yellow-400":"bg-runes/20 text-runes"),children:b?`Intel (${h}R old)`:"Intel"})]}),s.jsx("div",{className:"text-sm text-gray-400 capitalize mt-1",children:y.race})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-stats text-gold",children:N(y.networth)}),s.jsxs("div",{className:"text-xs text-gray-500",children:[N(y.land)," land"]})]})]}),f&&s.jsxs("div",{className:"mt-2 text-xs text-red-400 flex items-center gap-1",children:[s.jsx("span",{children:""})," Needs Time Gate to attack (different era)"]}),a&&j&&s.jsx("div",{className:"mt-2 text-xs text-cyan-400",children:"Tap to select target"}),!a&&v&&s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:g?" Hide intel":" View intel"})]}),g&&p&&s.jsxs("div",{className:"border-t border-game-border p-3 bg-game-dark/50 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Resources"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Gold:"})," ",s.jsx("span",{className:"text-gold font-stats",children:N(p.gold)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Food:"})," ",s.jsx("span",{className:"text-food font-stats",children:N(p.food)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Runes:"})," ",s.jsx("span",{className:"text-runes font-stats",children:N(p.runes)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Status"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Health:"})," ",s.jsxs("span",{className:P("font-stats",p.health<50?"text-red-400":p.health<80?"text-yellow-400":"text-green-400"),children:[p.health,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Tax:"})," ",s.jsxs("span",{className:"font-stats text-gray-300",children:[p.taxRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Peasants:"})," ",s.jsx("span",{className:"font-stats text-gray-300",children:N(p.peasants)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Military"}),s.jsxs("div",{className:"grid grid-cols-5 gap-1 text-center text-xs",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Inf"}),s.jsx("div",{className:"font-stats text-gray-300",children:N(p.troops.trparm)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Cav"}),s.jsx("div",{className:"font-stats text-gray-300",children:N(p.troops.trplnd)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Air"}),s.jsx("div",{className:"font-stats text-gray-300",children:N(p.troops.trpfly)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Sea"}),s.jsx("div",{className:"font-stats text-gray-300",children:N(p.troops.trpsea)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Wiz"}),s.jsx("div",{className:"font-stats text-runes",children:N(p.troops.trpwiz)})]})]})]}),b&&s.jsxs("p",{className:"text-xs text-yellow-400 italic",children:[" This intel is ",h," round",h>1?"s":""," old and may be outdated"]})]})]},y.id)})}),a&&s.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Select an enemy to attack. You can only attack empires in your era",l?" (Gate active: all eras available)":"","."]}),o&&s.jsx("button",{onClick:o,className:"btn-secondary btn-lg w-full",children:"Close"})]})}const Zd=[{type:"shield",name:"Magic Shield",icon:"",description:"Block damage for 1 round",costMultiplier:4.9,category:"self"},{type:"food",name:"Cornucopia",icon:"",description:"Conjure food",costMultiplier:17,category:"self"},{type:"cash",name:"Midas' Touch",icon:"",description:"Conjure gold",costMultiplier:15,category:"self"},{type:"runes",name:"Arcane Well",icon:"",description:"Conjure runes",costMultiplier:12,category:"self"},{type:"gate",name:"Time Gate",icon:"",description:"Attack any era this round",costMultiplier:20,category:"self"},{type:"advance",name:"Time Warp",icon:"",description:"Advance to next era",costMultiplier:47.5,category:"self"},{type:"regress",name:"Regression",icon:"",description:"Return to previous era",costMultiplier:20,category:"self"},{type:"spy",name:"Spy",icon:"",description:"Reveal enemy stats",costMultiplier:1,category:"offensive"},{type:"blast",name:"Fireball",icon:"",description:"Destroy enemy troops",costMultiplier:2.5,category:"offensive"},{type:"storm",name:"Lightning Storm",icon:"",description:"Destroy food & gold",costMultiplier:7.25,category:"offensive"},{type:"struct",name:"Earthquake",icon:"",description:"Destroy buildings",costMultiplier:18,category:"offensive"},{type:"steal",name:"Gold Theft",icon:"",description:"Steal enemy gold",costMultiplier:25.75,category:"offensive"},{type:"fight",name:"Magical Assault",icon:"",description:"Take land magically",costMultiplier:22.5,category:"offensive"}],Mh=Zd.filter(e=>e.category==="self"),Lh=Zd.filter(e=>e.category==="offensive");function cc({runes:e,wizards:t,era:n,eraChangedRound:r,currentRound:l,health:a,spellCosts:i,mode:o,onSelect:c,onCancel:u}){const m=l>r,d=20,x=v=>i?i[v.type]??0:0,y=v=>{if(a<d)return{canCast:!1,reason:"Health too low"};if(t<=0)return{canCast:!1,reason:"No wizards"};const b=x(v);if(e<b)return{canCast:!1,reason:"Need more runes"};if(v.type==="advance"){if(n==="future")return{canCast:!1,reason:"Already in Future"};if(!m)return{canCast:!1,reason:"On cooldown"}}if(v.type==="regress"){if(n==="past")return{canCast:!1,reason:"Already in Past"};if(!m)return{canCast:!1,reason:"On cooldown"}}return{canCast:!0}},p=o==="self"?Mh:Lh;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-display text-lg text-runes",children:o==="self"?" Self Spells":" Offensive Spells"}),s.jsxs("div",{className:"text-right text-sm",children:[s.jsxs("div",{className:"text-gray-400",children:[s.jsx("span",{className:"text-runes",children:N(e)})," runes"]}),s.jsxs("div",{className:"text-gray-400",children:[s.jsx("span",{className:"text-cyan-400",children:N(t)})," wizards"]})]})]}),a<d&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-red-400 text-sm",children:[" Health too low to cast spells! Need at least ",d," health."]}),t===0&&a>=d&&s.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 text-red-400 text-sm",children:" You need wizards to cast spells! Build Wizard Towers to train wizards."}),s.jsx("div",{className:"space-y-2",children:p.map(v=>{const{canCast:b,reason:h}=y(v),f=x(v);return s.jsxs("button",{onClick:()=>b&&c(v.type),disabled:!b,className:P("w-full flex items-center gap-3 p-3 rounded-lg border transition-all text-left",b?"bg-game-card border-game-border hover:border-runes active:scale-[0.98]":"bg-game-dark/50 border-game-border/50 opacity-60 cursor-not-allowed"),children:[s.jsx("span",{className:"text-2xl",children:v.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:P("font-display",b?"text-white":"text-gray-500"),children:v.name}),s.jsx("div",{className:"text-xs text-gray-500",children:v.description})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:P("font-stats",b?"text-runes":"text-gray-500"),children:N(f)}),!b&&h&&s.jsx("div",{className:"text-xs text-red-400",children:h})]})]},v.type)})}),o==="self"&&s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Self spells buff your empire. Costs 2 turns to cast."}),o==="offensive"&&s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Offensive spells target enemies. Select a spell, then choose a target. Costs 2 turns and 5 health."}),s.jsx("button",{onClick:u,className:"btn-secondary btn-lg w-full",children:"Cancel"})]})}function Oh({attacksRemaining:e,maxAttacks:t,onSelect:n,onSpell:r,onCancel:l}){const a=[{type:"standard",name:"Standard Attack",icon:"",description:"All units (+15% land bonus)",extra:"-6 health"},{type:"trparm",name:"Infantry Only",icon:"",description:"Infantry units only",extra:"-5 health"},{type:"trplnd",name:"Cavalry Only",icon:"",description:"Cavalry units only",extra:"-5 health"},{type:"trpfly",name:"Air Only",icon:"",description:"Aircraft units only",extra:"-5 health"},{type:"trpsea",name:"Naval Only",icon:"",description:"Naval units only",extra:"-5 health"}];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-display text-lg text-red-400",children:" Choose Attack Type"}),s.jsxs("span",{className:"text-sm text-gray-400",children:[s.jsx("span",{className:"font-stats text-white",children:e}),"/",t," attacks left"]})]}),s.jsx("div",{className:"space-y-2",children:a.map(i=>s.jsxs("button",{onClick:()=>n(i.type),className:"w-full flex items-center gap-3 p-3 rounded-lg border bg-game-card border-game-border hover:border-red-400 active:scale-[0.98] transition-all text-left",children:[s.jsx("span",{className:"text-2xl",children:i.icon}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-display text-white",children:i.name}),s.jsx("div",{className:"text-xs text-gray-500",children:i.description})]}),s.jsx("span",{className:"text-xs text-red-400",children:i.extra})]},i.type))}),s.jsx("div",{className:"border-t border-game-border pt-3",children:s.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 p-3 rounded-lg border bg-game-card border-runes/50 hover:border-runes active:scale-[0.98] transition-all text-left",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-display text-runes",children:"Offensive Spell"}),s.jsx("div",{className:"text-xs text-gray-500",children:"Cast magic against enemy"})]})]})}),s.jsx("button",{onClick:l,className:"btn-secondary btn-lg w-full",children:"Cancel"})]})}const zh={advisor:"",tech:"",edict:"",policy:""},Dh={farm:"Farming",cash:"Commerce",explore:"Exploration",industry:"Industry",meditate:"Mysticism"};function Ah(e){if(["food_production","income","industry","explore","offense","defense","military","build_cost","spell_cost","market_bonus","magic","rune_production","casualty_reduction","spy_ratio"].includes(e.type)){const n=Math.round(e.modifier*100),l=e.type.includes("cost")||e.type==="spy_ratio"||e.type==="casualty_reduction"?n<0:n>0;return{text:`${n>0?"+":""}${n}%`,positive:l}}return["extra_turns","extra_attacks","health_regen"].includes(e.type)?{text:`+${e.modifier}`,positive:!0}:["permanent_gate","permanent_shield"].includes(e.type)?{text:"ACTIVE",positive:!0}:["double_explore","double_bank_interest"].includes(e.type)?{text:"2x",positive:!0}:null}function $h({options:e,rerollInfo:t,masteryLevels:n={},extraPicks:r=0,onSelect:l,onReroll:a,onAdvisors:i}){const[o,c]=w.useState(null),u=t==null?void 0:t.advisorCapacity,m=u&&u.current>=u.max,d=x=>{const y=x.item;if(x.type==="tech"&&y.action){const p=n[y.action]??0,v=p+1;return{name:y.name,description:y.description||`${Dh[y.action]||y.action} mastery`,rarity:"common",effect:null,levelInfo:`${p>0?Ia(p):"0"}  ${Ia(v)}`}}return{name:y.name,description:y.description||`Level ${y.level||1} ${x.type}`,rarity:y.rarity||"common",effect:x.type==="advisor"?y.effect:null,levelInfo:null}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"font-display text-lg text-gold",children:"Choose Your Bonus"}),r>0&&s.jsxs("span",{className:"text-sm text-green-400",children:["+",r," extra pick",r>1?"s":""]})]}),u&&s.jsxs("span",{className:P("text-sm",m?"text-red-400":"text-gray-400"),children:["Advisors: ",u.current,"/",u.max]})]}),m&&s.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-2 text-red-400 text-sm",children:"Advisor slots full! Dismiss one or choose tech/edict."}),s.jsx("div",{className:"overflow-x-auto scrollbar-hide -mx-4 px-4 snap-x snap-mandatory scroll-smooth",children:s.jsx("div",{className:"flex gap-3 pb-2",style:{width:"max-content"},children:e.map((x,y)=>{const p=d(x),v=y===o,b=x.type==="advisor"&&m,h=p.effect?Ah(p.effect):null;return s.jsxs("button",{onClick:()=>{b||c(y)},disabled:b,className:P("flex-shrink-0 w-[160px] p-3 rounded-lg border-2 transition-all text-left snap-start",v&&!b&&"border-cyan-400 shadow-blue-glow bg-cyan-500/10",!v&&!b&&"border-game-border bg-game-card hover:border-gray-500",b&&"border-red-500/50 bg-game-dark/50 opacity-60 cursor-not-allowed"),children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-lg",children:zh[x.type]}),s.jsx("span",{className:"text-sm text-text-muted uppercase",children:x.type})]}),s.jsx("div",{className:P("font-display text-sm mb-1",b?"text-red-400":p.rarity==="legendary"?"text-legendary":p.rarity==="rare"?"text-rare":p.rarity==="uncommon"?"text-uncommon":"text-common"),children:p.name}),p.levelInfo?s.jsx("div",{className:"text-cyan-400 font-stats text-sm mb-2",children:p.levelInfo}):s.jsx("div",{className:"mb-2",children:s.jsx(Hd,{rarity:p.rarity})}),s.jsx("p",{className:P("text-sm line-clamp-3",b?"text-red-400":"text-text-secondary"),children:b?"SLOTS FULL":p.description}),h&&!b&&s.jsx("div",{className:P("mt-2 font-stats text-sm",h.positive?"text-green-400":"text-red-400"),children:h.text})]},y)})})}),s.jsx("div",{className:"flex justify-center gap-1",children:e.map((x,y)=>{const p=x.type==="advisor"&&m;return s.jsx("button",{onClick:()=>!p&&c(y),disabled:p,className:P("w-11 h-11 flex items-center justify-center",p&&"opacity-50"),children:s.jsx("span",{className:P("w-3 h-3 rounded-full transition-colors",y===o?"bg-cyan-400":"bg-game-border")})},y)})}),t&&t.rerollsRemaining>0&&s.jsxs("div",{className:"flex justify-between items-center bg-game-card rounded-lg p-3 border border-game-border",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-text-secondary",children:["Rerolls: ",t.rerollsRemaining,"/",t.maxRerolls]}),t.cost!==null&&s.jsxs("div",{className:"text-sm text-text-muted",children:["Cost: ",N(t.cost)," gold"]})]}),s.jsx("button",{onClick:a,disabled:!t.canAfford,className:P("btn-sm",t.canAfford?"btn-gold":"btn-secondary opacity-50"),children:" Reroll"})]}),o!==null&&s.jsx("button",{onClick:()=>{l(o),c(null)},className:"btn-primary btn-lg w-full",children:" Confirm Selection"}),i&&s.jsx("button",{onClick:i,className:"btn-secondary btn-md w-full",children:" Manage Advisors"})]})}function uc({result:e,action:t,onClose:n}){const r=e.success;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-2",children:r?"":""}),s.jsxs("h2",{className:P("font-display text-xl",r?"text-green-400":"text-red-400"),children:[Uh(t)," ",r?"Complete":"Failed"]}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[e.turnsSpent," turn",e.turnsSpent!==1?"s":""," spent  ",e.turnsRemaining," remaining"]})]}),e.stoppedEarly&&s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/50 rounded-lg p-3 text-yellow-400 text-sm",children:[" Stopped early: ",e.stoppedEarly==="food"?"Ran out of food!":"Loan limit exceeded!"]}),s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border p-3 space-y-3",children:[(e.income>0||e.expenses>0)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Economy"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.income>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Income:"}),s.jsxs("span",{className:"text-green-400 font-stats",children:["+",N(e.income)]})]}),e.expenses>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Expenses:"}),s.jsxs("span",{className:"text-red-400 font-stats",children:["-",N(e.expenses)]})]}),e.bankInterest>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Bank Interest:"}),s.jsxs("span",{className:"text-green-400 font-stats",children:["+",N(e.bankInterest)]})]}),e.loanInterest>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Loan Interest:"}),s.jsxs("span",{className:"text-red-400 font-stats",children:["-",N(e.loanInterest)]})]})]})]}),(e.foodProduction>0||e.foodConsumption>0)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Food"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.foodProduction>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Produced:"}),s.jsxs("span",{className:"text-food font-stats",children:["+",N(e.foodProduction)]})]}),e.foodConsumption>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Consumed:"}),s.jsxs("span",{className:"text-red-400 font-stats",children:["-",N(e.foodConsumption)]})]})]})]}),e.runeChange!==0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Runes"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Change:"}),s.jsx("span",{className:P("font-stats",e.runeChange>0?"text-runes":"text-red-400"),children:Kd(e.runeChange)})]})]}),e.landGained&&e.landGained>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Exploration"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Land Gained:"}),s.jsxs("span",{className:"text-land font-stats",children:["+",N(e.landGained)]})]})]}),e.troopsProduced&&Object.values(e.troopsProduced).some(l=>l&&l>0)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Troops Produced"}),s.jsx("div",{className:"grid grid-cols-2 gap-1 text-sm",children:Object.entries(e.troopsProduced).map(([l,a])=>!a||a<=0?null:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[Bs[l]||l,":"]}),s.jsxs("span",{className:"text-cyan-400 font-stats",children:["+",N(a)]})]},l))})]}),e.buildingsConstructed&&Object.values(e.buildingsConstructed).some(l=>l&&l>0)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-1",children:"Buildings Constructed"}),s.jsx("div",{className:"grid grid-cols-2 gap-1 text-sm",children:Object.entries(e.buildingsConstructed).map(([l,a])=>!a||a<=0?null:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-400",children:[Ii[l]||l,":"]}),s.jsxs("span",{className:"text-blue-400 font-stats",children:["+",a]})]},l))})]}),e.combatResult&&s.jsx(Fh,{combat:e.combatResult}),e.spellResult&&s.jsx(Bh,{spell:e.spellResult})]}),s.jsx("button",{onClick:n,className:"btn-primary btn-lg w-full",children:"Continue"})]})}function Fh({combat:e}){return s.jsxs("div",{className:"border-t border-game-border pt-3",children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:"Combat Result"}),s.jsx("div",{className:P("text-center py-2 rounded mb-3",e.won?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"),children:s.jsx("span",{className:"font-display text-lg",children:e.won?" Victory!":" Defeat"})}),e.won&&e.landGained>0&&s.jsxs("div",{className:"mt-2 flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Land Captured:"}),s.jsxs("span",{className:"text-land font-stats",children:["+",N(e.landGained)]})]}),e.buildingsGained&&Object.values(e.buildingsGained).some(t=>t&&t>0)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Buildings Captured"}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(e.buildingsGained).map(([t,n])=>!n||n<=0?null:s.jsxs("span",{className:"text-green-400",children:["+",n," ",Ii[t]||t]},t))})]}),Object.values(e.attackerLosses).some(t=>t&&t>0)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Your Losses"}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(e.attackerLosses).map(([t,n])=>!n||n<=0?null:s.jsxs("span",{className:"text-red-400",children:["-",N(n)," ",Bs[t]||t]},t))})]}),Object.values(e.defenderLosses).some(t=>t&&t>0)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Enemy Losses"}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(e.defenderLosses).map(([t,n])=>!n||n<=0?null:s.jsxs("span",{className:"text-cyan-400",children:["-",N(n)," ",Bs[t]||t]},t))})]})]})}function Bh({spell:e}){return s.jsxs("div",{className:"border-t border-game-border pt-3",children:[s.jsx("h3",{className:"text-xs text-gray-500 uppercase tracking-wider mb-2",children:"Spell Result"}),s.jsx("div",{className:P("text-center py-2 rounded mb-3",e.success?"bg-runes/10 text-runes":"bg-red-500/10 text-red-400"),children:s.jsxs("span",{className:"font-display text-lg",children:[e.success?" Spell Succeeded!":" Spell Failed",e.castCount&&e.castCount>1&&` (${e.castCount}x)`]})}),e.effectApplied&&s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Effect: ",s.jsx("span",{className:"text-white",children:e.effectApplied}),e.effectDuration&&` (${e.effectDuration} rounds)`]}),e.resourcesGained&&s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm mb-2",children:[e.resourcesGained.gold!==void 0&&e.resourcesGained.gold>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Gold:"}),s.jsxs("span",{className:"text-gold font-stats ml-1",children:["+",N(e.resourcesGained.gold)]})]}),e.resourcesGained.food!==void 0&&e.resourcesGained.food>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Food:"}),s.jsxs("span",{className:"text-food font-stats ml-1",children:["+",N(e.resourcesGained.food)]})]}),e.resourcesGained.runes!==void 0&&e.resourcesGained.runes>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Runes:"}),s.jsxs("span",{className:"text-runes font-stats ml-1",children:["+",N(e.resourcesGained.runes)]})]})]}),e.goldStolen!==void 0&&e.goldStolen>0&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Gold Stolen:"}),s.jsxs("span",{className:"text-gold font-stats ml-1",children:["+",N(e.goldStolen)]})]}),e.foodDestroyed!==void 0&&e.foodDestroyed>0&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Enemy Food Destroyed:"}),s.jsx("span",{className:"text-cyan-400 font-stats ml-1",children:N(e.foodDestroyed)})]}),e.cashDestroyed!==void 0&&e.cashDestroyed>0&&s.jsxs("div",{className:"text-sm mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Enemy Gold Destroyed:"}),s.jsx("span",{className:"text-cyan-400 font-stats ml-1",children:N(e.cashDestroyed)})]}),e.troopsDestroyed&&Object.values(e.troopsDestroyed).some(t=>t&&t>0)&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Enemy Troops Destroyed"}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(e.troopsDestroyed).map(([t,n])=>!n||n<=0?null:s.jsxs("span",{className:"text-cyan-400",children:["-",N(n)," ",Bs[t]||t]},t))})]}),e.buildingsDestroyed&&Object.values(e.buildingsDestroyed).some(t=>t&&t>0)&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Enemy Buildings Destroyed"}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:Object.entries(e.buildingsDestroyed).map(([t,n])=>!n||n<=0?null:s.jsxs("span",{className:"text-cyan-400",children:["-",n," ",Ii[t]||t]},t))})]}),e.wizardsLost!==void 0&&e.wizardsLost>0&&s.jsxs("div",{className:"text-sm text-red-400 mb-2",children:["Lost ",N(e.wizardsLost)," wizards"]}),e.intel&&s.jsxs("div",{className:"mt-2 p-2 bg-runes/10 rounded text-sm",children:[s.jsxs("div",{className:"text-runes font-display mb-1",children:[" Intel: ",e.intel.targetName]}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Era:"})," ",s.jsx("span",{className:"text-white",children:e.intel.era})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Health:"})," ",s.jsxs("span",{className:e.intel.health<50?"text-red-400":"text-white",children:[e.intel.health,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Land:"})," ",s.jsx("span",{className:"text-white",children:N(e.intel.land)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Networth:"})," ",s.jsx("span",{className:"text-gold",children:N(e.intel.networth)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Gold:"})," ",s.jsx("span",{className:"text-gold",children:N(e.intel.gold)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Food:"})," ",s.jsx("span",{className:"text-food",children:N(e.intel.food)})]})]}),e.intel.troops&&s.jsxs("div",{className:"mt-1 text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Troops:"})," ",s.jsxs("span",{className:"text-white",children:[N(e.intel.troops.trparm)," Inf, ",N(e.intel.troops.trplnd)," Cav, ",N(e.intel.troops.trpfly)," Air, ",N(e.intel.troops.trpsea)," Sea"]})]})]})]})}function Uh(e){return{explore:"Exploration",farm:"Farming",cash:"Tax Collection",meditate:"Meditation",industry:"Industry",build:"Construction",demolish:"Demolition",attack:"Attack",spell:"Spell Cast"}[e]||e}const Gh={shield:"Magic Shield",food:"Cornucopia",cash:"Midas Touch",runes:"Arcane Flow",blast:"Fire Blast",steal:"Thievery",storm:"Lightning Storm",struct:"Earthquake",advance:"Time Warp",regress:"Time Shift",gate:"Time Gate",spy:"Spy",fight:"Battle Cry"},zl={bldpop:"Huts",bldcash:"Markets",bldtrp:"Barracks",bldcost:"Blacksmiths",bldfood:"Farms",bldwiz:"Towers",blddef:"Forts"},ns={trparm:"Infantry",trplnd:"Cavalry",trpfly:"Air",trpsea:"Navy",trpwiz:"Wizards"};function Vh({result:e,action:t,onDismiss:n,onViewDetails:r,onAttackSameTarget:l,onAttackNewTarget:a,autoHideMs:i=3e3}){var y;const[o,c]=w.useState(!0),u=w.useCallback(()=>{c(!1),setTimeout(n,300)},[n]);w.useEffect(()=>{const p=setTimeout(u,i);return()=>clearTimeout(p)},[i,u]);const m=!!(e.combatResult||(y=e.spellResult)!=null&&y.intel),d=e.success,x=Wh(e);return s.jsx("div",{className:P("fixed bottom-20 left-4 right-4 z-50 pointer-events-auto","transform transition-all duration-300 ease-out",o?"translate-y-0 opacity-100":"translate-y-full opacity-0"),children:s.jsxs("div",{className:P("bg-game-card border rounded-lg shadow-lg p-4 max-w-lg mx-auto",d?"border-green-500/50":"border-red-500/50"),onClick:m?r:u,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:Hh(t)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:P("font-display text-sm",d?"text-green-400":"text-red-400"),children:[Qh(t)," ",d?"":""]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.turnsSpent," turn",e.turnsSpent!==1?"s":"","  ",e.turnsRemaining," left"]})]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),u()},className:"text-gray-500 hover:text-white",children:""})]}),e.stoppedEarly&&s.jsxs("p",{className:"text-xs text-yellow-400 mb-2",children:[" ",e.stoppedEarly==="food"?"Ran out of food!":"Loan limit exceeded!"]}),t==="explore"&&e.landGained&&e.landGained>0&&s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-lg font-display text-land",children:[" +",N(e.landGained)," land discovered!"]}),s.jsx("div",{className:"text-xs text-gray-400",children:"New territory ready for development"})]}),t==="build"&&e.buildingsConstructed&&Object.values(e.buildingsConstructed).some(p=>p&&p>0)&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-sm font-display text-blue-400 mb-1",children:" Construction Complete"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-3 gap-y-0.5 text-xs",children:Object.entries(e.buildingsConstructed).filter(([,p])=>p&&p>0).map(([p,v])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:zl[p]}),s.jsxs("span",{className:"text-blue-400",children:["+",v]})]},p))})]}),t==="industry"&&e.troopsProduced&&Object.values(e.troopsProduced).some(p=>p&&p>0)&&s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-sm font-display text-cyan-400 mb-1",children:" Troops Trained"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-3 gap-y-0.5 text-xs",children:Object.entries(e.troopsProduced).filter(([,p])=>p&&p>0).map(([p,v])=>s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:ns[p]}),s.jsxs("span",{className:"text-cyan-400",children:["+",N(v)]})]},p))})]}),!["explore","build","industry","attack","spell"].includes(t)&&x.length>0&&s.jsx("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-sm",children:x.map((p,v)=>s.jsxs("span",{className:p.color,children:[p.prefix,N(p.value)," ",p.label]},v))}),t==="farm"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-display text-food mb-1",children:" Farming Results"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Produced:"}),s.jsxs("span",{className:"text-green-400",children:["+",N(e.foodProduction)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Consumed:"}),s.jsxs("span",{className:"text-red-400",children:["-",N(e.foodConsumption)]})]}),s.jsxs("div",{className:"flex justify-between col-span-2 border-t border-game-border pt-1 mt-1",children:[s.jsx("span",{className:"text-gray-300",children:"Net Food:"}),s.jsxs("span",{className:e.foodProduction-e.foodConsumption>=0?"text-food font-semibold":"text-red-400 font-semibold",children:[e.foodProduction-e.foodConsumption>=0?"+":"",N(e.foodProduction-e.foodConsumption)]})]})]}),(e.income>0||e.expenses>0)&&s.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Gold: ",s.jsxs("span",{className:e.income-e.expenses>=0?"text-gold":"text-red-400",children:[e.income-e.expenses>=0?"+":"",N(e.income-e.expenses)]})]})]}),t==="cash"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-display text-gold mb-1",children:" Commerce Results"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Income:"}),s.jsxs("span",{className:"text-green-400",children:["+",N(e.income)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Expenses:"}),s.jsxs("span",{className:"text-red-400",children:["-",N(e.expenses)]})]}),e.bankInterest>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Bank Interest:"}),s.jsxs("span",{className:"text-green-400",children:["+",N(e.bankInterest)]})]}),e.loanInterest>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Loan Interest:"}),s.jsxs("span",{className:"text-red-400",children:["-",N(e.loanInterest)]})]}),e.loanPayment>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Loan Payment:"}),s.jsxs("span",{className:"text-yellow-400",children:["-",N(e.loanPayment)]})]}),s.jsxs("div",{className:"flex justify-between col-span-2 border-t border-game-border pt-1 mt-1",children:[s.jsx("span",{className:"text-gray-300",children:"Net Gold:"}),s.jsx("span",{className:e.income-e.expenses+(e.bankInterest||0)-(e.loanInterest||0)>=0?"text-gold font-semibold":"text-red-400 font-semibold",children:(()=>{const p=e.income-e.expenses+(e.bankInterest||0)-(e.loanInterest||0);return`${p>=0?"+":""}${N(p)}`})()})]})]}),(e.foodProduction>0||e.foodConsumption>0)&&s.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Food: ",s.jsxs("span",{className:e.foodProduction-e.foodConsumption>=0?"text-food":"text-red-400",children:[e.foodProduction-e.foodConsumption>=0?"+":"",N(e.foodProduction-e.foodConsumption)]})]})]}),t==="meditate"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm font-display text-runes mb-1",children:" Meditation Results"}),s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-xs",children:s.jsxs("div",{className:"flex justify-between col-span-2",children:[s.jsx("span",{className:"text-gray-400",children:"Runes Gained:"}),s.jsxs("span",{className:"text-runes font-semibold",children:["+",N(e.runeChange)]})]})}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2 flex gap-3",children:[s.jsxs("span",{children:["Gold: ",s.jsxs("span",{className:e.income-e.expenses>=0?"text-gold":"text-red-400",children:[e.income-e.expenses>=0?"+":"",N(e.income-e.expenses)]})]}),s.jsxs("span",{children:["Food: ",s.jsxs("span",{className:e.foodProduction-e.foodConsumption>=0?"text-food":"text-red-400",children:[e.foodProduction-e.foodConsumption>=0?"+":"",N(e.foodProduction-e.foodConsumption)]})]})]})]}),e.combatResult&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:P("text-sm font-display",e.combatResult.won?"text-green-400":"text-red-400"),children:[" ",e.combatResult.won?"Victory!":"Defeat",e.combatResult.won&&e.combatResult.landGained>0&&s.jsxs("span",{className:"text-land ml-2",children:["+",N(e.combatResult.landGained)," land"]})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Power: ",s.jsx("span",{className:"text-cyan-400",children:N(e.combatResult.offpower)})," vs ",s.jsx("span",{className:"text-red-400",children:N(e.combatResult.defpower)})]}),e.combatResult.attackerLosses&&Object.keys(e.combatResult.attackerLosses).length>0&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Your losses:"})," ",s.jsx("span",{className:"text-red-400",children:Object.entries(e.combatResult.attackerLosses).filter(([,p])=>p&&p>0).map(([p,v])=>`${N(v)} ${ns[p]}`).join(", ")||"None"})]}),e.combatResult.won&&e.combatResult.defenderLosses&&Object.keys(e.combatResult.defenderLosses).length>0&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Enemy losses:"})," ",s.jsx("span",{className:"text-green-400",children:Object.entries(e.combatResult.defenderLosses).filter(([,p])=>p&&p>0).map(([p,v])=>`${N(v)} ${ns[p]}`).join(", ")||"None"})]}),e.combatResult.won&&e.combatResult.buildingsGained&&Object.values(e.combatResult.buildingsGained).some(p=>p&&p>0)&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-gray-500",children:"Captured:"})," ",s.jsx("span",{className:"text-blue-400",children:Object.entries(e.combatResult.buildingsGained).filter(([,p])=>p&&p>0).map(([p,v])=>`${v} ${zl[p]}`).join(", ")})]})]}),e.spellResult&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:P("text-sm font-display",e.spellResult.success?"text-runes":"text-red-400"),children:[" ",Gh[e.spellResult.spell]||e.spellResult.spell,e.spellResult.castCount&&e.spellResult.castCount>1&&` (${e.spellResult.castCount}x)`," ",e.spellResult.success?"":""]}),e.spellResult.resourcesGained&&Object.keys(e.spellResult.resourcesGained).length>0&&s.jsxs("div",{className:"text-xs",children:[e.spellResult.resourcesGained.gold&&e.spellResult.resourcesGained.gold>0&&s.jsxs("span",{className:"text-gold mr-2",children:["+",N(e.spellResult.resourcesGained.gold)," gold"]}),e.spellResult.resourcesGained.food&&e.spellResult.resourcesGained.food>0&&s.jsxs("span",{className:"text-food mr-2",children:["+",N(e.spellResult.resourcesGained.food)," food"]}),e.spellResult.resourcesGained.runes&&e.spellResult.resourcesGained.runes>0&&s.jsxs("span",{className:"text-runes mr-2",children:["+",N(e.spellResult.resourcesGained.runes)," runes"]})]}),e.spellResult.effectApplied&&s.jsxs("div",{className:"text-xs text-cyan-400",children:[e.spellResult.effectApplied,e.spellResult.effectDuration&&` for ${e.spellResult.effectDuration} rounds`]}),e.spellResult.goldStolen&&e.spellResult.goldStolen>0&&s.jsxs("div",{className:"text-xs text-gold",children:["Stole ",N(e.spellResult.goldStolen)," gold!"]}),e.spellResult.troopsDestroyed&&Object.values(e.spellResult.troopsDestroyed).some(p=>p&&p>0)&&s.jsxs("div",{className:"text-xs text-green-400",children:["Destroyed: ",Object.entries(e.spellResult.troopsDestroyed).filter(([,p])=>p&&p>0).map(([p,v])=>`${N(v)} ${ns[p]}`).join(", ")]}),e.spellResult.buildingsDestroyed&&Object.values(e.spellResult.buildingsDestroyed).some(p=>p&&p>0)&&s.jsxs("div",{className:"text-xs text-green-400",children:["Razed: ",Object.entries(e.spellResult.buildingsDestroyed).filter(([,p])=>p&&p>0).map(([p,v])=>`${v} ${zl[p]}`).join(", ")]}),e.spellResult.foodDestroyed&&e.spellResult.foodDestroyed>0&&s.jsxs("div",{className:"text-xs text-green-400",children:["Destroyed ",N(e.spellResult.foodDestroyed)," food"]}),e.spellResult.wizardsLost&&e.spellResult.wizardsLost>0&&s.jsxs("div",{className:"text-xs text-red-400",children:["Lost ",N(e.spellResult.wizardsLost)," wizards"]}),e.spellResult.intel&&s.jsxs("div",{className:"text-xs text-cyan-400",children:["Intel gathered on ",e.spellResult.intel.targetName]})]}),m&&!l&&!a&&s.jsx("p",{className:"text-xs text-cyan-400 mt-2",children:"Tap to view details "}),(l||a)&&s.jsxs("div",{className:"flex gap-2 mt-3",children:[l&&s.jsx("button",{onClick:p=>{p.stopPropagation(),l()},className:"flex-1 py-2 px-3 rounded bg-red-600/80 hover:bg-red-500 text-white text-sm font-display uppercase tracking-wider transition-colors",children:" Same"}),a&&s.jsx("button",{onClick:p=>{p.stopPropagation(),a()},className:"flex-1 py-2 px-3 rounded bg-orange-600/80 hover:bg-orange-500 text-white text-sm font-display uppercase tracking-wider transition-colors",children:" New"}),m&&s.jsx("button",{onClick:p=>{p.stopPropagation(),r==null||r()},className:"py-2 px-3 rounded bg-game-border hover:bg-gray-600 text-gray-300 text-sm transition-colors",children:"Info"})]})]})})}function Wh(e){const t=[],n=e.income-e.expenses+(e.bankInterest||0)-(e.loanInterest||0);n!==0&&t.push({label:"gold",value:Math.abs(n),color:n>0?"text-gold":"text-red-400",prefix:n>0?"+":"-"});const r=e.foodProduction-e.foodConsumption;if(r!==0&&t.push({label:"food",value:Math.abs(r),color:r>0?"text-food":"text-red-400",prefix:r>0?"+":"-"}),e.runeChange!==0&&t.push({label:"runes",value:Math.abs(e.runeChange),color:e.runeChange>0?"text-runes":"text-red-400",prefix:e.runeChange>0?"+":"-"}),e.landGained&&e.landGained>0&&t.push({label:"land",value:e.landGained,color:"text-land",prefix:"+"}),e.troopsProduced){const l=Object.values(e.troopsProduced).reduce((a,i)=>a+(i||0),0);l>0&&t.push({label:"troops",value:l,color:"text-cyan-400",prefix:"+"})}if(e.buildingsConstructed){const l=Object.values(e.buildingsConstructed).reduce((a,i)=>a+(i||0),0);l>0&&t.push({label:"buildings",value:l,color:"text-blue-400",prefix:"+"})}return t.slice(0,4)}function Hh(e){return{explore:"",farm:"",cash:"",meditate:"",industry:"",build:"",demolish:"",attack:"",spell:""}[e]||""}function Qh(e){return{explore:"Explore",farm:"Farm",cash:"Cash",meditate:"Meditate",industry:"Industry",build:"Build",demolish:"Demolish",attack:"Attack",spell:"Spell"}[e]||e}function Yh(e){if(!e||e==="standard")return"";switch(e){case"trparm":return" (Infantry)";case"trplnd":return" (Cavalry)";case"trpfly":return" (Air)";case"trpsea":return" (Naval)";default:return""}}function Kh({news:e,standings:t,playerId:n,playerName:r,onContinue:l}){const a=e.filter(c=>c.targetId===n||c.actorId===n),i=e.filter(c=>c.targetId!==n&&c.actorId!==n),o=[...t].sort((c,u)=>u.networth-c.networth);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"font-display text-xl text-gold",children:"Bot Phase Complete"}),s.jsx("p",{className:"text-sm text-gray-400",children:"The other empires have taken their turns"})]}),s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border overflow-hidden",children:[s.jsx("div",{className:"bg-game-border px-3 py-2",children:s.jsx("h3",{className:"font-display text-sm text-cyan-400 uppercase tracking-wider",children:"Standings"})}),s.jsx("div",{className:"divide-y divide-game-border/50",children:o.map((c,u)=>{const m=c.isEliminated,d=u+1;return s.jsxs("div",{className:P("flex items-center justify-between px-3 py-2",m&&"opacity-50"),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:P("w-6 h-6 flex items-center justify-center rounded-full text-xs font-bold",d===1&&"bg-gold/20 text-gold",d===2&&"bg-gray-400/20 text-gray-300",d===3&&"bg-amber-600/20 text-amber-500",d>3&&"bg-game-border text-gray-500"),children:d}),s.jsxs("span",{className:P("font-display",m?"text-gray-500 line-through":"text-white"),children:[c.name,m&&" "]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-stats text-gold",children:N(c.networth)}),c.networthChange!==0&&s.jsx("div",{className:P("text-xs font-stats",c.networthChange>0?"text-green-400":"text-red-400"),children:Kd(c.networthChange)})]})]},c.id)})})]}),a.length>0&&s.jsxs("div",{className:"bg-game-card rounded-lg border border-red-500/50 overflow-hidden",children:[s.jsx("div",{className:"bg-red-500/20 px-3 py-2",children:s.jsx("h3",{className:"font-display text-sm text-red-400 uppercase tracking-wider",children:"Your Empire"})}),s.jsx("div",{className:"divide-y divide-game-border/50 max-h-[200px] overflow-y-auto",children:a.map((c,u)=>s.jsx(dc,{item:c,playerId:n,playerName:r},u))})]}),a.length===0&&s.jsx("div",{className:"bg-game-card rounded-lg border border-game-border p-4 text-center text-gray-400",children:s.jsx("p",{children:"No attacks or spells targeted your empire this round."})}),i.length>0&&s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border overflow-hidden",children:[s.jsx("div",{className:"bg-game-border px-3 py-2",children:s.jsx("h3",{className:"font-display text-sm text-gray-400 uppercase tracking-wider",children:"World News"})}),s.jsx("div",{className:"divide-y divide-game-border/50 max-h-[150px] overflow-y-auto",children:i.map((c,u)=>s.jsx(dc,{item:c,playerId:n,playerName:r},u))})]}),s.jsx("button",{onClick:l,className:"btn-primary btn-lg w-full",children:"Continue to Next Round"})]})}function dc({item:e,playerId:t}){const n=e.targetId===t,r=e.actorId===t;let l="",a="",i="text-gray-400";if(e.action.type==="attack"){l=e.action.success?"":"";const o=Yh(e.action.attackType);n?e.action.success?(a=`${e.actor} attacked${o} you and took ${N(e.action.landTaken)} land!`,i="text-red-400"):(a=`${e.actor} attacked${o} you but was repelled!`,i="text-green-400"):r?e.action.success?(a=`You attacked${o} ${e.target} and took ${N(e.action.landTaken)} land!`,i="text-green-400"):(a=`Your attack${o} on ${e.target} failed!`,i="text-red-400"):e.action.success?a=`${e.actor} attacked${o} ${e.target} and took ${N(e.action.landTaken)} land`:a=`${e.actor} attacked${o} ${e.target} but was repelled`}else e.action.type==="spell"?(l="",n?e.action.success?(a=`${e.actor} cast ${e.action.spell} on you!`,i="text-red-400"):(a=`${e.actor} tried to cast ${e.action.spell} on you but failed!`,i="text-green-400"):r?e.action.success?(a=`Your ${e.action.spell} spell on ${e.target} succeeded!`,i="text-green-400"):(a=`Your ${e.action.spell} spell on ${e.target} failed!`,i="text-red-400"):e.action.success?a=`${e.actor} cast ${e.action.spell} on ${e.target}`:a=`${e.actor} failed to cast ${e.action.spell} on ${e.target}`):e.action.type==="eliminated"&&(l="",n?(a=`You were eliminated by ${e.action.eliminatedBy}!`,i="text-red-400"):(a=`${e.target} was eliminated by ${e.action.eliminatedBy}!`,i="text-yellow-400"));return s.jsxs("div",{className:"px-3 py-2 flex items-start gap-2",children:[s.jsx("span",{className:"text-lg",children:l}),s.jsx("p",{className:P("text-sm",i),children:a})]})}function qh({stats:e,finalNetworth:t,seed:n,isVictory:r,defeatReason:l,onNewGame:a,onMenu:i}){return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center py-4",children:[s.jsx("div",{className:"text-5xl mb-3",children:r?"":""}),s.jsx("h1",{className:P("font-display text-2xl",r?"text-gold text-glow-gold":"text-red-400"),children:r?"Victory!":"Game Over"}),!r&&l&&s.jsxs("p",{className:"text-gray-400 mt-1",children:[l==="no_land"&&"You lost all your land",l==="no_peasants"&&"Your population collapsed",l==="excessive_loan"&&"Your debt became unsustainable",l==="abandoned"&&"You abandoned your empire"]}),n&&s.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Seed: ",n]})]}),s.jsxs("div",{className:"bg-game-card rounded-lg border border-gold/50 p-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Final Networth"}),s.jsx("div",{className:"font-stats text-3xl text-gold text-glow-gold",children:N(t)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(jt,{label:"Peak Networth",value:N(e.peakNetworth),color:"text-gold"}),s.jsx(jt,{label:"Peak Land",value:N(e.peakLand),color:"text-land"}),s.jsx(jt,{label:"Total Income",value:N(e.totalIncome),color:"text-green-400"}),s.jsx(jt,{label:"Total Expenses",value:N(e.totalExpenses),color:"text-red-400"}),s.jsx(jt,{label:"Attacks Won",value:`${e.totalAttackWins}/${e.totalAttacks}`,color:"text-red-400"}),s.jsx(jt,{label:"Empires Defeated",value:String(e.totalKills),color:"text-red-400"}),s.jsx(jt,{label:"Land Captured",value:N(e.totalLandGained),color:"text-land"}),s.jsx(jt,{label:"Spells Cast",value:String(e.totalSpellsCast),color:"text-runes"})]}),s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("button",{onClick:a,className:"btn-gold btn-lg w-full",children:"New Game"}),s.jsx("button",{onClick:i,className:"btn-secondary btn-lg w-full",children:"Main Menu"})]})]})}function jt({label:e,value:t,color:n}){return s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:e}),s.jsx("div",{className:P("font-stats text-lg",n),children:t})]})}function Xh(e){if(["food_production","income","industry","explore","offense","defense","military","build_cost","spell_cost","market_bonus","magic","rune_production","casualty_reduction","spy_ratio"].includes(e.type)){const n=Math.round(e.modifier*100);return`${n>0?"+":""}${n}% ${e.type.replace(/_/g," ")}`}return["extra_turns","extra_attacks","health_regen"].includes(e.type)?`+${e.modifier} ${e.type.replace(/_/g," ")}`:["permanent_gate","permanent_shield"].includes(e.type)?e.type.replace(/_/g," ").replace(/\b\w/g,n=>n.toUpperCase()):["double_explore","double_bank_interest"].includes(e.type)?`2x ${e.type.replace("double_","").replace(/_/g," ")}`:`${e.modifier} ${e.type.replace(/_/g," ")}`}function Zh({advisors:e,maxAdvisors:t,onDismiss:n,onClose:r}){const[l,a]=w.useState(null),[i,o]=w.useState(null),c=async u=>{a(u);const m=await n(u);a(null),m&&o(null)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"font-display text-lg text-cyan-400",children:" Advisors"}),s.jsxs("span",{className:P("text-sm font-stats",e.length>=t?"text-red-400":"text-gray-400"),children:[e.length,"/",t]})]}),e.length===0&&s.jsxs("div",{className:"bg-game-card rounded-lg border border-game-border p-6 text-center",children:[s.jsx("p",{className:"text-gray-400",children:"No advisors hired yet."}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Draft advisors during the shop phase to gain bonuses."})]}),s.jsx("div",{className:"space-y-2",children:e.map(u=>{const m=i===u.id,d=l===u.id;return s.jsxs("div",{className:P("bg-game-card rounded-lg border p-3 transition-all",m?"border-red-500/50":"border-game-border"),children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:P("font-display",u.rarity==="legendary"?"text-legendary":u.rarity==="rare"?"text-rare":u.rarity==="uncommon"?"text-uncommon":"text-common"),children:u.name}),s.jsx(Hd,{rarity:u.rarity})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:u.description}),s.jsx("div",{className:"text-sm font-stats text-green-400",children:Xh(u.effect)})]}),s.jsx("div",{className:"flex-shrink-0",children:m?s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>c(u.id),disabled:d,className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400 border border-red-500/50 hover:bg-red-500/30",children:d?"...":"Yes"}),s.jsx("button",{onClick:()=>o(null),disabled:d,className:"px-2 py-1 rounded text-xs bg-game-border text-gray-400 hover:bg-game-border/80",children:"No"})]}):s.jsx("button",{onClick:()=>o(u.id),className:"px-2 py-1 rounded text-xs text-gray-500 hover:text-red-400 hover:bg-red-500/10 transition-colors",title:"Dismiss advisor",children:""})})]}),m&&s.jsx("div",{className:"mt-2 pt-2 border-t border-red-500/30 text-xs text-red-400",children:"Dismiss this advisor? This cannot be undone."})]},u.id)})}),e.length>0&&s.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Dismiss advisors to make room for new ones during drafts."}),s.jsx("button",{onClick:r,className:"btn-secondary btn-lg w-full",children:"Close"})]})}function Jh(){var Mi;const e=Fn(),{game:t,bankInfo:n,loading:r,error:l,lastActionResult:a,lastActionType:i,lastBotPhaseResult:o,lastEdictResult:c,clearError:u,clearLastResult:m,clearEdictResult:d,checkActiveGame:x,executeAction:y,endPlayerPhase:p,selectDraft:v,rerollDraft:b,dismissAdvisor:h,endShopPhase:f,marketTransaction:g,fetchBankInfo:j,bankTransaction:E,executeBotPhase:R,resetGame:_,abandonGame:S}=Ti(),[B,k]=w.useState("main"),[W,K]=w.useState(null),[G,z]=w.useState(null),[$,ae]=w.useState(null),[Le,I]=w.useState(null),[A,T]=w.useState(!1),[D,H]=w.useState(!1),[pe,O]=w.useState(!1);if(w.useEffect(()=>{x()},[x]),w.useEffect(()=>{t.gameId&&j()},[t.gameId,j]),w.useEffect(()=>{var q,at,me,yt;t.isComplete||t.playerDefeated||((q=t.round)==null?void 0:q.phase)==="complete"?k("game_over"):((at=t.round)==null?void 0:at.phase)==="shop"&&t.draftOptions?k("draft"):((me=t.round)==null?void 0:me.phase)==="bot"?k("bot_phase"):((yt=t.round)==null?void 0:yt.phase)==="player"&&(o||k("main"))},[(Mi=t.round)==null?void 0:Mi.phase,t.draftOptions,t.isComplete,t.playerDefeated,o]),w.useEffect(()=>{a&&(T(!0),H(!1))},[a]),!t.gameId||!t.playerEmpire||!t.round)return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs(Se,{className:"max-w-sm w-full text-center",children:[s.jsx("p",{className:"text-gray-400 mb-4",children:"No active game found."}),s.jsx("button",{onClick:()=>e("/"),className:"btn-primary btn-lg w-full",children:"Go to Menu"})]})});const{playerEmpire:M,round:F,botEmpires:ue,intel:et,marketPrices:gt,effectivePrices:zr,shopStock:Dr,draftOptions:Bt,rerollInfo:al}=t,Jd=async(q,at,me)=>{await y({action:q,turns:at,taxRate:me==null?void 0:me.taxRate,industryAllocation:me==null?void 0:me.industryAllocation})},ef=async q=>{await y({action:"build",turns:1,buildingAllocation:q})},tf=async q=>{await y({action:"demolish",turns:1,demolishAllocation:q})},nf=q=>{z(q),k("target_select")},rf=async q=>{G?(ae(G),I(q),await y({action:"attack",turns:2,targetId:q,attackType:G}),z(null)):W&&(await y({action:"spell",turns:1,spell:W,spellTargetId:q}),K(null))},sf=async q=>{await y({action:"spell",turns:1,spell:q})},lf=q=>{K(q),k("target_select")},af=async()=>{await p()},of=async q=>{await v(q)},cf=async()=>{const q=await f();q==="bot"?(await R(),k("bot_phase")):q==="player"&&k("main")},uf=()=>{m(),t.isComplete||t.playerDefeated?k("game_over"):k("main")},df=()=>{switch(B){case"building":return s.jsx(Th,{freeLand:M.resources.freeland,gold:M.resources.gold,landTotal:M.resources.land,turnsRemaining:F.turnsRemaining,currentBuildings:M.buildings,empire:M,onBuild:ef,onDemolish:tf,onCancel:()=>k("main")});case"market":return s.jsx(ac,{empire:M,phase:F.phase,marketPrices:gt,effectivePrices:zr,shopStock:Dr,onTransaction:g,onClose:()=>k(F.phase==="shop"?"draft":"main")});case"bank":return n?s.jsx(Ih,{empire:M,bankInfo:n,onTransaction:E,onClose:()=>k(F.phase==="shop"?"draft":"main")}):s.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading bank info..."});case"enemies":return s.jsx(oc,{bots:ue,intel:et,currentRound:F.number,playerEra:M.era,hasActiveGate:M.gateExpiresRound!==null&&M.gateExpiresRound>=F.number,onClose:()=>k("main")});case"spell_select":return s.jsx(cc,{runes:M.resources.runes,wizards:M.troops.trpwiz,era:M.era,eraChangedRound:M.eraChangedRound,currentRound:F.number,health:M.health,spellCosts:M.spellCosts,mode:"self",onSelect:sf,onCancel:()=>k("main")});case"offensive_spell_select":return s.jsx(cc,{runes:M.resources.runes,wizards:M.troops.trpwiz,era:M.era,eraChangedRound:M.eraChangedRound,currentRound:F.number,health:M.health,spellCosts:M.spellCosts,mode:"offensive",onSelect:lf,onCancel:()=>k("attack_type")});case"attack_type":{const at=10+M.advisors.filter(yt=>yt.effect.type==="extra_attacks").reduce((yt,gf)=>yt+gf.effect.modifier,0),me=at-M.attacksThisRound;return s.jsx(Oh,{attacksRemaining:me,maxAttacks:at,onSelect:nf,onSpell:()=>k("offensive_spell_select"),onCancel:()=>k("main")})}case"target_select":return s.jsx(oc,{bots:ue,intel:et,currentRound:F.number,playerEra:M.era,hasActiveGate:M.gateExpiresRound!==null&&M.gateExpiresRound>=F.number,selectable:!0,onSelect:rf,onClose:()=>{W?(K(null),k("offensive_spell_select")):(z(null),k("attack_type"))}});case"action_result":return a&&i?s.jsx(uc,{result:a,action:i,onClose:()=>{m(),H(!1),k("main")}}):null;case"advisors":return s.jsx(Zh,{advisors:M.advisors,maxAdvisors:3+M.bonusAdvisorSlots,onDismiss:h,onClose:()=>k(F.phase==="shop"?"draft":"main")});case"draft":return s.jsxs(s.Fragment,{children:[c&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-game-card border-2 border-gold rounded-lg p-6 max-w-sm w-full text-center animate-in fade-in zoom-in duration-200",children:[s.jsx("h3",{className:"font-display text-lg text-gold mb-2",children:c.edictName}),s.jsx("p",{className:"text-white mb-4",children:c.message}),s.jsx("button",{onClick:d,className:"btn-primary btn-md",children:"Continue"})]})}),s.jsxs("div",{className:"space-y-6",children:[Bt&&Bt.length>0&&s.jsx($h,{options:Bt,rerollInfo:al,masteryLevels:M.techs,extraPicks:M.extraDraftPicks,onSelect:of,onReroll:b,onAdvisors:()=>k("advisors")}),(!Bt||Bt.length===0)&&s.jsxs("div",{className:"bg-game-card rounded-lg p-4 border border-game-border text-center",children:[s.jsx("p",{className:"text-gray-400",children:"No more draft picks available"}),s.jsx("button",{onClick:()=>k("advisors"),className:"btn-secondary btn-sm mt-2",children:" Manage Advisors"})]}),F.turnsRemaining===0&&s.jsx("div",{className:"border-t border-game-border pt-4",children:s.jsx(ac,{empire:M,phase:F.phase,marketPrices:gt,effectivePrices:zr,shopStock:Dr,onTransaction:g,onClose:()=>{},embedded:!0})}),s.jsx("button",{onClick:cf,className:"btn-secondary btn-lg w-full",children:F.turnsRemaining>0?" Start Player Phase":" Advance to Bot Phase"})]})]});case"bot_phase":return o?s.jsx(Kh,{news:o.news,standings:o.standings,playerId:M.id,playerName:M.name,onContinue:uf}):s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"animate-pulse text-cyan-400 text-lg",children:"Processing bot turns..."})});case"game_over":return t.stats?s.jsx(qh,{stats:t.stats,finalNetworth:M.networth,seed:t.seed,isVictory:t.isComplete&&!t.playerDefeated,defeatReason:t.playerDefeated||void 0,onNewGame:()=>{_(),e("/")},onMenu:()=>{_(),e("/")}}):null;case"main":default:return s.jsxs(s.Fragment,{children:[s.jsx(qd,{empire:M,round:F}),F.phase==="player"&&s.jsx("div",{className:"mt-4",children:s.jsx(kh,{turnsRemaining:F.turnsRemaining,health:M.health,taxRate:M.taxRate,industryAllocation:M.industryAllocation,troops:M.troops,buildings:M.buildings,disabled:r,onExecute:Jd,onBuild:()=>k("building"),onAttack:()=>k("attack_type"),onSpell:()=>k("spell_select"),onMarket:()=>k("market"),onBank:()=>{j(),k("bank")},onEnemies:()=>k("enemies"),onOverview:()=>e("/overview"),onGuide:()=>e("/guide"),onEndPhase:af,onAbandon:()=>O(!0)})})]})}},ff=()=>{T(!1),m()},pf=async()=>{$&&Le&&(T(!1),m(),await y({action:"attack",turns:2,targetId:Le,attackType:$}))},mf=()=>{T(!1),m(),$?(z($),k("target_select")):k("attack_type")},xf=()=>{T(!1),H(!0),k("action_result")},hf=async()=>{await S(),O(!1),e("/")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[l&&s.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:s.jsxs("div",{className:"bg-red-500/90 text-white px-4 py-3 rounded-lg flex justify-between items-center max-w-md mx-auto",children:[s.jsx("span",{children:l}),s.jsx("button",{onClick:u,className:"ml-2 text-xl",children:""})]})}),A&&a&&i&&(()=>{const q=i==="attack"&&F.turnsRemaining>=2&&M.attacksThisRound<10+M.advisors.filter(me=>me.effect.type==="extra_attacks").reduce((me,yt)=>me+yt.effect.modifier,0),at=Le&&ue.some(me=>me.id===Le&&me.land>0);return s.jsx(Vh,{result:a,action:i,onDismiss:ff,onViewDetails:xf,onAttackSameTarget:q&&at?pf:void 0,onAttackNewTarget:q?mf:void 0,autoHideMs:i==="attack"||i==="spell"?1e4:5e3})})(),D&&a&&i&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-game-panel border border-game-border rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto p-4",children:s.jsx(uc,{result:a,action:i,onClose:()=>{m(),H(!1),k("main")}})})}),r&&B!=="bot_phase"&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-40",children:s.jsx("div",{className:"bg-game-panel px-6 py-4 rounded-lg border border-game-border",children:s.jsx("div",{className:"animate-pulse text-cyan-400",children:"Processing..."})})}),pe&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-game-card border-2 border-red-500/50 rounded-lg p-6 max-w-sm w-full text-center animate-in fade-in zoom-in duration-200",children:[s.jsx("div",{className:"text-4xl mb-3",children:""}),s.jsx("h3",{className:"font-display text-lg text-red-400 mb-2",children:"Abandon Game?"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Your empire will be lost and this run will not be added to the leaderboard."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 py-2 px-4 rounded-lg bg-game-border text-gray-300 hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:hf,className:"flex-1 py-2 px-4 rounded-lg bg-red-600 text-white hover:bg-red-500 transition-colors",children:"Abandon"})]})]})}),s.jsx("main",{className:"flex-1 p-2 sm:p-4 overflow-auto",children:df()})]})}function eg(){const e=Fn(),{game:t,checkActiveGame:n}=Ti(),{playerEmpire:r,round:l}=t;return w.useEffect(()=>{n()},[n]),w.useEffect(()=>{t.gameId||e("/")},[t.gameId,e]),!r||!l?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-cyan-400",children:"Loading..."})}):s.jsx("div",{className:"min-h-screen flex flex-col",children:s.jsx("main",{className:"flex-1 p-4 overflow-auto",children:s.jsx(qd,{empire:r,round:l,expanded:!0,onClose:()=>e("/game")})})})}const qn="promisance-rogue-session";class tg{constructor(t=""){an(this,"baseUrl");an(this,"sessionId",null);this.baseUrl=t,this.loadSession()}loadSession(){if(typeof window<"u"){const t=localStorage.getItem(qn);if(t)try{const n=JSON.parse(t);n.sessionId&&n.expiresAt>Date.now()?this.sessionId=n.sessionId:localStorage.removeItem(qn)}catch{localStorage.removeItem(qn)}}}saveSession(t,n){typeof window<"u"&&localStorage.setItem(qn,JSON.stringify({sessionId:t,expiresAt:n}))}setSession(t){this.sessionId=t}getSession(){return this.sessionId}clearSession(){this.sessionId=null,typeof window<"u"&&localStorage.removeItem(qn)}async request(t,n,r){const l={"Content-Type":"application/json"};this.sessionId&&(l.Authorization=`Bearer ${this.sessionId}`);const a=await fetch(`${this.baseUrl}${n}`,{method:t,headers:l,body:r?JSON.stringify(r):void 0});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Error(i.error||`HTTP ${a.status}`)}return a.json()}async createPlayer(t){const n=await this.request("POST","/api/auth/anonymous",{displayName:t});return this.sessionId=n.sessionId,this.saveSession(n.sessionId,n.expiresAt),n}async getMe(){return this.request("GET","/api/auth/me")}async newGame(t,n,r){return this.request("POST","/api/game/new",{empireName:t,race:n,seed:r})}async getCurrentGame(){return this.request("GET","/api/game/current")}async getGame(t){return this.request("GET",`/api/game/${t}`)}async abandonGame(){return this.request("POST","/api/game/abandon")}async executeAction(t,n){return this.request("POST",`/api/game/${t}/action`,n)}async getCombatPreview(t,n){return this.request("GET",`/api/game/${t}/combat-preview/${n}`)}async endPlayerPhase(t){return this.request("POST",`/api/game/${t}/end-player-phase`)}async marketTransaction(t,n){return this.request("POST",`/api/game/${t}/market`,n)}async selectDraft(t,n){return this.request("POST",`/api/game/${t}/draft`,{optionIndex:n})}async getRerollInfo(t){return this.request("GET",`/api/game/${t}/reroll`)}async rerollDraft(t){return this.request("POST",`/api/game/${t}/reroll`)}async dismissAdvisor(t,n){return this.request("POST",`/api/game/${t}/dismiss-advisor`,{advisorId:n})}async endShopPhase(t){return this.request("POST",`/api/game/${t}/end-shop-phase`)}async getBankInfo(t){return this.request("GET",`/api/game/${t}/bank`)}async bankTransaction(t,n){return this.request("POST",`/api/game/${t}/bank`,n)}async updateSettings(t,n){return this.request("POST",`/api/game/${t}/settings`,n)}async executeBotPhase(t){return this.request("POST",`/api/game/${t}/bot-phase`)}async getLeaderboard(t){const n=new URLSearchParams;t&&n.set("timeframe",t);const r=n.toString();return(await this.request("GET",`/api/leaderboard${r?`?${r}`:""}`)).entries}async getMyRank(){return this.request("GET","/api/leaderboard/rank")}async health(){return this.request("GET","/health")}}const ng=new tg(""),rg={human:"text-gray-300",elf:"text-runes",dwarf:"text-amber-400",troll:"text-red-400",gnome:"text-gold",gremlin:"text-food",orc:"text-orange-400",drow:"text-purple-400",goblin:"text-lime-400"};function sg(){const e=Fn(),[t,n]=w.useState([]),[r,l]=w.useState(!0),[a,i]=w.useState(null),[o,c]=w.useState("all");w.useEffect(()=>{u()},[o]);const u=async()=>{l(!0),i(null);try{const d=await ng.getLeaderboard(o==="all"?void 0:o);n(d)}catch(d){i(d instanceof Error?d.message:"Failed to load leaderboard"),n([])}finally{l(!1)}},m=d=>d===1?{icon:"",color:"text-gold"}:d===2?{icon:"",color:"text-gray-300"}:d===3?{icon:"",color:"text-amber-600"}:{icon:String(d),color:"text-gray-500"};return s.jsxs("div",{className:"min-h-screen flex flex-col p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"font-display text-2xl text-gold",children:"Leaderboard"}),s.jsx("button",{onClick:()=>e("/"),className:"btn-secondary btn-sm",children:"Back"})]}),s.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:[s.jsx("button",{onClick:()=>c("all"),className:P("btn-sm whitespace-nowrap",o==="all"?"btn-primary":"btn-secondary"),children:"All Time"}),s.jsx("button",{onClick:()=>c("weekly"),className:P("btn-sm whitespace-nowrap",o==="weekly"?"btn-primary":"btn-secondary"),children:"This Week"}),s.jsx("button",{onClick:()=>c("daily"),className:P("btn-sm whitespace-nowrap",o==="daily"?"btn-primary":"btn-secondary"),children:"Today"})]}),a&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 mb-4 text-red-400 text-sm",children:[a,s.jsx("button",{onClick:u,className:"ml-2 underline",children:"Retry"})]}),r&&s.jsx(Se,{children:s.jsx("div",{className:"text-center py-8 text-cyan-400 animate-pulse",children:"Loading leaderboard..."})}),!r&&t.length===0&&s.jsx(Se,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("p",{className:"text-gray-400",children:"No games completed yet."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Be the first to complete a game and claim the top spot!"}),s.jsx("button",{onClick:()=>e("/"),className:"btn-gold btn-md mt-4",children:"Start Playing"})]})}),!r&&t.length>0&&s.jsx(Se,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-game-border",children:[s.jsx("th",{className:"text-left py-2 px-2 text-cyan-400 font-display",children:"#"}),s.jsx("th",{className:"text-left py-2 px-2 text-cyan-400 font-display",children:"Empire"}),s.jsx("th",{className:"text-left py-2 px-2 text-cyan-400 font-display hidden sm:table-cell",children:"Race"}),s.jsx("th",{className:"text-right py-2 px-2 text-cyan-400 font-display",children:"Net Worth"}),s.jsx("th",{className:"text-center py-2 px-2 text-cyan-400 font-display hidden sm:table-cell",children:"Rounds"})]})}),s.jsx("tbody",{children:t.map((d,x)=>{const y=x+1,p=m(y);return s.jsxs("tr",{className:P("border-b border-game-border/50 transition-colors hover:bg-game-card/50",y<=3&&"bg-game-card/30"),children:[s.jsx("td",{className:P("py-3 px-2",p.color),children:y<=3?s.jsx("span",{className:"text-lg",children:p.icon}):s.jsx("span",{className:"text-gray-500",children:y})}),s.jsxs("td",{className:"py-3 px-2",children:[s.jsx("div",{className:"font-display text-white",children:d.playerName}),s.jsxs("div",{className:"text-xs text-gray-500 sm:hidden",children:[d.race,"  ",d.roundsCompleted,"/10 rounds"]})]}),s.jsx("td",{className:P("py-3 px-2 hidden sm:table-cell",rg[d.race]),children:d.race.charAt(0).toUpperCase()+d.race.slice(1)}),s.jsx("td",{className:"py-3 px-2 text-right",children:s.jsx("span",{className:"font-stats text-gold",children:N(d.finalNetworth)})}),s.jsx("td",{className:"py-3 px-2 text-center hidden sm:table-cell",children:s.jsxs("span",{className:P(d.roundsCompleted===10?"text-green-400":"text-yellow-400"),children:[d.roundsCompleted,"/10"]})})]},d.id)})})]})})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:"text-gray-500 text-xs",children:"Rankings based on final net worth  Completing all 10 rounds earns bonus ranking"})}),!r&&t.length>0&&s.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Total Games"}),s.jsx("div",{className:"font-stats text-lg text-cyan-400",children:t.length})]}),s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Top Score"}),s.jsx("div",{className:"font-stats text-lg text-gold",children:t.length>0?N(t[0].finalNetworth):""})]}),s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Victories"}),s.jsx("div",{className:"font-stats text-lg text-green-400",children:t.filter(d=>d.roundsCompleted===10).length})]})]})]})}function lg(){const e=Fn(),[t,n]=w.useState("overview"),r=[{id:"overview",title:"Game Overview",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsxs("p",{children:[s.jsx("strong",{className:"text-gold",children:"Promisance Rogue"})," is a roguelike turn-based strategy game where you build and manage an empire across 10 rounds."]}),s.jsxs("div",{className:"bg-game-dark rounded p-3 space-y-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"text-cyan-400",children:"Goal:"})," Build the most powerful empire by maximizing your net worth, or eliminate all opponents."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-cyan-400",children:"Turns:"})," You have 50 turns per round to take actions - explore, build, farm, and fight."]}),s.jsxs("p",{children:[s.jsx("span",{className:"text-cyan-400",children:"Opponents:"})," 4 AI-controlled empires compete against you with unique personalities."]})]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Each game is unique - bot strategies, market prices, and draft options change every run."})]})},{id:"phases",title:"Game Phases",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsx("p",{children:"Each round consists of three phases:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-game-dark rounded p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-cyan-400 font-display",children:"1. Player Phase"}),s.jsx("span",{className:"text-xs text-gray-500",children:"(50 turns)"})]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Use your turns to take actions: explore land, collect resources, build structures, train troops, and attack enemies."})]}),s.jsxs("div",{className:"bg-game-dark rounded p-3",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-gold font-display",children:"2. Shop Phase"})}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Trade at the market and choose a bonus from the draft. Buy/sell resources and recruit powerful advisors or unlock technologies."})]}),s.jsxs("div",{className:"bg-game-dark rounded p-3",children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-red-400 font-display",children:"3. Bot Phase"})}),s.jsx("p",{className:"text-gray-400 text-xs",children:"AI empires take their turns. They may attack you! Check the news to see what happened and prepare for the next round."})]})]})]})},{id:"actions",title:"Turn Actions",icon:"",content:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{className:"text-gray-400 mb-3",children:"Each action costs turns. Choose wisely!"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-land",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-land font-display",children:"Explore"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Discover new land for your empire"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-food",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-food font-display",children:"Farm"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Boost food production this turn"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-gold",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gold font-display",children:"Cash"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Collect taxes from your population"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-blue-400",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-400 font-display",children:"Build"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Construct buildings on free land"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-cyan-400",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-cyan-400 font-display",children:"Industry"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Produce military troops"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-runes",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-runes font-display",children:"Meditate"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(1 turn)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Generate magical runes"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-red-400",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-red-400 font-display",children:"Attack"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(2 turns)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Assault enemy empires to capture land"})]})]}),s.jsxs("div",{className:"flex items-start gap-2 bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-runes",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-runes font-display",children:"Spell"}),s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(2 turns)"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Cast magical spells on yourself or enemies"})]})]})]})]})},{id:"buildings",title:"Buildings",icon:"",content:s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{className:"text-gray-400 mb-3",children:"Buildings require free land and gold to construct."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Homes"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"House population (peasants) who pay taxes"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Markets"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Generate income each turn"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Barracks"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Produce military troops during Industry"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Forges"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Reduce building costs"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Farms"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Produce food to feed your population"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Towers"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Train wizards and boost magic power"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-white font-display",children:"Walls"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Defensive fortifications against attacks"})]})]})]})},{id:"eras",title:"Eras",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsx("p",{children:"Eras represent different time periods with unique bonuses:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-era-past/10 border border-era-past/30 rounded p-3",children:[s.jsx("span",{className:"text-era-past font-display",children:"Past Era"}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 space-y-1",children:[s.jsx("p",{className:"text-green-400",children:"+20% magic power, +10% rune production"}),s.jsx("p",{className:"text-red-400",children:"-5% economy, -10% industry"})]})]}),s.jsxs("div",{className:"bg-era-present/10 border border-era-present/30 rounded p-3",children:[s.jsx("span",{className:"text-era-present font-display",children:"Present Era"}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 space-y-1",children:[s.jsx("p",{className:"text-green-400",children:"+15% food, +5% industry, +20% exploration"}),s.jsx("p",{className:"text-gray-400",children:"Balanced starting era"})]})]}),s.jsxs("div",{className:"bg-era-future/10 border border-era-future/30 rounded p-3",children:[s.jsx("span",{className:"text-era-future font-display",children:"Future Era"}),s.jsxs("div",{className:"text-xs text-gray-400 mt-1 space-y-1",children:[s.jsx("p",{className:"text-green-400",children:"+15% economy, +15% industry, +40% exploration"}),s.jsx("p",{className:"text-red-400",children:"-10% magic power"})]})]})]}),s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded p-2 text-xs",children:[s.jsx("span",{className:"text-yellow-400",children:"Important:"})," You can only attack empires in the same era unless you use the Gate spell!"]})]})},{id:"combat",title:"Combat",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsx("p",{children:"Attacks cost 2 turns and 5-6 health."}),s.jsxs("div",{className:"bg-game-dark rounded p-3 space-y-2",children:[s.jsx("p",{className:"text-cyan-400 font-display text-xs",children:"HOW COMBAT WORKS"}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Your offensive power must exceed the defender's defensive power by 5% to win. On victory, you capture land and buildings from the defender."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-gray-400 text-xs",children:"Attack Types:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"bg-game-dark rounded p-2 text-xs",children:[s.jsx("span",{className:"text-white",children:"Standard"}),s.jsx("p",{className:"text-gray-500",children:"All units, +15% land"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 text-xs",children:[s.jsx("span",{className:"text-white",children:"Infantry"}),s.jsx("p",{className:"text-gray-500",children:"Ground troops only"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 text-xs",children:[s.jsx("span",{className:"text-white",children:"Cavalry"}),s.jsx("p",{className:"text-gray-500",children:"Mounted units only"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 text-xs",children:[s.jsx("span",{className:"text-white",children:"Air"}),s.jsx("p",{className:"text-gray-500",children:"Flying units only"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 text-xs",children:[s.jsx("span",{className:"text-white",children:"Naval"}),s.jsx("p",{className:"text-gray-500",children:"Sea units only"})]})]})]}),s.jsx("p",{className:"text-red-400 text-xs",children:"Warning: Losing attacks damages your health. At 0 health you'll be weaker!"})]})},{id:"spells",title:"Spells",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsx("p",{children:"Spells cost runes and require wizards. Cast on yourself or enemies."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-cyan-400 font-display text-xs",children:"SELF SPELLS"}),s.jsxs("div",{className:"grid gap-1 text-xs",children:[s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Shield"}),s.jsx("span",{className:"text-gray-500",children:"Block incoming spell damage"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Food/Cash/Runes"}),s.jsx("span",{className:"text-gray-500",children:"Generate resources"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Gate"}),s.jsx("span",{className:"text-gray-500",children:"Attack any era this round"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Advance/Regress"}),s.jsx("span",{className:"text-gray-500",children:"Change your era"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-red-400 font-display text-xs",children:"OFFENSIVE SPELLS"}),s.jsxs("div",{className:"grid gap-1 text-xs",children:[s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Spy"}),s.jsx("span",{className:"text-gray-500",children:"Reveal enemy stats"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Blast"}),s.jsx("span",{className:"text-gray-500",children:"Destroy enemy troops"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Storm"}),s.jsx("span",{className:"text-gray-500",children:"Destroy food and gold"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Struct"}),s.jsx("span",{className:"text-gray-500",children:"Destroy buildings"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Steal"}),s.jsx("span",{className:"text-gray-500",children:"Take enemy gold"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2 flex justify-between",children:[s.jsx("span",{className:"text-white",children:"Fight"}),s.jsx("span",{className:"text-gray-500",children:"Magical assault for land"})]})]})]})]})},{id:"races",title:"Races",icon:"",content:s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{className:"text-gray-400 mb-3",children:"Each race has unique bonuses and penalties:"}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-gray-300 font-display",children:"Human"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Balanced, no modifiers"})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-runes font-display",children:"Elf"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+10% Magic, +10% Runes"}),"  ",s.jsx("span",{className:"text-red-400",children:"-10% Military, -5% Food"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-amber-400 font-display",children:"Dwarf"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+15% Defense, -10% Build Cost"}),"  ",s.jsx("span",{className:"text-red-400",children:"-10% Explore"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-red-400 font-display",children:"Troll"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+15% Offense, +10% Explore"}),"  ",s.jsx("span",{className:"text-red-400",children:"-10% Income"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-gold font-display",children:"Gnome"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+15% Income, +10% Market"}),"  ",s.jsx("span",{className:"text-red-400",children:"-10% Military"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-food font-display",children:"Gremlin"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+20% Food, +5% Peasants"}),"  ",s.jsx("span",{className:"text-red-400",children:"-5% Magic"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-orange-400 font-display",children:"Orc"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+15% Explore, +10% Offense"}),"  ",s.jsx("span",{className:"text-red-400",children:"-15% Defense"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-purple-400 font-display",children:"Drow"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+10% Magic, +10% Offense"}),"  ",s.jsx("span",{className:"text-red-400",children:"-5% Food, -5% Defense"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-2",children:[s.jsx("span",{className:"text-lime-400 font-display",children:"Goblin"}),s.jsxs("p",{className:"text-xs",children:[s.jsx("span",{className:"text-green-400",children:"+15% Industry, +5% Explore"}),"  ",s.jsx("span",{className:"text-red-400",children:"-10% Defense"})]})]})]})]})},{id:"tips",title:"Strategy Tips",icon:"",content:s.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[s.jsxs("div",{className:"bg-game-dark rounded p-3 space-y-2",children:[s.jsx("p",{className:"text-gold font-display text-xs",children:"EARLY GAME"}),s.jsxs("ul",{className:"text-gray-400 text-xs space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Focus on exploring to gain land quickly"}),s.jsx("li",{children:"Build homes first to grow your population"}),s.jsx("li",{children:"Don't neglect farms - you need food to survive"}),s.jsx("li",{children:"Use the market to buy what you need"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-3 space-y-2",children:[s.jsx("p",{className:"text-cyan-400 font-display text-xs",children:"MID GAME"}),s.jsxs("ul",{className:"text-gray-400 text-xs space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Balance economy buildings with military"}),s.jsx("li",{children:"Use Spy spell to scout targets before attacking"}),s.jsx("li",{children:"Pick advisors that match your strategy"}),s.jsx("li",{children:"Watch out for aggressive bots!"})]})]}),s.jsxs("div",{className:"bg-game-dark rounded p-3 space-y-2",children:[s.jsx("p",{className:"text-red-400 font-display text-xs",children:"LATE GAME"}),s.jsxs("ul",{className:"text-gray-400 text-xs space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Attack weakened enemies to steal their land"}),s.jsx("li",{children:"Stack defensive bonuses if you're ahead"}),s.jsx("li",{children:"Convert resources to net worth efficiently"}),s.jsx("li",{children:"Don't forget about era restrictions!"})]})]})]})}];return s.jsxs("div",{className:"min-h-screen flex flex-col p-4 pb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"font-display text-2xl text-gold",children:"Game Guide"}),s.jsx("button",{onClick:()=>e(-1),className:"btn-secondary btn-sm",children:" Back"})]}),s.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 scrollbar-hide",children:r.map(l=>s.jsxs("button",{onClick:()=>n(l.id),className:P("px-3 py-1 rounded whitespace-nowrap text-sm transition-all",t===l.id?"bg-cyan-400/20 text-cyan-400 border border-cyan-400/50":"bg-game-card text-gray-400 border border-game-border hover:text-white"),children:[l.icon," ",l.title]},l.id))}),s.jsx("div",{className:"space-y-2 flex-1",children:r.map(l=>s.jsxs(Se,{className:"overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(t===l.id?null:l.id),className:P("w-full text-left font-display uppercase tracking-wider","flex justify-between items-center",t===l.id?"text-cyan-400":"text-gray-300"),children:[s.jsxs("span",{children:[l.icon," ",l.title]}),s.jsx("span",{className:"text-sm",children:t===l.id?"":""})]}),t===l.id&&s.jsx("div",{className:"mt-3 pt-3 border-t border-game-border",children:l.content})]},l.id))}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:"text-gray-500 text-xs",children:"Press any section to expand  Swipe horizontally for quick navigation"})})]})}function ag(){const{theme:e,initTheme:t}=Qd();return w.useEffect(()=>{t()},[t]),w.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]),s.jsx("div",{className:"min-h-screen bg-bg-primary text-text-primary transition-colors duration-200",children:s.jsxs($x,{children:[s.jsx(Wt,{path:"/",element:s.jsx(Nh,{})}),s.jsx(Wt,{path:"/game",element:s.jsx(Jh,{})}),s.jsx(Wt,{path:"/overview",element:s.jsx(eg,{})}),s.jsx(Wt,{path:"/leaderboard",element:s.jsx(sg,{})}),s.jsx(Wt,{path:"/guide",element:s.jsx(lg,{})}),s.jsx(Wt,{path:"*",element:s.jsx(Dx,{to:"/",replace:!0})})]})})}Dl.createRoot(document.getElementById("root")).render(s.jsx(Da.StrictMode,{children:s.jsx(Ux,{children:s.jsx(ag,{})})}));
